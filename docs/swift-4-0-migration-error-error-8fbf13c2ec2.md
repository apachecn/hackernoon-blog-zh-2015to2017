# Swift 4.0 è¿ç§»â€”é”™è¯¯..ï¼ï¼é”™è¯¯..ï¼ï¼

> åŸæ–‡ï¼š<https://medium.com/hackernoon/swift-4-0-migration-error-error-8fbf13c2ec2>

æ‹…å¿ƒçš„..ï¼Ÿä»Šå¤©ä¸è¡Œ..ğŸ˜

![](img/91b9e60d2b23e078b433c0c9b4695400.png)

æ—¢ç„¶ Swift 4 å·²ç»åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è¿Ÿæ—©è¦è¿ç§»æˆ‘ä»¬çš„ä»£ç ã€‚

æ—©äº›æ—¶å€™ï¼Œå½“é›¨ç‡• 3 å·æŠµè¾¾âš”ï¸.æ—¶ï¼Œè¿ç§»ä¼¼ä¹æ˜¯ä¸€é¡¹å•è°ƒä¹å‘³çš„ä»»åŠ¡ *Swift 3* åŒ…å«äº†ä¸€äº›éå¸¸é‡å¤§çš„ API å˜åŒ–ã€‚å½“ç„¶ï¼Œ *Apple* ä¸ºæˆ‘ä»¬æä¾›äº† migrator å·¥å…·æ¥å‡å°‘äººå·¥å¼€é”€ï¼Œä½†æ­£å¦‚æˆ‘ä»¬æ‰€è¯´çš„ï¼Œæ— è®ºæˆ‘ä»¬å¦‚ä½•åŠªåŠ›ï¼Œæ€»ä¼šç•™ä¸‹ä¸€äº›æ¼æ´ã€‚å³ä½¿åœ¨ swift migrator å·¥å…·å®Œæˆäº†å¤§éƒ¨åˆ†å·¥ä½œä¹‹åï¼Œå¼€å‘äººå‘˜è‡ªå·±ä»æœ‰è®¸å¤šå·¥ä½œè¦åšğŸ˜°ã€‚

ç°åœ¨æˆ‘ä»¬åˆè¦å¤„ç†å¦ä¸€ä¸ªè¿™æ ·çš„è¿ç§»ğŸ¤¢ã€‚ä½†æ˜¯ä¸è¦æ‹…å¿ƒï¼Œè¿™æ¬¡æ²¡æœ‰ä»¥å‰é‚£ä¹ˆéš¾äº†ã€‚ç°æœ‰çš„ API å¹¶æ²¡æœ‰å¤ªå¤šå¤§çš„å˜åŒ–ã€‚è™½ç„¶ï¼Œä¸€äº›æ–°çš„ API è‚¯å®šä¼šæ·»åŠ åˆ°æ¡†æ¶ä¸­ï¼Œä½†è¿™ä¸æ˜¯æˆ‘ä»¬ç°åœ¨å…³å¿ƒçš„ã€‚æˆ‘ä»¬ç›®å‰å”¯ä¸€å…³æ³¨çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨æ›´æ”¹åçš„ API çš„ä»£ç ä¸­è¿›è¡Œå“ªäº›æ›´æ”¹ã€‚

# æˆ‘ä»¬å¼€å§‹å§..ï¼ï¼ï¼ğŸš€

è®©æˆ‘ä»¬çœ‹çœ‹åœ¨å°†æ‚¨çš„ä»£ç è¿ç§»åˆ° Swift 4.0 æ—¶å¯èƒ½å‡ºç°çš„ä¸»è¦é”™è¯¯å’Œè­¦å‘Šã€‚

## 1.@objc æ¨æ–­

> åœ¨ Swift 4 ä¹‹å‰ï¼Œç¼–è¯‘å™¨å°†ä¸€äº› **Swift å£°æ˜è‡ªåŠ¨æä¾›ç»™ Objective-C** ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä» NSObject æ´¾ç”Ÿå‡ºä¸€ä¸ªå­ç±»ï¼Œç¼–è¯‘å™¨ä¼šä¸ºè¿™ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•åˆ›å»º Objective-C å…¥å£ç‚¹ã€‚è¯¥æœºåˆ¶è¢«ç§°ä¸º@objc æ¨ç†ã€‚
> 
> **åœ¨ Swift 4 ä¸­ï¼Œè¿™ç§è‡ªåŠ¨@objc æ¨ç†è¢«å¼ƒç”¨**,å› ä¸ºç”Ÿæˆæ‰€æœ‰è¿™äº› Objective-C å…¥å£ç‚¹çš„æˆæœ¬å¾ˆé«˜ã€‚å½“â€œSwift 3 @objc æ¨è®ºâ€è®¾ç½®ä¸ºâ€œå¼€â€æ—¶ï¼Œå…è®¸æ—§ä»£ç å·¥ä½œã€‚ä½†æ˜¯ï¼Œå®ƒä¼šæ˜¾ç¤ºéœ€è¦è§£å†³çš„å¼ƒç”¨è­¦å‘Šã€‚å»ºè®®â€œä¿®å¤â€è¿™äº›è­¦å‘Šï¼Œå¹¶å°†**è®¾ç½®åˆ‡æ¢ä¸ºâ€œé»˜è®¤â€**ï¼Œè¿™æ˜¯æ–° Swift é¡¹ç›®çš„é»˜è®¤è®¾ç½®ã€‚

æˆ‘é¢ä¸´çš„é—®é¢˜æ˜¯å…³äº ***é€‰æ‹©å™¨ã€‚*ğŸ˜**

> é€‰æ‹©å™¨è¡¨è¾¾å¼å…è®¸æ‚¨è®¿é—®ç”¨äºå¼•ç”¨ Objective-C ä¸­çš„æ–¹æ³•æˆ–å±æ€§çš„ getter æˆ– setter çš„é€‰æ‹©å™¨ã€‚
> 
> *æ–¹æ³•å*å’Œ*å±æ€§å*å¿…é¡»æ˜¯å¯¹ Objective-C è¿è¡Œæ—¶å¯ç”¨çš„æ–¹æ³•æˆ–å±æ€§çš„å¼•ç”¨ã€‚

ç®€è€Œè¨€ä¹‹ï¼Œ *Swift* ä¸­çš„*é€‰æ‹©å™¨*ä¸*Objective-C*API äº¤äº’ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ª *@objc* æ¨ç†ã€‚æ—©æœŸå®ƒæ˜¯ç”±ç¼–è¯‘å™¨è‡ªåŠ¨å¤„ç†çš„ã€‚ä½†æ˜¯åœ¨ *Swift 4* ä¸­ï¼Œéœ€è¦æ˜ç¡®å®šä¹‰ã€‚

***åœ¨ Swift 3.2***

![](img/e6676530b4be2313605dc5853164a457.png)

Swift 4.0 ä¸­çš„***â€”ä½¿ç”¨ Swift ç¼–è¯‘å™¨å»ºè®®çš„ä¿®å¤ç¨‹åº*ğŸ˜¬å®ƒä¼šå°†@objc æ¨ç†æ·»åŠ åˆ°é€‰æ‹©å™¨æ–¹æ³•ä¸­ã€‚**

## 2.æ‰©å±•ä¸­çš„å£°æ˜è¿˜ä¸èƒ½è¢«è¦†ç›–

åœ¨ *Swift 3* ä¸­ï¼Œå¯¹äºæ¥è‡ª*ç±»* *æ‰©å±•*æˆ–åœ¨å…¶ä¸­çš„æ–¹æ³•é‡å†™æ²¡æœ‰é™åˆ¶ã€‚ä½†æ˜¯åœ¨ *Swift 4* ä¸­ï¼Œä½ å°±æ˜¯ä¸èƒ½ ***è¿˜ä¸èƒ½*** (å¯èƒ½åœ¨ä¸ä¹…çš„å°†æ¥ä¼šæœ‰)ã€‚

> *æ‰©å±•*ä¸ºç°æœ‰çš„ç±»ã€ç»“æ„ã€æšä¸¾æˆ–åè®®ç±»å‹æ·»åŠ æ–°çš„åŠŸèƒ½ã€‚è¿™åŒ…æ‹¬æ‰©å±•æ‚¨æ— æ³•è®¿é—®åŸå§‹æºä»£ç çš„ç±»å‹çš„èƒ½åŠ›
> 
> æ‰©å±•å¯ä»¥å‘ç±»å‹æ·»åŠ æ–°åŠŸèƒ½ï¼Œä½†ä¸èƒ½é‡å†™ç°æœ‰åŠŸèƒ½ã€‚

åœ¨è¿ç§»åˆ° *Swift 4* æ—¶ï¼Œæ‚¨ä¼šå¾—åˆ° ***ç¼–è¯‘æ—¶é”™è¯¯*** ğŸ™ˆå¦‚æœæ‚¨ä½¿ç”¨äº†æ‰©å±•æ¥é‡å†™æ–¹æ³•ã€‚

***åœ¨ Swift 3.2***

![](img/d17dd394296ffa539f34bbfa04d53e0a.png)

**isValid() is defined in BaseCellâ€™s extension**

![](img/8332bc61af2b2a3184f8519cb40bf341.png)

***isBlank() is defined in BaseCell original source code and overridden in SampleCellâ€™s extension***

***åœ¨ Swift 4.0 ä¸­â€”â€”åªéœ€å°†è¢«è¦†ç›–æ–¹æ³•çš„å®šä¹‰ç§»åˆ°åŸå§‹ç±»æºä»£ç ä¸­ğŸ¯***

## 3.éå±æ€§å­—ç¬¦ä¸²å±æ€§çš„é”®å

åœ¨ *NSAttributedString* API ä¸­å¼•å…¥äº†ä¸€ä¸ªéå¸¸ç›´æ¥çš„å˜åŒ–â€”â€”ä¸*å±æ€§åŒ–å­—ç¬¦ä¸²*çš„*å±æ€§*ç›¸å¯¹åº”çš„ ***é”®å*** ç°åœ¨å°†ä½¿ç”¨*æšä¸¾****nsattributed stringkey æ¥å¼•ç”¨ã€‚***

***ä¸¾ä¾‹:***

1.  *NSFontAttributeName* ç°åœ¨å°†è¢«ç§°ä¸º*nsattributedstringkey . font*
2.  *NSForegroundColorAttributeName*ç°åœ¨å°†è¢«ç§°ä¸º*nsattributedstringkey . foregroundcolor*ç­‰*ã€‚*

***åœ¨ Swift 3.2***

![](img/6c8ff56f498d7e8989868687eae91878.png)

Swift 4.0 ä¸­çš„***â€”åªéœ€ä½¿ç”¨ Swift ç¼–è¯‘å™¨å»ºè®®çš„ä¿®å¤ç¨‹åºï¼Œå®ƒå°†ä¸ºæ‚¨å®Œæˆæ‰€æœ‰å·¥ä½œ*ğŸ˜…**

# ä¿ƒé”€

åˆ«å¿˜äº†é˜…è¯»æˆ‘çš„å…¶ä»–æ–‡ç« :

1.  [ä½ ä¸€ç›´æƒ³çŸ¥é“çš„å…³äº iOS ä¸­é€šçŸ¥çš„ä¸€åˆ‡](https://medium.freecodecamp.org/ios-10-notifications-inshorts-all-in-one-ad727e03983a)
2.  [æ‹–åŠ¨&æ”¾å…¥æ”¶è—&è¡¨â€” iOS 11](/@p.gpt10/drag-it-drop-it-in-collection-table-ios-11-6bd28795b313)
3.  [Swift 4 ä¸­å…³äºå¯ç¼–ç çš„ä¸€åˆ‡](https://hackernoon.com/everything-about-codable-in-swift-4-97d0e18a2999)
4.  [ç”¨æ¸å˜ç»™å®ƒä¸Šè‰²â€”â€”iOS](https://hackernoon.com/color-it-with-gradients-ios-a4b374c3c79f)
5.  [å…³äº iOS 10 ä¸­çš„ä»Šæ—¥æ‰©å±•(Widget)ä½ éœ€è¦çŸ¥é“çš„ä¸€åˆ‡](https://hackernoon.com/app-extensions-and-today-extensions-widget-in-ios-10-e2d9fd9957a8)
6.  [uicollectionview å•å…ƒæ ¼é€‰æ‹©å˜å¾—ç®€å•..ï¼ï¼](https://hackernoon.com/uicollectionviewcell-selection-made-easy-41dae148379d)

éšç€è¿ç§»çš„æ·±å…¥ï¼Œæˆ‘å°†æ›´æ–°æ–‡ç« ã€‚æ›´å¤šå…³äº ***ã€é›¨ç‡• 4ã€‘***çš„ä¿¡æ¯ï¼Œæ•¬è¯·å…³æ³¨æœ¬ç©ºé—´ã€‚

å¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·éšæ—¶å‘è¡¨è¯„è®ºã€‚ğŸ™‚ğŸ™ƒ