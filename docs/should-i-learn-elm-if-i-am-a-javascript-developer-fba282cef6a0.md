# å¦‚æœæˆ‘æ˜¯ JavaScript å¼€å‘äººå‘˜ï¼Œåº”è¯¥å­¦ä¹  Elm å—ï¼Ÿ

> åŸæ–‡ï¼š<https://medium.com/hackernoon/should-i-learn-elm-if-i-am-a-javascript-developer-fba282cef6a0>

æˆ‘çš„ä¸€ä¸ªå¥½æœ‹å‹è¯´æˆ‘åº”è¯¥å­¦æ¦†æ ‘ã€‚

â€”â€”â€œä½ ä¼šä»ä¸­å­¦åˆ°å¾ˆå¤šï¼Œç”¨ä¸ç”¨éƒ½æ²¡å…³ç³»ã€‚â€

è¿™æ­£æ˜¯é‚£ç§æ— è®ºä»–è¯´ä»€ä¹ˆéƒ½è®©äººä¿¡æœçš„æœ‹å‹ã€‚å¯èƒ½æ˜¯å› ä¸ºä»–çš„ç™½èƒ¡å­å’Œè“çœ¼ç›ã€‚æˆ–è€…å¯èƒ½æ˜¯å› ä¸ºä»–å®é™…ä¸Šå‡ ä¹æ€»æ˜¯å¯¹çš„ã€‚

Elm æ˜¯ä¸€ä¸ª 4 å²çš„æˆå¹´äººï¼Œå®ƒå°†æ–‡ä»¶è½¬æ¢æˆ javascriptï¼Œå¹¶ä¸”æ²¡æœ‰é€‰æ‹©â€œæ­£ç¡®â€æ¡†æ¶çš„ js ç–²åŠ³ï¼Œå› ä¸ºå®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ¡†æ¶ã€‚å®ƒåŠŸèƒ½é½å…¨ï¼Œæ˜¯ redux ä¹‹çˆ¶:

![](img/80115eb821692789fda124896486e55f.png)

æ‰€ä»¥æˆ‘ç‰ºç‰²äº†å‡ ä¸ªæœ‰å¸Œæœ›å˜å¥½çš„å‘¨æœ«æ¥è·å¾—ä¸€äº›è§è§£ï¼Œç°åœ¨å¾ˆä¹æ„ä¸ä½ åˆ†äº«:

# 1.æ²¡æœ‰è¿è¡Œæ—¶é”™è¯¯

æˆ‘å°†ç›´æ¥ä»æ ¸å¿ƒæ¦‚å¿µå¼€å§‹ã€‚

æ‚¨å¯ä»¥å¿˜è®° Elm ä¸­æ¼äººçš„é”™è¯¯æ¶ˆæ¯â€œNaNâ€ã€â€œæœªæ•è·ç±»å‹é”™è¯¯â€æˆ–â€œfoo is undefined â€,å› ä¸ºå®ƒæ”¯æŒ*é™æ€ç±»å‹æ£€æŸ¥*,è¿™æ„å‘³ç€åœ¨ç¼–è¯‘æ—¶å®ƒä¼šæ£€æŸ¥æ‚¨çš„æ‰€æœ‰ä»£ç ï¼Œä»¥ç¡®ä¿æ‰€æœ‰å˜é‡ä»¥åŠå‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºåŒ¹é…ã€‚è¿™æ„å‘³ç€å¦‚æœä½ çš„å‡½æ•°åªæ¥å—å­—ç¬¦ä¸²ï¼Œä½ å°±æ— æ³•ä¼ é€’å…¶ä»–ä»»ä½•ä¸œè¥¿ã€‚

è™½ç„¶å»ºè®®å°†ç±»å‹å£°æ˜ä¸º:

```
reps : String -> Int
```

(reps æ˜¯å‡½æ•°åï¼ŒString æ˜¯è¾“å…¥ç±»å‹ï¼ŒInt æ˜¯è¾“å‡ºç±»å‹)ï¼Œè¿™ä¸æ˜¯å¿…éœ€çš„ï¼Œå› ä¸º Elm å¯ä»¥è‡ªåŠ¨åœ°è‡ªå·±ç®—å‡ºæ‰€æœ‰çš„ç±»å‹(è¿™å«åš*ç±»å‹æ¨æ–­)*å¹¶åœ¨ç¼–è¯‘å®Œæˆåå‘æ‚¨æ˜¾ç¤ºé€‚å½“çš„é”™è¯¯æˆ–æˆåŠŸæ¶ˆæ¯ã€‚

# 2.å·¥ä¼šç±»å‹

Elm ä¸­å¸¸ç”¨çš„ä¸€ä¸ªå¥½æŠ€å·§æ˜¯ Union typeï¼Œå®ƒå…è®¸æ‚¨ä¸ºæ€ªå¼‚æˆ–å¤æ‚çš„ç±»å‹å®šä¹‰å¯èƒ½çš„å€¼ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç»ƒä¹ ç±»å‹ï¼Œå®ƒå¯ä»¥æ˜¯ä»¥ä¸‹å­—ç¬¦ä¸²ä¹‹ä¸€:`Pull-up`æˆ–`Push-up`

```
type Exercise = Pull-up | Push-up
```

æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªå‡½æ•°`reps`ï¼Œå®ƒæ ¹æ®ç»ƒä¹ è¿”å›é‡å¤æ¬¡æ•°:

```
reps : Exercise -> Int
reps exercise =
  case exercise of
    Pull-up ->
      10 Push-up ->
      15
```

è¿™é‡Œé‡è¦çš„æ˜¯ï¼Œæ¯å½“æˆ‘ä»¬ä¼ é€’ä¸€ä¸ªè”åˆå˜é‡ä½œä¸ºå‚æ•°(åœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯`exercise`)æ—¶ï¼Œæˆ‘ä»¬è¢«è¿«ä½¿ç”¨`case`è¡¨è¾¾å¼ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œç¼–è¯‘å™¨æ£€æŸ¥äº†é‚£ä¸ª`case`è¡¨è¾¾å¼çš„æ‰€æœ‰åˆ†æ”¯ã€‚è¿™æ„å‘³ç€:

*   å¦‚æœæ‚¨å¿˜è®°å¤„ç†ä¸€ä¸ªæ¡ˆä¾‹(æ¯”å¦‚æœ‰ 8 ä¸ª reps çš„`Muscle-up`),é‚£ä¹ˆæ‚¨ä¼šåœ¨ç¼–è¯‘æ—¶å¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚
*   å¦‚æœä½ ä¸å°å¿ƒæ‰“é”™äº†ä»»ä½•ä¸€ä¸ª case(æ¯”å¦‚è¯´`Psuh-up`)ï¼Œä½ ä¼šåœ¨ç¼–è¯‘æ—¶å¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚ä¸é”™å§ã€‚

# 3.è¾¹ç¼˜æ¡ˆä¾‹

æˆ‘ä»¬è¿˜æ²¡æœ‰å®Œæˆç±»å‹ã€‚

å³ä½¿å¯¹æˆ‘è¿™æ ·ä¸€ä¸ªåœ¨å¤šå¹´ç¼–å†™éœ€æ±‚è§„èŒƒåæ¥åˆ°å¼€å‘äººå‘˜ä¸–ç•Œçš„äººæ¥è¯´ï¼Œä¹Ÿç†è§£è¾¹ç¼˜æ¡ˆä¾‹çš„é‡è¦æ€§ï¼Œæœ‰æ—¶å¾ˆéš¾ä¸åœ¨ä»£ç ä¸­å¿˜è®°å®ƒä»¬ã€‚value ä¸º`undefined`æˆ–è€… json æ ¼å¼ä¸æ­£ç¡®æˆ–è€… http è¯·æ±‚è¶…æ—¶æ€ä¹ˆåŠï¼Ÿ

Elm é€šè¿‡å¼•å…¥ Maybeã€Result å’Œ Task ç±»å‹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™äº›ç±»å‹æ˜¯æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰çš„ Union ç±»å‹çš„ç‰¹ä¾‹ã€‚

å¦‚æœæ‚¨æœ‰å¯é€‰å­—æ®µï¼Œæ‚¨å¯èƒ½ä¼šä½¿ç”¨ Maybe:

```
type alias Sportsman =
  { name : String
  , age : Maybe Int
  }
```

è¿™æ„å‘³ç€`age`å­—æ®µå¯ä»¥è¡¨ç¤ºä¸¤ä¸ªå€¼ä¹‹ä¸€:`Nothing`æˆ–`Just Int`â€”ç¬¬ä¸€ä¸ªä¸ºç©ºï¼Œç¬¬äºŒä¸ªä¸ºéç©ºå€¼ã€‚å› ä¸ºå®ƒæ˜¯è”åˆç±»å‹ï¼Œä»»ä½•æ—¶å€™ä½ å°†è¿™ä¸ªå˜é‡ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œä½ éƒ½è¢«è¿«ä½¿ç”¨`case`è¡¨è¾¾å¼å¹¶å¤„ç†æ‰€æœ‰çš„å˜åŒ–ï¼Œæ‰€ä»¥ä½ ä¸èƒ½é¿å…å¤„ç†ç©º/æœªå®šä¹‰çš„æƒ…å†µ:

```
getReps : Sportsman -> Maybe Int
getReps sportsman =
  case sportsman.age of
    Nothing ->
      Nothing

    Just age ->
      Just 12
```

ç›¸åŒçš„æ–¹æ³•ç”¨äº`Result`å’Œ`Task`ç±»å‹ï¼Œä½†æ˜¯`Task`ç”¨äºåŒæ­¥æ“ä½œï¼Œå¦‚è§£æ jsonï¼Œè€Œ`Result`ç”¨äºå¼‚æ­¥æ“ä½œï¼Œå¦‚ html è¯·æ±‚ã€‚å®ƒä»¬éƒ½å¯ä»¥ä»¥ä¸‹åˆ—å€¼ä¹‹ä¸€ç»“æŸ:`Success`è¡¨ç¤ºæˆåŠŸçš„æƒ…å†µï¼Œ`Failure`è¡¨ç¤ºé”™è¯¯çš„æƒ…å†µï¼Œå’Œ`Maybe`ä¸€æ ·ï¼Œæˆ‘ä»¬æ€»æ˜¯è¢«è¿«å¤„ç†è¿™ä¸¤ç§æƒ…å†µã€‚

# 4.åŒ…è£…åˆ†å‘

é™æ€ç±»å‹çš„å¦ä¸€ä¸ªç»“æœæ˜¯è‡ªåŠ¨å¼ºåˆ¶ç‰ˆæœ¬æ§åˆ¶ã€‚

è¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåº“ï¼Œå¹¶å¸Œæœ›ä¸ä»–äººå…±äº«ï¼Œæˆ‘ä»¬ä¸å¿…æ¯æ¬¡æ›´æ–°æˆ‘ä»¬çš„åŒ…æ—¶éƒ½è€ƒè™‘å®ƒçš„ç‰ˆæœ¬å·ã€‚æ¦†æ ‘ä¼šå¸®æˆ‘ä»¬åšçš„ã€‚

ä»æœ€åˆçš„ç‰ˆæœ¬ 1.0.0 å¼€å§‹ï¼Œå®ƒå°†æ¯”è¾ƒæˆ‘ä»¬çš„è½¯ä»¶åŒ…çš„æ¯ä¸ªåç»­ç‰ˆæœ¬çš„ä»£ç å˜åŒ–ï¼Œå¹¶åˆ›å»ºæ–°çš„ç‰ˆæœ¬å·ï¼Œè¯¥ç‰ˆæœ¬å·æœ€å‡†ç¡®åœ°åæ˜ äº†æˆ‘ä»¬æ‰€åšçš„æ›´æ”¹ã€‚ğŸŒŸ

# 5.Redux

Redux æ˜¯å½“ä»Š Javascript ä¸­ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„æ¨¡å¼ï¼Œèµ·æºäº Elmã€‚ä½ å¯ä»¥åœ¨ [React](https://github.com/reactjs/redux) å’Œ [Angular](https://github.com/ngrx/store) ä¸­æ‰¾åˆ°å®ƒï¼Œæœ€è¿‘æˆ‘ç”šè‡³åœ¨ä¸€ä¸ªæ²¡æœ‰ä»»ä½•ç°ä»£ MV*æ¡†æ¶çš„ jQuery é¡¹ç›®ä¸­ä½¿ç”¨äº†å®ƒã€‚

è¿™ä¸ªæƒ³æ³•æ˜¯ä½ æœ‰ä¸€ä¸ªå•ä¸€çš„ä¿¡ä»»ç‚¹ï¼Œç§°ä¸º`Model` (Elm)æˆ–çŠ¶æ€(React)æˆ–å­˜å‚¨(Angular)ï¼Œä½ æœ‰ä¸€ä¸ªæ¥å£æ¥æ›´æ–°å®ƒã€‚åœ¨ Elm ä¸­æˆ‘ä»¬ç§°è¿™ä¸ªæ¥å£ä¸º`Update`(åœ¨ Javascript ä¸–ç•Œä¸­æ˜¯ Reducer)ã€‚

æ‰€ä»¥æ¯æ¬¡æˆ‘ä»¬æƒ³æ”¹å˜`Model`æ—¶ï¼Œæˆ‘ä»¬å°±è°ƒç”¨`Update`å‡½æ•°ã€‚

æ›´æ–°å‡½æ•°è·å–å½“å‰çš„`Model`å’Œ`Msg`(åŠ¨ä½œ)ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›æ–°çš„`Model`ã€‚

æœ€è¿‘æˆ‘ä»¬ä½¿ç”¨`Model`æ¥æ›´æ–°æˆ‘ä»¬çš„è§†å›¾ï¼Œå¦‚æœæˆ‘ä»¬è°ˆè®ºç½‘ç«™çš„è¯ï¼Œç®€å•æ¥è¯´å°±æ˜¯`Html`ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨ä»¥è‡ªå·±å‘½åçš„å‡½æ•°`View`æ¥å®Œæˆã€‚

çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

![](img/e278dcdaffc402b27e1913499e4b1ee9.png)

Elm architecture

ä¸ºä»€ä¹ˆå®ƒå¾ˆé…·ï¼Ÿ

# 6.è´¨é‡ä¿è¯å’Œæ”¯æŒ

é¦–å…ˆï¼Œé—®ç­”å˜å¾—ç®€å•å¤šäº†ã€‚

æˆ‘ä»¬å·²ç»çŸ¥é“ Elm æ˜¯ä¸€ç§å‡½æ•°å¼è¯­è¨€ï¼Œè¿™æ„å‘³ç€å®ƒä¸ºæˆ‘ä»¬æä¾›äº†ä¸¤ç§åŠŸèƒ½ä¿è¯:

*   ç»™å®šç›¸åŒçš„å‚æ•°å€¼ï¼Œæ‰€æœ‰å‡½æ•°æ€»æ˜¯è¿”å›ç›¸åŒçš„ç»“æœ
*   æ‰€æœ‰çš„å‡½æ•°éƒ½ä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä¼šæ”¹å˜å®ƒä»¬è‡ªèº«èŒƒå›´ä¹‹å¤–çš„ä»»ä½•ä¸œè¥¿

åŸºæœ¬ä¸Šè¿™æ„å‘³ç€æœ‰äº†ä¸€ä¸ª`Update`å‡½æ•°è°ƒç”¨çš„åˆ—è¡¨ï¼Œæˆ‘ä»¬æ€»æ˜¯å¯ä»¥é‡æ–°è¿è¡Œå®ƒä»¬ï¼Œå¹¶ä¸”ä½œä¸ºé‡æ–°è¿è¡Œçš„ç»“æœï¼Œå°†æ€»æ˜¯å¾—åˆ°ç›¸åŒçš„`Model`ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºæ²¡æœ‰äººèƒ½ä»å¤–é¢æ”¹å˜æˆ‘ä»¬çš„`Model`(è®°å¾—å—ï¼Ÿæ²¡æœ‰å‰¯ä½œç”¨)å¹¶ä¸”å› ä¸ºå¦‚æœç”¨ç›¸åŒçš„å‚æ•°è°ƒç”¨æˆ‘ä»¬çš„`Update`å‡½æ•°ï¼Œå®ƒæ€»æ˜¯è¿”å›ç›¸åŒçš„ç»“æœã€‚

è¿™æ„å‘³ç€ï¼Œä»»ä½•æ—¶å€™ä½ çš„ QA å·¥ç¨‹å¸ˆå‘ç°ä¸€ä¸ª bugï¼Œå¥¹éƒ½ä¼šæŠŠ`Update`å‡½æ•°è°ƒç”¨çš„æ—¥å¿—å‘é€ç»™ä½ (å®ƒè¢«æ— å£°åœ°è®°å½•ä¸‹æ¥),è€Œä¸éœ€è¦æ‰‹å·¥è®°å½•æ‰€æœ‰çš„æ­¥éª¤ã€‚æ‚¨æ— éœ€æ‰‹åŠ¨é‡ç°æ‰€æœ‰æ­¥éª¤ï¼Œåªéœ€å°†å…¶å¯¼å…¥æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå°±å¯ä»¥ç«‹å³åœ¨å±å¹•ä¸Šçœ‹åˆ°é”™è¯¯ï¼Œå¹¶å¯ä»¥åœ¨æ“ä½œå†å²ä¸­æ¥å›ç§»åŠ¨ï¼Œä»¥æŸ¥çœ‹æ˜¯å“ªä¸€ç³»åˆ—ç”¨æˆ·æ“ä½œå¯¼è‡´äº†é”™è¯¯ã€‚ğŸŒŸğŸŒŸ

# 6.æƒ°æ€§è£…è½½

ä½¿ç”¨ redux çš„ç¬¬äºŒä¸ªç»“æœæ˜¯å»¶è¿ŸåŠ è½½ã€‚

ä¸ jQuery ç›¸æ¯”ï¼Œæˆ‘å–œæ¬¢ç°ä»£ javascript æ¡†æ¶çš„ä¸€ç‚¹æ˜¯å®ƒä»¬æ˜¯å£°æ˜æ€§çš„ã€‚ä½ æ²¡æœ‰åœ¨ç¨‹åºä¸­è¯´æ˜å¦‚ä½•æ“ä½œ DOMâ€”â€”æ·»åŠ ã€åˆ é™¤ã€éšè—ç­‰ç­‰ã€‚æ‚¨åªéœ€æè¿° html çš„åˆå§‹å’Œæœ€ç»ˆçŠ¶æ€â€”â€”å®ƒåœ¨ä¸åŒæƒ…å†µä¸‹åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼Œæ¡†æ¶ä¼šå¤„ç†(é€šå¸¸ä½¿ç”¨è™šæ‹Ÿ DOM)æ›´æ–°é¡µé¢æ‰€éœ€çš„ä¸€åˆ‡ï¼Œä½¿å®ƒçœ‹èµ·æ¥åƒæ‚¨å¸Œæœ›çš„é‚£æ ·ã€‚

æ¦†æ ‘ä¹Ÿä¸€æ ·ã€‚æ‚¨åªéœ€å®šä¹‰`View`å‡½æ•°ï¼Œæè¿°å¦‚ä½•æ ¹æ®å½“å‰çš„`Model`æ¸²æŸ“ htmlã€‚ç„¶åå½“`Model`æ”¹å˜æ—¶ï¼Œä½ çš„`View`å‡½æ•°ç›¸åº”åœ°æ›´æ–° DOMï¼Œæ¯”è¾ƒå½“å‰å’Œä»¥å‰çš„çŠ¶æ€ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„ DOM æ“ä½œã€‚

ç°åœ¨æœ‰è¶£çš„äº‹æƒ…æ˜¯:å¦‚æœåªæœ‰ä¸€å°éƒ¨åˆ†`Model`è¢«æ›´æ–°ï¼Œè€Œå…¶ä½™éƒ¨åˆ†ä¿æŒä¸å˜ä¼šæ€æ ·ï¼Ÿé‡æ–°è®¡ç®—å’Œæ¯”è¾ƒæ•´ä¸ª DOM æœ‰æ„ä¹‰å—ï¼Ÿè‚¯å®šä¸ä¼šã€‚

å¦‚æœæˆ‘ä»¬å°†è§†å›¾å‡½æ•°åˆ†æˆå‡ ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªå‡½æ•°å‘ˆç°é¡µçœ‰ï¼Œå¦ä¸€ä¸ªå‘ˆç°é¡µè„šï¼Œç­‰ç­‰ï¼Œé‚£ä¹ˆç”±äºç¬¬ä¸€ä¸ªå‡½æ•°ä¿è¯(ç»™å®šç›¸åŒçš„å‚æ•°å€¼ï¼Œæ€»æ˜¯è¿”å›ç›¸åŒçš„ç»“æœ)ï¼Œæˆ‘ä»¬å¯ä»¥è·³è¿‡è¾“å…¥æ²¡æœ‰æ”¹å˜çš„å‡½æ•°ã€‚

æˆ‘ä»¬åªæ˜¯åœ¨å‡½æ•°å‰é¢æ”¾äº†`lazy`å…³é”®å­—:

```
viewHeader: String -> Html Msg
viewHeader name =
    ...some codeview : Model -> Html Msg
view model = 
    **lazy** viewHeader model.loggedUser.name
    ...other code
```

è¿™é‡Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ˜¾ç¤ºç™»å½•ç”¨æˆ·åçš„æ ‡é¢˜ã€‚ä¸€æ—¦æ¨¡å‹ä¸­çš„æŸäº›ä¸œè¥¿æ”¹å˜äº†(ç”¨æˆ·å‘ä¸‹æ»šåŠ¨ï¼Œæ–°çš„å†…å®¹è¢«åŠ è½½)ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›é‡æ–°è®¡ç®— DOM çš„å¤´éƒ¨åˆ†ï¼Œå› ä¸ºå®ƒåŸºæœ¬ä¸Šå’Œä»¥å‰ä¸€æ ·ã€‚ä½†æ˜¯æˆ‘ä»¬æƒ³æ›´æ–°å†…å®¹éƒ¨åˆ†ï¼Œå› ä¸ºç”¨æˆ·æ»šåŠ¨äº†å®ƒã€‚è¿™å°±æ˜¯`lazy`ä¸ºæˆ‘ä»¬åšçš„â€”â€”Elm å°†æ£€æŸ¥ viewHeader è¾“å…¥æ˜¯å¦è¢«æ›´æ”¹ï¼Œå¹¶å®Œå…¨è·³è¿‡è¿™ä¸€éƒ¨åˆ†ï¼Œä½†å°†å‘ˆç°å…¶ä½™éƒ¨åˆ†ã€‚è¿™ä¸ºæˆ‘ä»¬èŠ‚çœäº†ä¸€äº› CPU èµ„æºï¼Œå¹¶ä½¿æ¸²æŸ“é€Ÿåº¦æ›´å¿«ã€‚

# 7.ä¸å˜

è¿™å¼•å‡ºäº† Elm çš„å¦ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå³*ä¸å˜æ€§*ã€‚åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†`String`ä½œä¸ºå¤´å‡½æ•°çš„è¾“å…¥ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰æ›´å¤æ‚çš„ä¸œè¥¿â€”â€”`Object`å‘¢ï¼Ÿ

å¦‚æœæˆ‘ä»¬æƒ³æ¯”è¾ƒä¸¤ä¸ªè¾“å…¥å¯¹è±¡(æ–°çš„å’Œæ—§çš„)è¯¥æ€ä¹ˆåŠï¼Ÿç„¶åï¼Œæˆ‘ä»¬å¿…é¡»æ·±å…¥ä»–ä»¬çš„å­—æ®µå±‚æ¬¡ç»“æ„ï¼Œå¹¶é€ä¸ªæ¯”è¾ƒå­—æ®µã€‚è¿™è€—è´¹æ—¶é—´å’Œèµ„æºã€‚

å¦ä¸€æ–¹é¢ï¼Œ*ä¸å˜æ€§*è¦æ±‚æˆ‘ä»¬æ¯æ¬¡ä¿®æ”¹å¯¹è±¡æ—¶éƒ½è¦åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œæ¯”è¾ƒå°±åƒæ¯”è¾ƒä¸¤ä¸ªå¼•ç”¨ä¸€æ ·ç®€å•ï¼Œé€Ÿåº¦å¿«å¾—æƒŠäººã€‚å› ä¸ºå¦‚æœå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ã€‚é…·æ¯™äº†ã€‚ç°åœ¨ï¼Œå»¶è¿ŸåŠ è½½æ›´æœ‰æ„ä¹‰äº†ã€‚

# 8.ç”šè‡³æ›´å¿«

ä½†æ˜¯æˆ‘ä»¬å¯ä»¥åšå¾—æ›´å¿«ã€‚

æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå…¸å‹çš„æµè§ˆå™¨æ¯ç§’æ‰§è¡Œ 60 æ¬¡é‡ç”»ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬çš„çœ¼ç›æ„ŸçŸ¥è§†è§‰ä¿¡æ¯çš„æ–¹å¼ã€‚æ²¡æœ‰å¿…è¦ç»å¸¸é‡ç”»ï¼Œå› ä¸ºæˆ‘ä»¬ä¸ä¼šæ”¹å–„ä»»ä½•ç½‘ç«™çš„å¤–è§‚å’Œæ„Ÿè§‰ï¼Œè€Œæ˜¯æµªè´¹è®¾å¤‡èµ„æºã€‚

åŒæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›é™¤äº†é‡ç”»ä¹‹å¤–çš„å…¶ä»–æ“ä½œèƒ½å¤Ÿåœ¨æ­£å¸¸æ¨¡å¼ä¸‹å·¥ä½œï¼Œæ— è®ºæ˜¯ http è¯·æ±‚è¿˜æ˜¯åå°çš„ä¸€äº›å¤æ‚è®¡ç®—ã€‚

é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åœ¨ Elm ä¸­å®ç°è¿™ä¸€ç‚¹å‘¢ï¼Ÿ

å®é™…ä¸Šæˆ‘ä»¬ä»€ä¹ˆéƒ½ä¸ç”¨åšã€‚å®ƒæ˜¯å†…ç½®çš„ã€‚Elm ä½¿ç”¨`requestAnimationFrame`æ¥åŒæ­¥è§†å›¾è®¡ç®—å’Œæµè§ˆå™¨é‡ç”»ã€‚è¿™æ„å‘³ç€å‘ˆç° html çš„è§†å›¾å‡½æ•°å°†ä¸ä¼šè¢«è°ƒç”¨è¶…è¿‡æ¯ç§’ 60 æ¬¡ï¼Œå¹¶ä¸”å®ƒèŠ‚çœäº†æ—¶é—´ã€CPU èµ„æºå’Œç§»åŠ¨è®¾å¤‡ç”µæ± ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨ Elm ä¸­è¿™æ ·åšçš„ä¸»è¦åŸå› æ˜¯åº”ç”¨äº`View`å‡½æ•°çš„ç¬¬äºŒä¸ªå‡½æ•°ä¿è¯â€”â€”å®ƒæ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ï¼Œæ‰€ä»¥å®ƒå”¯ä¸€æ”¹å˜çš„æ˜¯ htmlã€‚è¿™æ„å‘³ç€å®ƒä¸èƒ½æ›´æ–°`Model`ã€‚è™½ç„¶æˆ‘ä»¬æ¯ç§’é’Ÿåªè°ƒç”¨`View`å‡½æ•° 60 æ¬¡ï¼Œä½†æˆ‘ä»¬çš„`Model`ä»ç„¶å¯ä»¥å®æ—¶æ›´æ–°ï¼Œæ²¡æœ‰ä»»ä½•å»¶è¿Ÿã€‚è¿™å°±æ˜¯çº¯å‡½æ•°çš„çº¯ç²¹æ€§ã€‚

![](img/8296d68a50bf32d84338389b734852c6.png)

# 9.æ¨¡ç³Šæµ‹è¯•

æ­£å¦‚æˆ‘ä»¬å·²ç»çœ‹åˆ°çš„ï¼ŒElm èŠ±è´¹äº†å¤§é‡çš„ç²¾åŠ›æ¥é˜²æ­¢æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå‡ºé”™ï¼Œæ‰€ä»¥å®ƒæ‰€ä½¿ç”¨çš„æµ‹è¯•æ¡†æ¶ä¹Ÿç›¸å½“å¤æ‚ã€‚

æˆ‘å¾ˆå…´å¥‹çš„ä¸€ä¸ªç‰¹æ€§æ˜¯*æ¨¡ç³Šæµ‹è¯•*ï¼Œå®ƒå°†å¾ˆå¿«å‡ºç°åœ¨[æ‘©å¡](https://www.npmjs.com/package/mocha-testcase#fuzzcount-coming-soon)ä¸­ã€‚

èƒŒåçš„æƒ³æ³•æ˜¯ç”¨éšæœºç”Ÿæˆçš„è¾“å…¥å¤šæ¬¡è¿è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚é…·çš„éƒ¨åˆ†æ˜¯æ‰€æœ‰çš„è¾¹ç¼˜æƒ…å†µï¼Œå¦‚é›¶ï¼Œç©ºå€¼æˆ–è´Ÿå€¼ï¼Œä¿è¯è‡³å°‘æ£€æŸ¥ä¸€æ¬¡ï¼Œæ‚¨ä¹Ÿå¯ä»¥è®¾ç½®ä¸€äº›èŒƒå›´åŠå…¶æ¦‚ç‡ï¼Œä»¥ç¡®ä¿æœ€é‡è¦çš„æƒ…å†µæ¯”å…¶ä»–æƒ…å†µæ›´é¢‘ç¹åœ°æµ‹è¯•ã€‚

```
Fuzz.frequency
[ ( 1, Fuzz.intRange -100 -1 )
, ( 3, Fuzz.intRange 1 100 )
]
```

è¿™å¯ä»¥èŠ‚çœå¤§é‡çš„æ‰‹åŠ¨æµ‹è¯•ç¼–å†™æ—¶é—´ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªè­¦å‘Šï¼Œæµ‹è¯•æ‰§è¡Œæ—¶é—´å¯èƒ½ä¼šæ˜æ˜¾å¢åŠ ã€‚

# ç»“è®º

é‚£ä¹ˆä¸€æ—¦æˆ‘ä»¬çŸ¥é“äº†æ‰€æœ‰è¿™äº›å¾ˆé…·çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å¦‚ä½•åœ¨æˆ‘ä»¬æ­£å¸¸çš„ Javascript ç”Ÿæ´»ä¸­ä½¿ç”¨å®ƒä»¬å‘¢ï¼Ÿ

é¦–å…ˆï¼Œä½¿ç”¨é™æ€ç±»å‹â€”â€”Typescript æˆ– Flow å¯èƒ½æ˜¯å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚Typescript å…è®¸æ‚¨åœ¨åŒä¸€ä¸ªä»£ç åº“ä¸­å°†å®ƒä¸ javascript æ··åˆï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨ä¸ç ´åé—ç•™ä»£ç çš„æƒ…å†µä¸‹é€æ¸å°†é¡¹ç›®è½¬æ¢ä¸ºé™æ€ç±»å‹ã€‚å®ƒè¿˜ç»“åˆ VSCode æä¾›äº†å¼ºå¤§çš„æ™ºèƒ½æ„ŸçŸ¥æ”¯æŒã€‚

ç¬¬äºŒï¼Œåœ¨é€‚å½“çš„æƒ…å†µä¸‹ä½¿ç”¨åŠŸèƒ½æ–¹æ³•(çŠ¶æ€ç®¡ç†ã€æ¸²æŸ“ç­‰)ã€‚Redux åº“å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚

ç¬¬ä¸‰ï¼Œå€ŸåŠ©åƒ [Mori](https://github.com/swannodette/mori) æˆ– [immutable.js](https://github.com/facebook/immutable-js/) è¿™æ ·çš„ç°æˆåº“ï¼Œä½¿ç”¨ä¸å˜æ€§æ¥æ”¹è¿›å˜æ›´æ£€æµ‹å¹¶æé«˜åº”ç”¨ç¨‹åºæ€§èƒ½ã€‚

![](img/85cd6c1181d33e9bb22f509dd122e951.png)[![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)

> [é»‘å®¢ä¸­åˆ](http://bit.ly/Hackernoon)æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯ [@AMI](http://bit.ly/atAMIatAMI) å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨[æ¥å—æŠ•ç¨¿](http://bit.ly/hackernoonsubmission)å¹¶ä¹æ„[è®¨è®ºå¹¿å‘Š&èµåŠ©](mailto:partners@amipublications.com)æœºä¼šã€‚
> 
> å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„[æœ€æ–°ç§‘æŠ€æ•…äº‹](http://bit.ly/hackernoonlatestt)å’Œ[è¶‹åŠ¿ç§‘æŠ€æ•…äº‹](https://hackernoon.com/trending)ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼

![](img/be0ca55ba73a573dce11effb2ee80d56.png)