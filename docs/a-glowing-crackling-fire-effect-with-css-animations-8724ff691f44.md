# å¸¦æœ‰ CSS åŠ¨ç”»çš„å‘å…‰ã€å™¼å•ªä½œå“çš„ç«ç„°æ•ˆæœ

> åŸæ–‡ï¼š<https://medium.com/hackernoon/a-glowing-crackling-fire-effect-with-css-animations-8724ff691f44>

![](img/112a4194b730dcf743d26ceb3999731b.png)

Initial background image from Pexels

å¯¹äºä»»ä½•çœŸæ­£çš„è‰ºæœ¯å®¶æˆ– [*CSS*](https://hackernoon.com/tagged/css) *å¿è€…æ¥è¯´ï¼Œè¿™ä¸ªæ•…äº‹å¯èƒ½ä¸ä¼šæ˜¯é©å‘½æ€§çš„ï¼Œä½†å¯¹äºæ¸©ç‰¹æ¥è¯´æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å‰¯ä¸šã€‚äº«å—å§ã€‚*

ä¸ºäº†åº†ç¥å³å°†åˆ°æ¥çš„å‡æœŸï¼Œæˆ‘ä»¬æœ€è¿‘åœ¨æˆ‘ä»¬çš„[è½¨è¿¹è§†é¢‘å¯¹è¯](https://inthelocus.com)åº”ç”¨ç¨‹åºä¸­æ·»åŠ äº†ä¸€ä¸ªå†¬å­£èƒŒæ™¯ä¸»é¢˜ã€‚æˆ‘ä»¬é¦–å…ˆä» [Pexels](https://www.pexels.com/) ä¸­å‘ç°äº†ä¸€å¼ èˆ’é€‚çš„å†¬å­£å›¾ç‰‡ã€‚ä¸é”™çš„å¼€å§‹ï¼Œä½†æ°”æ°›è¿˜ä¸å¤Ÿã€‚å¥½çš„ï¼ŒåŠ ä¸ŠåŠˆå•ªä½œå“çš„ç«çš„å£°éŸ³ã€‚ç®€å•åˆ°å¯ä»¥æ‰¾åˆ°ä¸€æ®µæ¥è‡ª freesound.org çš„å¥½å¬çš„å½•éŸ³ï¼Œæ¯”å¦‚è¿™é¦–â€œ[å£ç‚‰ 3 å°æ—¶](http://www.freesound.org/people/hansende/sounds/263994/)â€ã€‚æˆ–è€… YouTube ä¸Šæœ‰åŒæ ·å£°éŸ³çš„è§†é¢‘ç‰ˆæœ¬ï¼ŒåµŒåœ¨ä¸‹é¢ã€‚

Fireplace sound with video!

å•Šâ€¦â€¦ç°åœ¨æˆ‘ä»¬å¼€å§‹è§‰å¾—æ›´èˆ’æœäº†ã€‚ç„¶è€Œï¼Œçœ‹ç€é™æ­¢çš„ç…§ç‰‡ï¼Œå¬ç€å™¼å•ªä½œå“çš„ç‚‰ç«ï¼Œæ„Ÿè§‰æœ‰ç‚¹å¤ªé™æ€äº†ã€‚è®©æˆ‘ä»¬ä½¿ç”¨ä¸€äº› CSS3 åŠ¨ç”»é­”æ³•ï¼Œè®©ç«å‘å…‰ï¼

æˆ‘ä»¬æƒ³ç¡®ä¿æˆ‘ä»¬çš„åŠ¨ç”»è¿è¡Œæµç•…ï¼Œä¸ä¼šæ¶ˆè€—å¤ªå¤šçš„ cpu å‘¨æœŸã€‚æˆ‘ä»¬çš„è§†é¢‘ä¼šè®®ç½‘ç»œåº”ç”¨å·²ç»æœ‰è¶³å¤Ÿçš„è®¡ç®—èƒ½åŠ›ã€‚ä»æ–‡ç« [æµç•…å¦‚å¥¶æ²¹:ç”¨ CSS3 å®ç° 60 FPS åŠ¨ç”»](/outsystems-experts/how-to-achieve-60-fps-animations-with-css3-db7b98610108#.oqvri84ac)ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°:

> åˆ©ç”¨**å˜æ¢**å’Œ**ä¸é€æ˜**å±æ€§ï¼Œç°ä»£æµè§ˆå™¨å¯ä»¥å¾ˆå¥½åœ°åˆ¶ä½œå››ç§é£æ ¼çš„åŠ¨ç”»ã€‚
> 
> **ä½ç½®** â€”å˜æ¢:translate x(*n*)translate y(*n*)translate z*(n*)ï¼›
> 
> **ç¼©æ”¾** â€”å˜æ¢:ç¼©æ”¾(*n*)ï¼›
> 
> **æ—‹è½¬** â€”å˜æ¢:æ—‹è½¬(*n*deg)ï¼›
> 
> **ä¸é€æ˜åº¦** â€”ä¸é€æ˜åº¦:*n*ï¼›

å¥½çš„ï¼Œå¾ˆå¥½ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸é€æ˜åŠ¨ç”»æ¥åˆ›å»ºä¸€ä¸ªå‘å…‰çš„æ•ˆæœã€‚æˆ‘ä»¬çš„èƒŒæ™¯å›¾åƒå·²ç»æœ‰ä¸€ä¸ªæ˜äº®çš„ç«ç¾åœºæ™¯ã€‚æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªåŠé€æ˜çš„è¦†ç›–å±‚æ¥é€‰æ‹©æ€§åœ°ä½¿è¿™ä¸ªåœºæ™¯å˜æš—ï¼Œå¹¶è®¾ç½®ä¸é€æ˜åº¦æ¥äº§ç”Ÿå‘å…‰æ•ˆæœã€‚

![](img/ce0ee4b53b4e0601e94b93d136cdfc26.png)

Our simplified goal, darken the fire

å¤ªå¥½äº†ã€‚åªä¸è¿‡æˆ‘ä»¬ä¸æƒ³è®©æˆ‘ä»¬çš„æ•´ä½“å½¢è±¡å˜æš—ï¼Œæˆ‘ä»¬åªæƒ³è®©ç«ç„°å’Œè¢«ç«ç…§äº®çš„åŒºåŸŸå˜æš—ã€‚å¤§æ¦‚æ˜¯è¿™æ ·çš„:

![](img/6f8c78f86ebf5e366f348482a6cf2e59.png)

Tailored fire darkening overlay

ä¸ºäº†åˆ›å»ºä¸€ä¸ªå®é™…åœºæ™¯çš„è¦†ç›–å›¾ï¼Œæˆ‘ä½¿ç”¨äº† Photoshopã€‚æˆ‘è‚¯å®šä¸æ˜¯ Photoshop é«˜æ‰‹ï¼Œæ‰€ä»¥ä¼šä¿æŒè¿™ä¸ªé«˜æ°´å¹³ã€‚åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬æƒ³è¦åˆ›å»ºä¸€ä¸ªå›¾åƒï¼Œåœ¨æœ‰ç«æˆ–ç«çš„åœ°æ–¹æ˜¯æœ€æš—çš„ï¼Œè€Œåœ¨å…¶ä»–åœ°æ–¹æ˜¯äº®çš„/å®Œå…¨é€æ˜çš„ã€‚æˆ‘ä»¬çš„æœ€ç»ˆç›®æ ‡æ˜¯:

![](img/8ce7635014a2c24ee56459648e7a2be1.png)

Final overlay image for winter scene

é¦–å…ˆï¼Œæˆ‘ä»¬åˆ é™¤å›¾åƒä¸­ä»»ä½•ä¸æƒ³è¢«å½±å“çš„éƒ¨åˆ†ï¼Œå¹¶ç”¨é»‘è‰²æ›¿æ¢ã€‚æŠŠè¾¹ç¼˜å¼„å…‰æ»‘ä¸€ç‚¹ã€‚

![](img/d22ab89140edaaf09ff1c90370b5db44.png)

Just the image portion we want to affect

ç°åœ¨ï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„å åŠ å›¾åƒä¼˜å…ˆå˜æš—è¢«ç«ç…§äº®çš„åŒºåŸŸã€‚åœ¨è¿™ä¸€æ­¥ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¸Œæœ›æ‰€æœ‰å‘å…‰çš„éƒ¨åˆ†æ˜¾ç¤ºå¾—æ›´ç™½ï¼Œå…¶ä½™çš„éƒ¨åˆ†æ˜¾ç¤ºå¾—æ›´é»‘ã€‚æˆ‘ä¸»è¦æ˜¯åœ¨ç‰¹å®šçš„é¢œè‰²ä¸Šä½¿ç”¨è‰²è°ƒ/é¥±å’Œåº¦/äº®åº¦æ»¤é•œã€‚ä½¿çº¢è‰²å’Œé»„è‰²å˜äº®ï¼Œå¹¶ä½¿å‰©ä½™çš„é¢œè‰²å˜æš—ã€‚

![](img/b79c25720e2d161e1202ac2be28a6b16.png)

After tweaking colors

ç°åœ¨æˆ‘ä»¬åè½¬å›¾åƒ:

![](img/c8cb5d8ccd8a099bd3bf5747b780d1ac.png)

Inverted

å¿«åˆ°äº†ã€‚ä½†æ˜¯ç­‰ç­‰ï¼Œçœ‹çœ‹å½“æˆ‘ä»¬å°†è¿™å¼ å›¾åƒåŠé€æ˜åœ°è¦†ç›–åœ¨åŸºç¡€å›¾åƒä¸Šæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ:

![](img/4f9969e2081c52ebf4850af4e3e339d7.png)

Thatâ€™s not right!

å“å‘€ï¼Œæ•´ä¸ªå›¾åƒè¢«æ´—æ‰äº†ã€‚è¿™æ˜¯å› ä¸ºï¼Œå åŠ å›¾åƒçš„èƒŒæ™¯æ˜¯ç™½è‰²çš„ã€‚å¦‚æœæˆ‘ä»¬ç®€å•åœ°å åŠ è¿™å¼ å›¾åƒï¼Œå¹¶ç»™å®ƒä¸€ä¸ª CSS ä¸é€æ˜åº¦ï¼Œæš—åŒºä¼šä½¿åŸºç¡€å›¾åƒå˜æš—ï¼Œä½†æ˜¯ç™½è‰²åŒºåŸŸä¼šä½¿åŸºç¡€å›¾åƒå˜äº®ã€‚æˆ‘ä»¬éœ€è¦çš„ä¸æ˜¯é¢œè‰²çš„å˜åŒ–ï¼Œè€Œæ˜¯é€æ˜åº¦çš„*å˜åŒ–ã€‚æˆ‘ä»¬å¸Œæœ›å°†å›¾åƒè½¬æ¢ä¸ºç°åº¦ï¼Œç„¶åä»ç°åº¦å¼ºåº¦æ˜ å°„åˆ°ä¸é€æ˜åº¦ï¼Œåˆ›å»ºä¸€ä¸ªå…¨é»‘ä¸”ä¸é€æ˜åº¦ä¸åŒçš„æ–°å›¾åƒã€‚æ®æˆ‘æ‰€çŸ¥ï¼ŒPhotoshop æ²¡æœ‰ä¸€ä¸ªç®€å•çš„æ–¹æ³•æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ä½†æ˜¯å…è´¹çš„å¼€æºç¼–è¾‘å™¨ [GIMP](https://www.gimp.org/) åšåˆ°äº†ã€‚ä¸‹é¢å¼•ç”¨çš„è¿™ç¯‡æ–‡ç« å‘Šè¯‰æˆ‘ä»¬å¦‚ä½•å»åšã€‚*

> 1)æ‰“å¼€æ‚¨çš„æ–‡æ¡£(å³é»‘ç™½ç…§ç‰‡)
> 
> 2)åœ¨å›¾å±‚èœå•ä¸­å³å‡»ç…§ç‰‡é€‰æ‹©â€œæ·»åŠ  Alpha é€šé“â€
> 
> 3)è½¬åˆ°é¡¶éƒ¨çš„é¢œè‰²èœå•ï¼Œé€‰æ‹©â€œé¢œè‰²åˆ° Alpha â€,ä¸€ä¸ªæ˜¾ç¤ºé¢œè‰²çš„çª—å£å‡ºç°ï¼Œç‚¹å‡»ç¡®å®šã€‚
> 
> å°±æ˜¯è¿™æ ·ã€‚ä½ å®Œäº†ã€‚åªéœ€è¦ä¸€åˆ†é’Ÿã€‚

å¤ªå¥½äº†ã€‚ç°åœ¨æˆ‘ä»¬ç»ˆäºæœ‰äº†æœ€ç»ˆçš„å åŠ å›¾åƒã€‚

![](img/0872944fe40eda6e033d4b63c5501320.png)

There we go! Dimmed fire.

å¾ˆå¥½ï¼Œç°åœ¨æ¥çœ‹ CSS éƒ¨åˆ†ï¼Œå®ƒå˜å¾—ç›¸å¯¹ç®€å•ã€‚æˆ‘ä»¬åªæ˜¯ç»å¯¹åœ°æ”¾ç½®ä¸¤å¼ å›¾ç‰‡ï¼Œå åŠ åœ¨ä¸Šé¢ã€‚ç„¶ååŠ¨ç”»è¦†ç›–çš„ä¸é€æ˜åº¦ã€‚CSS çœ‹èµ·æ¥åƒè¿™æ ·:

```
img.base{
  position: absolute;
  /* position, height, width, etc as appropriate. */
  z-index: 0;
}img.overlay{
  position: absolute;
  /* position, height, width, etc as appropriate. */
  z-index: 1;
  opacity: 0.0;
  animation-delay: 0.5s;
  animation-duration: 15s;
  animation-direction: normal;
  animation-iteration-count: infinite;
  animation-name: fireFlicker;
  animation-timing-function: linear;
}[@keyframes](http://twitter.com/keyframes) fireFlicker {
  0%, 10% { opacity: 0; }
  15%,20% { opacity: 0.13; }
  22%,23% { opacity: 0.026; }
  25%,35% { opacity: 0.08; }
  39%,42% { opacity: 0.22; }
  44%,47% { opacity: 0.13; }
  49%,50% { opacity: 0.026; }
  52%,54% { opacity: 0.08; }
  57%,58% { opacity: 0.24; }
  60%,63% { opacity: 0.17; }
  65%,72% { opacity: 0.08; }
  77%,85% { opacity: 0.026; }
  90%,95% { opacity: 0.17; }
  100% { opacity: 0; }
}
```

æ˜¾ç„¶è¿™é‡Œæœ‰å¾ˆå¤§çš„å˜åŒ–ç©ºé—´ã€‚æˆ‘é€‰æ‹©äº†ä¸€ä¸ªä»¥ 0 ä¸é€æ˜åº¦å¼€å§‹å’Œç»“æŸçš„åŠ¨ç”»ï¼Œå¹¶ä¸”æ— é™å‘å‰å¾ªç¯ã€‚æˆ–è€…ï¼Œä½ å¯ä»¥æœ‰ä¸€ä¸ªå‘å‰å’Œå‘åäº¤æ›¿çš„åŠ¨ç”»ã€‚é€‰æ‹©`linear` ä¸­çš„`animation-timing-function`,æ˜¯å› ä¸ºä¸å…¶ä»–é€‰é¡¹ç›¸æ¯”ï¼Œå®ƒçš„è®¡ç®—æˆæœ¬æ›´ä½ã€‚ç„¶è€Œï¼Œæˆ‘ç¡®å®è®¤ä¸º`ease-in-out`çœ‹èµ·æ¥æ›´å¥½ä¸€ç‚¹ã€‚åŠ¨ç”»å…³é”®å¸§åœ¨ä¸€æ®µæ—¶é—´å†…ä¿æŒæ’å®šå€¼(å³æ¯è¡Œæœ‰ 2 ä¸ªç™¾åˆ†æ¯”å€¼ï¼Œè¡¨ç¤ºä¸é€æ˜åº¦åœ¨è¿™äº›å€¼ä¹‹é—´ä¿æŒä¸å˜)ã€‚ç›¸å¯¹äºä¸æ–­å˜åŒ–çš„åŠ¨ç”»ï¼Œè¿™æ ·åšä¹Ÿæ˜¯ä¸ºäº†å‡å°‘è®¡ç®—é‡ã€‚15 ç§’çš„åŠ¨ç”»æ—¶é—´ä¼¼ä¹å¤ªé•¿äº†ï¼Œä»¥è‡³äºçœ‹ä¸å‡ºåŠ¨ç”»æ˜¯åœ¨å¾ªç¯æ’­æ”¾ã€‚

å°±æ˜¯è¿™æ ·ï¼æˆ‘ç›¸ä¿¡å¯ä»¥åšæ›´å¤šçš„å·¥ä½œæ¥æé«˜æ•ˆæœã€‚æˆ‘è€ƒè™‘è¿‡æ·»åŠ å¦ä¸€ä¸ªå åŠ å±‚æ¥ç»™ç«ç„°æ·»åŠ ä¸€ç‚¹é—ªçƒï¼Œä½†æ˜¯æ²¡æœ‰æ—¶é—´æˆ–è€…è‰ºæœ¯æŠ€å·§ï¼è¿™ç§æ•ˆæœæ˜¯æ•…æ„ç›¸å¯¹å¾®å¦™çš„ï¼Œä½†å¯ä»¥é€šè¿‡è°ƒæ•´åŠ¨ç”»å€¼æ¥å¤¸å¤§ã€‚

å‰å¾€[åœ°ç‚¹](https://inthelocus.com)ï¼Œç‚¹å‡»â€œè·å–æ‚¨çš„æˆ¿é—´â€ï¼Œè§‚çœ‹ç°åœºæ•ˆæœã€‚ç„¶åç‚¹å‡»â€œè¿›å…¥æˆ¿é—´â€æŒ‰é’®ï¼Œä¸€åˆ‡éƒ½å‡†å¤‡å¥½äº†ã€‚è¿™ä¸ªåœºæ™¯åº”è¯¥è‡³å°‘åœ¨ 2016/2017 å¹´å†¬å­£æœŸé—´ä¿æŒç›´æ’­ã€‚æˆ–è€…æ›´ç®€å•çš„æ˜¯ï¼Œä¸‹é¢æœ‰ä¸€ä¸ªä»£ç ç¬”ã€‚

æ„Ÿè°¢é˜…è¯»ï¼å¦‚æœä½ å–œæ¬¢ä½ æ‰€è¯»çš„ï¼Œä¸€å®šè¦ğŸ’—ä¸‹é¢ã€‚å¦‚æœä½ æƒ³çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜åœ¨å¼€å‘å¦ä¸€ä¸ªè§†é¢‘ä¼šè®®åº”ç”¨ç¨‹åºï¼Œçœ‹çœ‹æˆ‘çš„æ–‡ç« â€œ2016 å¹´äº†ï¼Œä¸ºä»€ä¹ˆè§†é¢‘ä¼šè®®è¿˜æ˜¯å¾ˆç³Ÿç³•ï¼Ÿâ€

[CodePen of the glowing fire effect](http://codepen.io/calchris42/pen/KNEBPq).

[![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)

> [é»‘å®¢ä¸­åˆ](http://bit.ly/Hackernoon)æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯è¿™ä¸ªå®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨[æ¥å—æŠ•ç¨¿](http://bit.ly/hackernoonsubmission)å¹¶ä¹æ„[è®¨è®ºå¹¿å‘Š&èµåŠ©](mailto:partners@amipublications.com)æœºä¼šã€‚
> 
> å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„[æœ€æ–°ç§‘æŠ€æ•…äº‹](http://bit.ly/hackernoonlatestt)å’Œ[è¶‹åŠ¿ç§‘æŠ€æ•…äº‹](https://hackernoon.com/trending)ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼

![](img/be0ca55ba73a573dce11effb2ee80d56.png)