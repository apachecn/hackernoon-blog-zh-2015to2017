# å¦‚ä½•ä½¿ç”¨ Sequelize å’Œ Nodejs å¯¹ MySQL ä¸­çš„è®°å½•è¿›è¡Œåˆ†é¡µ

> åŸæ–‡ï¼š<https://medium.com/hackernoon/how-to-paginate-records-in-mysql-using-sequelize-and-nodejs-a3465d12aad5>

![](img/ba60c7ec1c1cd14189a433d27302467f.png)

æœ‰æ—¶ï¼Œæˆ‘å‘ç°è‡ªå·±åœ¨ä¸ºæˆ‘çš„é—®é¢˜å¯»æ‰¾ä¸€ä¸ªç›´æ¥çš„ç­”æ¡ˆè€Œçº ç»“ã€‚æœ€è¿‘ï¼Œæˆ‘ä¸€ç›´åœ¨åšä¸€ä¸ª fullstack åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªä»åç«¯(REST API)åˆ°å‰ç«¯åˆ†é¡µç»“æœçš„åŸºæœ¬è¦æ±‚ã€‚æˆ‘æŒ£æ‰æœ‰ä¸¤ä¸ªåŸå› ã€‚é¦–å…ˆï¼Œæ¥è‡ª NoSQL çš„èƒŒæ™¯å¾ˆéš¾æŒæ¡ SQL æ•°æ®åº“ã€‚ç¬¬äºŒä¸ªåŸå› æ˜¯ï¼Œé¡ºåºåŒ–æ–‡æ¡£æ²¡æœ‰ä¸ºè¿™ä¸ªéå¸¸åŸºæœ¬çš„æŠ½è±¡æä¾›ä¸€ä¸ªæ¸…æ™°å’Œç›´æ¥çš„è§£å†³æ–¹æ¡ˆã€‚å¾ˆå¤šäººåœ¨ SQL æ•°æ®åº“çš„ä¸–ç•Œé‡Œåšå‡è®¾ã€‚

å› æ­¤ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºä¸€ä¸ªä½¿ç”¨ Sequelizeã€MySQL å’Œ Node.js çš„åŸºæœ¬åˆ†é¡µæ¨¡å—ã€‚è¦è®¾ç½®ä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åºå¹¶å»ºç«‹æ•°æ®åº“è¿æ¥ï¼Œè¯·é˜…è¯»æˆ‘åœ¨[**Sequelize**](https://hackernoon.com/getting-started-with-sequelize-for-nodejs-applications-2854c58ffb8c)**ä¸Šçš„å¸–å­ã€‚**

# å®šä¹‰æ¨¡å‹

æˆ‘ç›´æ¥è·³åˆ°`user`æ¨¡å‹å®šä¹‰:

æˆ‘ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªåŒ…å«æ•°ç™¾æ¡ç”¨æˆ·è®°å½•çš„è¡¨ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ä¸€ä¸ª web åº”ç”¨ç¨‹åºä¸Šæ˜¾ç¤ºè¿™äº›è®°å½•ï¼Œæ¯”å¦‚åœ¨ç®¡ç†é¢æ¿ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸€æ¬¡åªæ˜¾ç¤º 50 æ¡è®°å½•ã€‚

åœ¨`api/user.js`ä¸­ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ªç«¯ç‚¹`/:page`ï¼Œå®ƒå°†ä»æ•°æ®åº“ä¸­è·å–æˆ‘ä»¬éœ€è¦çš„ä¸€äº›ç»“æœã€‚

`findAndCountAll`æ˜¯åœ¨æ•°æ®åº“ä¸­æœç´¢å¤šæ¡è®°å½•çš„æ¨¡å‹ï¼Œå®ƒè¿”å›æ‰€éœ€çš„æ•°æ®å’Œè¡¨ä¸­å…ƒç´ çš„è®¡æ•°ã€‚ä¸Šé¢çš„æŸ¥è¯¢å°†ä¸€æ¬¡è·å– 50 æ¡ç”¨æˆ·è®°å½•ï¼Œç›´åˆ°è°ƒç”¨ä¸‹ä¸€ä¸ªé¡µé¢æ¥è·å–ä¸‹ 50 æ¡è®°å½•ã€‚åœ¨ä¸åˆ†é¡µç›¸å…³çš„æŸ¥è¯¢ä¸­éœ€è¦`limit`å’Œ`offset`ï¼Œå…¶ä¸­`limit`æ ¹æ®æŸ¥è¯¢è·å–è¡Œæ•°ï¼Œè€Œ`offset`ç”¨äºè·³è¿‡æ•°æ®åº“è¡¨ä¸­çš„è¡Œæ•°ã€‚

***æ„Ÿè°¢é˜…è¯»ã€‚*** *å¦‚æœä½ è§‰å¾—è¿™ä¸ªå¸–å­æœ‰ç”¨ï¼Œè¯·ç‚¹å‡»* **ğŸ’š*æŒ‰é’®*** *è¿™æ ·è¿™ä¸ªæ•…äº‹å°±èƒ½æ¥è§¦åˆ°æ›´å¤šçš„*è¯»è€…*ã€‚å¦‚æœæƒ³å¤šè¯´ä¸€ç‚¹ï¼Œ****ping me on***[***Twitter***](https://twitter.com/amanhimself)***ã€‚***

[![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)

> [é»‘å®¢ä¸­åˆ](http://bit.ly/Hackernoon)æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯ [@AMI](http://bit.ly/atAMIatAMI) å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨[æ¥å—æŠ•ç¨¿](http://bit.ly/hackernoonsubmission)ï¼Œå¹¶ä¹æ„[è®¨è®ºå¹¿å‘Š&èµåŠ©](mailto:partners@amipublications.com)æœºä¼šã€‚
> 
> å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„[æœ€æ–°ç§‘æŠ€æ•…äº‹](http://bit.ly/hackernoonlatestt)å’Œ[è¶‹åŠ¿ç§‘æŠ€æ•…äº‹](https://hackernoon.com/trending)ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼

![](img/be0ca55ba73a573dce11effb2ee80d56.png)