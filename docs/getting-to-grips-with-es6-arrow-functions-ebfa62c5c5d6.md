# æŒæ¡ ES6:ç®­å¤´åŠŸèƒ½

> åŸæ–‡ï¼š<https://medium.com/hackernoon/getting-to-grips-with-es6-arrow-functions-ebfa62c5c5d6>

![](img/63de466da92fbf101000db58b95892bf.png)

## ç¬¬äºŒéƒ¨åˆ†:ç†è§£ç®­å¤´å‡½æ•°

[*ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ç¬¬ä¸‰éƒ¨åˆ†:ç†è§£æ ‡å‡†çš„ã€åµŒå…¥å¼çš„ã€å¤šè¡Œçš„å’Œå¸¦æ ‡ç­¾çš„æ¨¡æ¿æ–‡å­—ã€‚*](/@andrewjrhill/getting-to-grips-with-es6-template-literals-9a42e4389e1e#.5opel5frn)

## **å‰è¨€**

è¿™ç¯‡æ–‡ç« æ˜¯ä¸ºå¸Œæœ›æ›´å¥½åœ°ç†è§£ ES6 arrow å‡½æ•°çš„åˆçº§åˆ°ä¸­çº§å¼€å‘äººå‘˜è®¾è®¡çš„å…¥é—¨è¯»ç‰©ã€‚

ä½œä¸ºæˆ‘çš„â€œæŒæ¡ ES6â€ç³»åˆ—çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªå‚è€ƒï¼Œå…¶ä¸­åŒ…å«ç®€å•æ˜äº†çš„è§£é‡Šï¼Œä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£è¿™äº›æ¦‚å¿µï¼Œå¹¶å°†å®ƒä»¬ç›´æ¥åº”ç”¨åˆ°æˆ‘ä»¬å½“å‰çš„å¼€å‘è¿‡ç¨‹ä¸­ã€‚

ç”±å®‰å¾·é²Â·å¸Œå°”æ’°å†™ã€‚
ä½ å¯ä»¥åœ¨ [LinkedIn](http://www.linkedin.com/in/andrewjrhill) ã€ [Twitter](https://twitter.com/andrewjrhill) ã€ [Instagram](https://www.instagram.com/andrewshills/) ã€ [GitHub](https://github.com/Sntax/) ä¸Šæ‰¾åˆ°æˆ‘ã€‚

# ç®­å¤´åŠŸèƒ½

ç®­å¤´å‡½æ•°(é€šå¸¸ç§°ä¸ºèƒ–ç®­å¤´å‡½æ•°æˆ– lambda å‡½æ•°)æ˜¯ä¸€ç§ç®€æ´çš„å‡½æ•°ç¼–å†™æ–¹å¼ï¼Œå®ƒä¸ä¼šåœ¨å…¶ä»–å‡½æ•°ä¸­é‡æ–°ç»‘å®šä¸Šä¸‹æ–‡(`this`)ã€‚å®ƒä»¬çš„ç®€çŸ­è¯­æ³•ç”±äºèƒ½å¤Ÿåœ¨ä¸€è¡Œå•ä¸€è¿”å›å‡½æ•°ä¸­éšå¼è¿”å›å€¼è€Œå¾—åˆ°è¿›ä¸€æ­¥å¢å¼ºã€‚

ç®­å¤´å‡½æ•°ä¸èƒ½è¢«å‘½åï¼Œå› æ­¤æ€»æ˜¯è¢«è®¤ä¸ºæ˜¯åŒ¿åå‡½æ•°ã€‚

## **ä¼ ç»ŸåŠŸèƒ½å®šä¹‰**

åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒJavaScript å·²ç»å¯¹åŒ¿åå‡½æ•°ä½¿ç”¨äº†ä»¥ä¸‹è¯­æ³•:

```
var double = function(a) {
  return a * 2;
}double(100);// Output: 200
```

æœ‰å„ç§å„æ ·çš„è¯­æ³•å¯ç”¨äºç®­å¤´å‡½æ•°ï¼›å®Œæ•´çš„åå•å¯ä»¥åœ¨ EcmaScript.org æ‰¾åˆ°ã€‚ä¸ºäº†ç®€æ´èµ·è§ï¼Œæœ¬æ–‡ä¸­çš„ä¾‹å­å°†ä½¿ç”¨æœ€å¸¸è§çš„ä¾‹å­ã€‚

## **ç®­å¤´åŠŸèƒ½å®šä¹‰**

é€šè¿‡å¼•å…¥ç®­å¤´å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç»™å‡ºçš„ç¤ºä¾‹é‡å†™å¦‚ä¸‹:

```
const double = (a) => {
  return a * 2;
}double(100);// Output: 200
```

## **å‚æ•°å’Œæ‹¬å·**

å¸¦å¤šä¸ªå‚æ•°çš„ç®­å¤´å‡½æ•°éœ€è¦æ‹¬å·:

```
const add = (a, b) => {
  return a + b;
}add(100, 200);// Output: 300
```

åœ¨å®Œå…¨ä¸åŒ…å«ä»»ä½•å‚æ•°çš„ç®­å¤´å‡½æ•°ä¸­ä¹Ÿéœ€è¦æ‹¬å·:

```
const fullName = () => {
  return 'Andrew Hill';
}name();// Output: Andrew Hill
```

åŒ…å«å•ä¸ª[å‚æ•°](https://hackernoon.com/tagged/parameter)çš„å‡½æ•°å…è®¸æˆ‘ä»¬ä¸€èµ·çœç•¥[å‡½æ•°](https://hackernoon.com/tagged/function)å®šä¹‰ä¸­çš„æ‹¬å·:

```
const double = a => {
  return a * 2;
}double(100);// Output: 200
```

## **éšå¼è¿”å›**

æˆ‘ä»¬çš„ä¾‹å­æ˜¯ä¸€ä¸ªç®€å•çš„å•è¡Œå‡½æ•°ï¼Œå®ƒç«‹å³è¿”å›ä¸€ä¸ªå€¼ã€‚åœ¨è¿™æ ·çš„ç”¨ä¾‹ä¸­ï¼Œæˆ‘ä»¬è¢«å…è®¸çœç•¥å‡½æ•°èŠ±æ‹¬å·ï¼Œä»¥ä¾¿*éšå¼è¿”å›*å®ƒçš„ç»“æœ:

```
const double5 = a => a * 2;double5(100);// Output: 200
```

## éšå¼è¿”å›å¯¹è±¡æ–‡æœ¬

ä¼ ç»Ÿä¸Šï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¿”å›ä¸€ä¸ªå¯¹è±¡æ–‡å­—ï¼Œæˆ‘ä»¬åº”è¯¥è¿™æ ·å†™æˆ‘ä»¬çš„å‡½æ•°:

```
var animal = function(type, name) {
  return {
    type: type,
    name: name,
  }
}animal('dog', 'Damon');// Output: Object {type: "dog", name: "Damon"}
```

åˆ‡æ¢åˆ°ç®­å¤´å‡½æ•°å¹¶è¯•å›¾éšå¼è¿”å›å¯¹è±¡å°†å¯¼è‡´é”™è¯¯ï¼Œå› ä¸ºå¼•æ“æ— æ³•åˆ¤æ–­èŠ±æ‹¬å·æ˜¯å±äºå¯¹è±¡è¿˜æ˜¯åŠŸèƒ½å—:

```
const animal = (type, name) => { type: type, name: name };animal('dog', 'Damon');// Output: [SyntaxError] Unexpected token :
```

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å‘Šè¯‰ arrow å‡½æ•°ï¼Œæˆ‘ä»¬é€šè¿‡å°†å¯¹è±¡æ”¾åœ¨ä¸€ç»„é™„åŠ çš„æ‹¬å·ä¸­æ¥éšå¼è¿”å›å¯¹è±¡:

```
const animal = (type, name) => ({ type: type, name: name });animal('dog', 'Damon');// Output: Object {type: "dog", name: "Damon"}
```

é¡ºä¾¿æä¸€ä¸‹ï¼Œåœ¨ ES6 ä¸­å…±äº«ä¸€ä¸ªåç§°çš„é”®å’Œå€¼å¯ä»¥ç”¨å¦‚ä¸‹ç®€å†™:

```
const animal2 = (type, name) => ({ type, name });animal2('dog', 'Damon');// Output: Object {type: "dog", name: "Damon"}
```

*å¥½ç¾ï¼*

## è¯­å¢ƒ

è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¼ ç»Ÿå‡½æ•°å¤„ç†ä¸Šä¸‹æ–‡çš„æ–¹å¼ï¼Œå°†äº‹ä»¶ç›‘å¬å™¨ç»‘å®šåˆ°æŒ‰é’®ï¼Œå¹¶åœ¨å•å‡»æ—¶è®°å½•`this`:

```
var button = document.getElementById('contextButton');button.addEventListener('click', function(){
  console.log(this);
});// Output on click: <button id="contextButton">...</button> 
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¼ ç»Ÿå‡½æ•°å°†`this`çš„å€¼ç»‘å®šåˆ°äº‹ä»¶ç›‘å¬å™¨è¢«åˆ†é…åˆ°çš„å…ƒç´ ã€‚

è¯·è€ƒè™‘ä»¥ä¸‹ä½¿ç”¨ç®­å¤´å‡½æ•°çš„ç¤ºä¾‹:

```
const button = document.getElementById('contextButton');button.addEventListener('click', () => {
  console.log(this);
});// Output on click: Window { ... }
```

è¿™é‡Œæˆ‘ä»¬è¯´æ˜äº† arrow å‡½æ•°å¦‚ä½•åˆ©ç”¨è¯æ³•ç»‘å®šä»çˆ¶ä¸Šä¸‹æ–‡ä¸­ç»§æ‰¿`this`çš„å€¼ã€‚ç”±äºè¿™æ®µä»£ç å­˜åœ¨äºå…¨å±€èŒƒå›´å†…ï¼Œå®ƒçš„çˆ¶å¯¹è±¡(ä»¥åŠ`this`çš„ç»“æœ)æ˜¯`Window {}`å¯¹è±¡ã€‚

## ç»†å¾®å·®åˆ«å’Œæœ€ç»ˆæƒ³æ³•

è¦è€ƒè™‘çš„æœ€åä¸€ä¸ªç»†å¾®å·®åˆ«æ˜¯`arguments`å¯¹è±¡å¯¹ç®­å¤´å‡½æ•°ä¸å¯ç”¨ã€‚

åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨ä¸€ä¸ªä¼ ç»Ÿçš„å‡½æ•°ï¼Œä½¿ç”¨`arguments`å¯¹è±¡è¿”å›ä¸€ä¸ªâ€œå‚æ•°å€¼â€æ•°ç»„:

```
var test = function(a, b) {
  return arguments;
}test(100, 200);// Output: [100, 200]
```

ä½¿ç”¨ arrow å‡½æ•°å°è¯•åŒæ ·çš„äº‹æƒ…ä¼šå¯¼è‡´é”™è¯¯:

```
const test = (a, b) => arguments;test(100, 200);// Output: [Uncaught ReferenceError] arguments is not defined
```

æœ€åï¼Œé‡è¦çš„æ˜¯è¦è®¤è¯†åˆ°ï¼Œå³ä½¿ç®­å¤´å‡½æ•°æ˜¯ç¾ä¸½çš„ã€ç®€çŸ­çš„å’Œç®€æ´çš„ï¼Œå®ƒä»¬ä¹Ÿä¸èƒ½ä»£æ›¿ä¼ ç»Ÿçš„å‡½æ•°ã€‚ä»–ä»¬å¯¹è¯æ³•ç»‘å®šçš„ä½¿ç”¨æ„å‘³ç€æœ‰æ˜ç¡®çš„ç”¨ä¾‹ï¼Œæˆ‘ä»¬åº”è¯¥å’Œä¸åº”è¯¥ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚

æ„Ÿè°¢é˜…è¯»ã€‚å¦‚æœæ‚¨å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·è€ƒè™‘æ¨èå®ƒæ¥æ”¯æŒæœ¬ç³»åˆ—çš„æœªæ¥å®‰è£…ã€‚ğŸ‘

[*ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ç¬¬ä¸‰éƒ¨åˆ†:ç†è§£æ ‡å‡†çš„ã€åµŒå…¥å¼çš„ã€å¤šè¡Œçš„å’Œå¸¦æ ‡ç­¾çš„æ¨¡æ¿æ–‡å­—ã€‚*](/@andrewjrhill/getting-to-grips-with-es6-template-literals-9a42e4389e1e#.5opel5frn)