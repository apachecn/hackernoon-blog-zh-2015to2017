<html>
<head>
<title>How to Create and Deploy a Telegram Bot?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•åˆ›å»ºå’Œéƒ¨ç½²ç”µæŠ¥æœºå™¨äººï¼Ÿ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/how-to-create-and-deploy-a-telegram-bot-2addd8aec6b4?source=collection_archive---------1-----------------------#2017-02-27">https://medium.com/hackernoon/how-to-create-and-deploy-a-telegram-bot-2addd8aec6b4?source=collection_archive---------1-----------------------#2017-02-27</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/d9bb4e7be57f7ad1b883dd89b45d5e22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rEGExeRMb2lXCyC8gukkQQ.png"/></div></div></figure><h1 id="8f24" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">ä»‹ç»æˆ–ä¸ºä»€ä¹ˆä½ åº”è¯¥å°è¯•ä¸€ä¸ªæœºå™¨äºº</h1><p id="bd44" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated"><strong class="kc hv"> <em class="ky">(å¦‚æœä½ å·²ç»çŸ¥é“å¦‚ä½•å¤„ç†ä½ çš„æœºå™¨äººï¼Œä½ å¯ä»¥è·³è¿‡)</em> </strong></p><blockquote class="kz"><p id="552d" class="la lb hu bd lc ld le lf lg lh li kx ek translated">æ³¨æ„:ç”±äºé™ä»·ï¼Œä»£ç ç¤ºä¾‹å¯èƒ½æ˜¾ç¤ºä¸æ­£ç¡®ã€‚æˆ‘å»ºè®®<a class="ae lj" href="https://djangostars.com/blog/how-to-create-and-deploy-a-telegram-bot/?utm_source=medium&amp;utm_medium=hackernoon.com&amp;utm_campaign=telegram%20bot&amp;utm_content=continue%20reading" rel="noopener ugc nofollow" target="_blank">ç»§ç»­é˜…è¯»æˆ‘ä»¬åšå®¢</a>ä¸Šçš„åŸæ–‡ï¼Œä»¥ç¡®ä¿æ‰€æœ‰çš„ä¾‹å­éƒ½èƒ½æ­£ç¡®æ˜¾ç¤ºã€‚</p></blockquote><p id="9e66" class="pw-post-body-paragraph ka kb hu kc b kd lk kf kg kh ll kj kk kl lm kn ko kp ln kr ks kt lo kv kw kx hn dt translated">æœºå™¨äººæ— å¤„ä¸åœ¨ã€‚ä¼¼ä¹å°±åœ¨æ˜¨å¤©ï¼Œæˆ‘ä»¬ç”šè‡³ä¸çŸ¥é“å®ƒä»¬çš„å­˜åœ¨ï¼›ç°åœ¨æˆ‘ä»¬å‡ ä¹æ— æ³•æƒ³è±¡æ²¡æœ‰ä»–ä»¬çš„ç”Ÿæ´»ã€‚å®ƒä»¬åœ¨messengersçš„ä¼—å¤šæ´»è·ƒç”¨æˆ·ä¸­å¹¿å—æ¬¢è¿ï¼Œå› ä¸ºå®ƒä»¬æœ‰å„ç§å„æ ·çš„ä½¿ç”¨èŒƒå›´â€”â€”ä»å¨±ä¹å†…å®¹ï¼ŒåŒ…æ‹¬å¾ªåºæ¸è¿›çš„æ¸¸æˆå’Œåœ¨é¤é¦†æ”¶é›†å¥–åŠ±ç§¯åˆ†ï¼Œåˆ°ä¿æŒé¥®é£Ÿè®¡åˆ’ï¼Œè·Ÿè¸ªé€è´§ï¼Œç”šè‡³ä¸ºä¸åŒçš„æœåŠ¡ä»˜æ¬¾ã€‚</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lp"><img src="../Images/d105b45068fd6499fa351d6185ad26f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lxgdxOo2yoGjRjjo.png"/></div></div></figure><p id="1757" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ä¸ºä»€ä¹ˆå®ƒä»¬å¦‚æ­¤å—æ¬¢è¿ï¼Ÿä»–ä»¬çš„ç§˜è¯€æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘è®¤ä¸ºæ›´ç›¸å…³çš„é—®é¢˜æ˜¯ä¸ºä»€ä¹ˆå®ƒä»¬æ¯”ä¸€ä¸ªappæ›´æ–¹ä¾¿ã€‚æœ‰å‡ ä¸ªåŸå› ã€‚</p><p id="284f" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated"><strong class="kc hv"> 1)æç®€ç®€å•çš„è®¾è®¡ã€‚</strong> <br/>å—¯ï¼Œbotæ ¹æœ¬å°±ä¸èƒ½æœ‰å¤šå½©çš„è®¾è®¡ã€‚ä½†æ˜¯æ¯«æ— ç–‘é—®ï¼Œä¸ä¼—å¤šä¸åŒè®¾è®¡çš„åº”ç”¨ç¨‹åºç›¸æ¯”ï¼Œå½“ä½ å¿…é¡»è®°ä½åœ¨å“ªé‡Œç‚¹å‡»ä»€ä¹ˆæ—¶ï¼Œbotæ›´é€šç”¨å’Œå®¹æ˜“ï¼›å®ƒé€šè¿‡æ–‡æœ¬æä¾›ç®€å•çš„äº¤æµã€‚</p><p id="4b77" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated"><strong class="kc hv"> 2) Botå¹¿å‘Šæœ€å°‘ï¼Œå…³æ³¨ç”¨æˆ·éœ€æ±‚ã€‚å¦‚æœä½ å¯ä»¥ä»æœºå™¨äººé‚£é‡Œè·å¾—æ‰€æœ‰å¿…è¦çš„å¸®åŠ©ï¼Œä½ å°±ä¸å¿…ä¸ºæ¯é¡¹æœåŠ¡å®‰è£…æ•°ç™¾ä¸ªåº”ç”¨ç¨‹åºã€‚è¿™å¯¹é¤é¦†å’Œå•†åº—ç‰¹åˆ«æœ‰ç”¨ã€‚å®¢æˆ·å¾ˆå°‘æ¸´æœ›ä»ä»–ä»¬è®¿é—®è¿‡çš„åœ°æ–¹å®‰è£…åº”ç”¨ç¨‹åºã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œä¼ä¸šä¸»é”™è¿‡äº†å®¢æˆ·çš„åé¦ˆï¼Œå¤±å»äº†ä¸ä»–ä»¬çš„æ²Ÿé€šã€‚å¦‚æœæ¯ä¸ªåœ°æ–¹éƒ½æœ‰è‡ªå·±çš„æœºå™¨äººå¯ä»¥åœ¨ä¸åŒçš„ä¿¡ä½¿ä¸­ä½¿ç”¨ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ä¼šæ›´åŠ æ–¹ä¾¿å’Œå‹å¥½ã€‚æ²¡æœ‰äººå–œæ¬¢ç”¨é‚£äº›åªä½¿ç”¨ä¸€ä¸¤æ¬¡çš„ä¸å¿…è¦çš„åº”ç”¨ç¨‹åºæ¥å¡«æ»¡æ‰‹æœºçš„å­˜å‚¨ç©ºé—´ã€‚ç„¶è€Œï¼Œå®¢æˆ·éœ€è¦ä¸æœåŠ¡æ‰€æœ‰è€…æ¥è§¦ï¼Œä»–ä»¬ä¼šå¾ˆé«˜å…´é€šè¿‡ä»–ä»¬æœ€å–œæ¬¢çš„ä¿¡ä½¿æ¥è¿™æ ·åšã€‚</strong></p><p id="4c78" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated"><strong class="kc hv"> 3)æ— éœ€æ³¨å†Œã€æˆæƒå’Œä¸æ–­é‡æ–°ç™»å½•</strong> <br/>ä½¿ç”¨æœºå™¨äººï¼Œç”¨æˆ·åªéœ€åœ¨æœºå™¨äººåŠ å…¥èŠå¤©æ—¶é€šè¿‡ä¸€æ¬¡æˆæƒã€‚å®¢æˆ·ç«¯å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨è¯¥æœºå™¨äººï¼Œå½“ä¸å†éœ€è¦å®ƒæ—¶ï¼Œç”¨æˆ·åªéœ€é˜»æ­¢è¯¥æœºå™¨äººã€‚å°±è¿™æ ·ï¼Œç®€å•ï¼ä¸å†æœ‰å¯†ç é‡ç½®ã€‚</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lz"><img src="../Images/aaaff79aa96f70b15cd75db251f1ddc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zI8hR6O6bwlwK26K.png"/></div></div></figure><p id="dceb" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ä¸éœ€è¦è®°ä½å¯†ç æˆ–ç™»å½•ä½¿ç”¨ã€‚å°†botæ·»åŠ åˆ°ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºä¸­ä¼šå¢åŠ ç”¨æˆ·å—ä¼—çš„æ•°é‡ï¼Œå› ä¸ºå®ƒä½¿ä¸å®¢æˆ·çš„æ²Ÿé€šå’Œå‘ä»–ä»¬æä¾›å¸®åŠ©å˜å¾—æ›´åŠ å®¹æ˜“å’Œç”¨æˆ·å‹å¥½ã€‚</p><p id="8bf4" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å› æ­¤ï¼Œæˆ‘ä»¬æè¿°äº†æœºå™¨äººçš„ä¸»è¦ä¼˜åŠ¿ï¼Œç°åœ¨ä½ å¿…é¡»æ„¿æ„åˆ›å»ºè‡ªå·±çš„æœºå™¨äººã€‚è®©æˆ‘ä»¬ç»§ç»­ç»ƒä¹ ã€‚ä½†é¦–å…ˆï¼Œæˆ‘ä»¬å°†çœ‹çœ‹åœ¨é¢„å¼€å‘é˜¶æ®µå¿…é¡»è§£å†³çš„é—®é¢˜ã€‚</p><h1 id="7ad9" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">ç”µæŠ¥æœºå™¨äººå¼€å‘çš„ç»†å¾®å·®åˆ«</h1><p id="76cf" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">å½“æˆ‘ä»¬å·²ç»ç¡®å®šäº†åˆ›å»º<a class="ae lj" href="https://chatbotslife.com/" rel="noopener ugc nofollow" target="_blank">æœºå™¨äºº</a>çš„åŸå› æ—¶ï¼Œç°åœ¨æ˜¯æ—¶å€™è€ƒè™‘æˆ‘ä»¬è®¡åˆ’å¦‚ä½•ç»„ç»‡å¼€å‘è¿‡ç¨‹ä»¥åŠæˆ‘ä»¬éœ€è¦ä»€ä¹ˆå·¥å…·äº†ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†åœ¨å®è·µä¸­æ¼”ç¤ºå¦‚ä½•åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªæœºå™¨äººï¼Œä»¥åŠå¦‚ä½•æ•™å®ƒæŠŠæˆ‘ä»¬çš„ä¿¡æ¯ç¿»è¿‡æ¥ã€‚</p><p id="477e" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è®¡åˆ’å¦‚ä½•<a class="ae lj" href="https://djangostars.com/blog/how-much-it-costs-to-build-a-web-application/?utm_source=medium&amp;utm_medium=hackernoon.com&amp;utm_campaign=telegram%20bot&amp;utm_content=build%20the%20app" rel="noopener ugc nofollow" target="_blank">æ„å»ºåº”ç”¨</a>ä»¥åŠä½¿ç”¨ä»€ä¹ˆå¼€å‘å·¥å…·ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•å»ºç«‹æ‚¨çš„ç¬¬ä¸€ä¸ªç”µæŠ¥æœºå™¨äººï¼Œå¹¶å°†æ•™å®ƒæŠŠæˆ‘ä»¬çš„ä¿¡æ¯ã€‚<br/>å› ä¸ºè¿™æ˜¯åˆå­¦è€…çš„æ‰‹å†Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å•ä¸ªç«¯ç‚¹è¿è¡ŒæœåŠ¡å™¨ï¼Œè¯¥ç«¯ç‚¹å°†æ¥æ”¶æˆ‘ä»¬çš„ç”µæŠ¥æ¶ˆæ¯å¹¶åšå‡ºå›ç­”ã€‚</p><p id="6b88" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹å·¥å…·:</p><ul class=""><li id="b3d6" class="ma mb hu kc b kd lu kh lv kl mc kp md kt me kx mf mg mh mi dt translated"><a class="ae lj" href="https://bottlepy.org/docs/dev/" rel="noopener ugc nofollow" target="_blank">ç“¶å­</a> â€”ä¸ºæˆ‘ä»¬çš„æœåŠ¡å™¨ï¼›ä¸€ä¸ªç®€å•è½»é‡çš„WSGIå¾®å‹ç½‘ç»œæ¡†æ¶</li><li id="f4bb" class="ma mb hu kc b kd mj kh mk kl ml kp mm kt mn kx mf mg mh mi dt translated"><a class="ae lj" href="http://docs.python-requests.org/en/master/" rel="noopener ugc nofollow" target="_blank">è¯·æ±‚</a> â€”ç”¨äºå‘ç”µæŠ¥å‘é€è¯·æ±‚ã€‚libä¸éœ€è¦æœ‰è¿‡å¤šçš„ä»£è¡¨ã€‚å®ƒåœ¨ä¸–ç•Œå„åœ°çš„å„ç§é¡¹ç›®ä¸­æ™®éä½¿ç”¨ã€‚<br/>æ³¨æ„:ä½ å¿…é¡»åœ¨ä½ çš„ç”µè„‘ä¸Šå®‰è£…è¿™äº›å·¥å…·ã€‚æˆ‘ä»¬ä»¥åä¼šéœ€è¦å®ƒä»¬ã€‚ä¸ºæ­¤ï¼Œæ‰“å¼€bashæ§åˆ¶å°å¹¶é€šè¿‡pipå®‰è£…å®ƒ</li></ul><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="af2b" class="mw jd hu mr b fv mx my l mz na">pip install bottle requests</span></pre><ul class=""><li id="f4b9" class="ma mb hu kc b kd lu kh lv kl mc kp md kt me kx mf mg mh mi dt translated"><code class="eh mo mp mq mr b">ngrok</code>â€“è¿™æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œåœ¨æ•´ä¸ªå¼€å‘é˜¶æ®µä¸ºæˆ‘ä»¬æä¾›ä¸Telegram WebHookäº¤äº’çš„å…¬å…±URL(è¯·åœ¨ä¸‹é¢çš„WebHookä¸ŠæŸ¥æ‰¾ä¿¡æ¯)ã€‚è¿™å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºTelegramå°†æ— æ³•ä¸æˆ‘ä»¬çš„æœ¬åœ°æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•åœ¨Telegram APIé…ç½®ä¸­æŒ‡å®šæˆ‘ä»¬çš„æœ¬åœ°åœ°å€ã€‚<br/>ä½ è¦ä»<a class="ae lj" href="https://ngrok.com/download" rel="noopener ugc nofollow" target="_blank">å®˜æ–¹ç½‘ç«™</a>ä¸‹è½½<code class="eh mo mp mq mr b">ngrok</code>ï¼ŒæŠŠå®‰è£…å¥½çš„appæ”¾åœ¨æœ‰é¡¹ç›®çš„æ–‡ä»¶å¤¹é‡Œã€‚</li></ul><h1 id="dda0" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªæœºå™¨äººæ€ä¹ˆæ ·ï¼Ÿ</h1><p id="c7ff" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">å¦‚æœä½ çƒ­è¡·äºæ­¤ï¼Œæ¢ç´¢è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†æä¾›ä¸€ä¸ªè¯¦ç»†çš„ç”µæŠ¥æœºå™¨äººå¼€å‘æ•™ç¨‹ã€‚</p><p id="9890" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">é‡è¦çš„äº‹æƒ…å…ˆæ¥ã€‚ä½ éœ€è¦åœ¨ç”µæŠ¥ä¸Šç™»è®°(å¾ˆæ˜æ˜¾)ã€‚æˆ‘æ¨èä½¿ç”¨<a class="ae lj" href="https://web.telegram.org/" rel="noopener ugc nofollow" target="_blank"> Telegram webå®¢æˆ·ç«¯</a>æ¥æµ‹è¯•åŸºæœ¬æ¦‚å¿µã€‚</p><p id="d54c" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">æ‰“å¼€Telegram appï¼Œæœç´¢<strong class="kc hv"> @BotFather </strong>ï¼Œå¼€å§‹èŠå¤©ã€‚å‘é€<strong class="kc hv"> /newbot </strong>å‘½ä»¤å¹¶æŒ‰ç…§æŒ‡ç¤ºæ“ä½œã€‚å®Œæˆåˆå§‹æ­¥éª¤åï¼Œæ‚¨å°†è·å¾—â€”</p><ul class=""><li id="cb55" class="ma mb hu kc b kd lu kh lv kl mc kp md kt me kx mf mg mh mi dt translated">ä½ çš„ä»¤ç‰Œ</li><li id="8c16" class="ma mb hu kc b kd mj kh mk kl ml kp mm kt mn kx mf mg mh mi dt translated">ç”µæŠ¥API URLâ€”<a class="ae lj" href="https://api.telegram.org/bot" rel="noopener ugc nofollow" target="_blank"><strong class="kc hv">https://api.telegram.org/bot</strong></a></li><li id="9278" class="ma mb hu kc b kd mj kh mk kl ml kp mm kt mn kx mf mg mh mi dt translated"><a class="ae lj" href="https://core.telegram.org/bots/api" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£é“¾æ¥</a></li></ul><p id="16c9" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å¨å°”æ–¯ï¼Œå…¶å®å°±æ˜¯è¿™æ ·ã€‚ç›®å‰ï¼Œæœºå™¨äººæ˜¯100%è¢«åŠ¨çš„ã€‚</p><p id="f69f" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">æ‚¨éœ€è¦åˆå§‹åŒ–ä¸æ‚¨çš„<a class="ae lj" href="https://chatbotslife.com/" rel="noopener ugc nofollow" target="_blank">æœºå™¨äºº</a>çš„å¯¹è¯ã€‚æ‰“å¼€æœç´¢ï¼Œè¾“å…¥ä½ çš„æœºå™¨äººçš„åå­—ã€‚ç‚¹å‡»<strong class="kc hv">/å¼€å§‹</strong>æŒ‰é’®å¼€å§‹å¯¹è¯ã€‚é”®å…¥ç±»ä¼¼â€œä½ å¥½â€çš„å†…å®¹ã€‚è¿™æ¡æ¶ˆæ¯å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒæ˜¯ä½ çš„æœºå™¨äººå°†æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªæ›´æ–°ã€‚</p><p id="9242" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å¦‚æœè¿™æ˜¯æ‚¨ç¬¬ä¸€æ¬¡ä½“éªŒæ„å»ºAPIï¼Œæ‚¨å¯ä»¥ä½¿ç”¨webæµè§ˆå™¨è½»æ¾äº†è§£è¿™ä¸ªæƒ³æ³•ã€‚åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸€ä¸ªæ–°æ ‡ç­¾ï¼Œä½¿ç”¨ç”µæŠ¥API URLâ€“</p><p id="4629" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated"><a class="ae lj" href="https://api.telegram.org/bot%3Ctoken%3E/getUpdates" rel="noopener ugc nofollow" target="_blank"><strong class="kc hv">https://api.telegram.org/bot&lt;ä»¤ç‰Œ&gt; /getUpdates </strong> </a></p><p id="43a5" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å½“æ‚¨åœ¨webæµè§ˆå™¨ä¸­æ‰“å¼€è¿™ä¸ªURLæ—¶ï¼Œæ‚¨å‘TelegramæœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œå®ƒç”¨JSONä½œå‡ºå“åº”ã€‚å“åº”ç±»ä¼¼äºPythonå­—å…¸ã€‚æ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:</p><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="989a" class="mw jd hu mr b fv mx my l mz na">{"ok":true,"result":[{"update_id":523349956,<br/>"message":{"message_id":51,"from":{"id":303262877,"first_name":"YourName"},"chat":{"id":303262877,"first_name":"YourName","type":"private"},"date":1486829360,"text":"Hello"}}]}</span></pre><p id="0efe" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å¦‚æœä½ æ‰“å¼€botsæ–‡æ¡£å¹¶æ£€æŸ¥<strong class="kc hv"> /sendMessage </strong>æ–¹æ³•<a class="ae lj" href="https://core.telegram.org/bots/api#sendmessage" rel="noopener ugc nofollow" target="_blank">éƒ¨åˆ†</a>ï¼Œä½ ä¼šæ³¨æ„åˆ°è¿™ä¸ªæ–¹æ³•éœ€è¦ä¸¤ä¸ªé¢å¤–çš„å‚æ•°<strong class="kc hv"> chat_id </strong>å’Œ<strong class="kc hv"> text </strong>ã€‚åœ¨æµè§ˆå™¨æœç´¢æ ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<strong class="kc hv">é“¾æ¥å‚æ•°ã€‚</strong>ä¸ºç¬¬ä¸€ä¸ªï¼Œ<strong class="kc hv"> &amp;ä¸ºæ‰€æœ‰çš„åä»¶ã€‚å‘é€æ¶ˆæ¯çœ‹èµ·æ¥åƒè¿™æ ·</strong></p><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="2882" class="mw jd hu mr b fv mx my l mz na">/sendMessage?chat_id=303262877&amp;text=test</span></pre><p id="d88f" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å°è¯•é€šè¿‡è°ƒç”¨<strong class="kc hv"> /getUpdates </strong>å°†<strong class="kc hv"> chat_id </strong>æ›¿æ¢ä¸ºæ‚¨è·å¾—çš„å›å¤ã€‚æˆ‘çš„å·ç æ˜¯303262877ã€‚æ–‡æœ¬å‚æ•°ç”±æ‚¨å†³å®šã€‚è¯·æ±‚åº”è¯¥æ˜¯è¿™æ ·çš„</p><p id="3240" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">https://api.telegram.org/bot&lt;ä½ çš„-token &gt; /sendMessageï¼Ÿchat _ id =&amp;text =&lt;your-text&gt;T37ã€‘</p><h1 id="927e" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">WebHook</h1><p id="7b07" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated"><strong class="kc hv">(å¦‚æœä½ ç†Ÿæ‚‰WebHookå¯ä»¥è·³è¿‡è¿™ä¸€éƒ¨åˆ†)</strong></p><p id="badb" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ç®€è€Œè¨€ä¹‹ï¼ŒWebHookæ˜¯ä¸€ä¸ªè¶Šæ¥è¶Šæµè¡Œçš„APIæ¦‚å¿µã€‚WebHookçš„æ¦‚å¿µå¾ˆç®€å•ã€‚WebHookæ˜¯ä¸€ä¸ªHTTPå›è°ƒ:ä¸€ä¸ªHTTP POSTï¼Œå½“æŸä»¶äº‹æƒ…å‘ç”Ÿæ—¶å‘ç”Ÿï¼›é€šè¿‡HTTP POSTçš„ç®€å•äº‹ä»¶é€šçŸ¥ã€‚</p><p id="f477" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å†è§£é‡Šä¸€ä¸‹ï¼Œæœ‰æ—¶åœ¨çº¿åº”ç”¨ç¨‹åºä¹‹é—´çš„äº¤äº’éœ€è¦å¯¹äº‹ä»¶åšå‡ºå³æ—¶å“åº”ï¼Œè€ŒæŒç»­ä¸æ–­è¿æ¥çš„è§£å†³æ–¹æ¡ˆé€šå¸¸éƒ½å¾ˆéº»çƒ¦ã€è‹›åˆ»ä¸”éš¾ä»¥æ”¯æŒã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½ä¹Ÿæ˜¯æœ€å®¹æ˜“çš„è§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡HTTPç«‹å³å›è°ƒ(æœ€å¸¸è§çš„æ˜¯POST)ã€‚</p><p id="48fc" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">æ¢å¥è¯è¯´ï¼Œè¯¥è§£å†³æ–¹æ¡ˆé€šè¿‡å‘å…¶ä»–è¿æ¥çš„åº”ç”¨ç¨‹åºå‘é€HTTP POSTè¯·æ±‚æ¥é€šçŸ¥å®ƒæˆ–è®©å®ƒå“åº”ï¼Œä»è€Œç¡®ä¿å¯¹ä¸€ä¸ªåº”ç”¨ç¨‹åºå†…çš„ä»»ä½•äº‹ä»¶çš„å“åº”ã€‚</p><p id="012d" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">è¿™ä¸ªç¡®åˆ‡çš„æ¦‚å¿µå«åšWebHookã€‚å®ƒå¹¿æ³›ç”¨äº:</p><ul class=""><li id="ccac" class="ma mb hu kc b kd lu kh lv kl mc kp md kt me kx mf mg mh mi dt translated">å®æ—¶æ¥æ”¶æ•°æ®</li><li id="a343" class="ma mb hu kc b kd mj kh mk kl ml kp mm kt mn kx mf mg mh mi dt translated">æ¥æ”¶æ•°æ®å¹¶ä¼ é€’æ•°æ®</li><li id="43cd" class="ma mb hu kc b kd mj kh mk kl ml kp mm kt mn kx mf mg mh mi dt translated">å¤„ç†æ•°æ®å¹¶ç»™äºˆå›æŠ¥</li></ul><p id="17cf" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">è¿™ä¼¼ä¹æ˜¯ç”µæŠ¥å®¢æˆ·ç«¯(ç”µæŠ¥åº”ç”¨ç¨‹åº)ä¸æˆ‘ä»¬çš„é¡¹ç›®äº¤äº’çš„æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lp"><img src="../Images/99b3967de606ebf59de9ed4709210083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sXEHo-3QNeWeKKqr.png"/></div></div></figure><h1 id="60a1" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">ç¼–ç éƒ¨åˆ†</h1><p id="2ee2" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">æœ€åï¼Œæˆ‘ä»¬å¼€å§‹æœ€å®é™…çš„éƒ¨åˆ†ï¼Œä½ å°†èƒ½å¤Ÿå¼€å‘ä¸€ä¸ªç”µæŠ¥æœºå™¨äººã€‚</p><p id="81ab" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated"><em class="ky">ä¸»è¦ä»»åŠ¡:æ•™æˆ‘ä»¬çš„æœºå™¨äººæŠŠæˆ‘ä»¬çš„ä¿¡æ¯åè¿‡æ¥</em></p><p id="0ef4" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">é¦–å…ˆï¼Œä¸ºæˆ‘ä»¬çš„boté¡¹ç›®åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚</p><p id="83db" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å…¶æ¬¡ï¼Œåˆ›å»ºbot.pyæ–‡ä»¶ï¼Œåšä¸€ä¸ªç“¶å­æœåŠ¡å™¨ã€‚</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lp"><img src="../Images/85d28dff02607450ed4f5570782787e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HIi8IMyyLJwQOIAf.png"/></div></div></figure><p id="f19a" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¼€å‘bot.py</p><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="2530" class="mw jd hu mr b fv mx my l mz na">from bottle import run, post</span><span id="e16a" class="mw jd hu mr b fv nb my l mz na">@post('/')  # our python function based endpoint<br/>def main():  <br/>    return</span><span id="0365" class="mw jd hu mr b fv nb my l mz na">if __name__ == '__main__':  <br/>    run(host='localhost', port=8080, debug=True)</span></pre><p id="4700" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">è®©æˆ‘ä»¬å°è¯•å¯åŠ¨æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚ä¸ºæ­¤ï¼Œåœ¨æ‚¨çš„botæ–‡ä»¶å¤¹ä¸­æ‰“å¼€bashã€‚</p><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="41f1" class="mw jd hu mr b fv mx my l mz na">python bot.py</span></pre><p id="897b" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">åœ¨ç»“æœä¸­ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nc"><img src="../Images/950d7b9e1e1ecf5ab35b59a6fac87729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dbzp1FqnBYAloo_8.png"/></div></div></figure><p id="f60a" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ç„¶åï¼Œæ‰“å¼€ä¸€ä¸ªæ–°æ ‡ç­¾ã€‚åœ¨ä¸‹ä¸€ä¸ªé€‰é¡¹å¡ä¸­ï¼Œæˆ‘ä»¬å°†å¼€å§‹<code class="eh mo mp mq mr b">ngrok</code></p><p id="1e26" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated"><code class="eh mo mp mq mr b">./ngrok http &lt;our_server_port&gt;</code></p><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="446e" class="mw jd hu mr b fv mx my l mz na">./ngrok http 8080</span></pre><p id="9bf3" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ä¹‹åï¼Œæ‚¨ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nd"><img src="../Images/07872d18bebe620efd512cafa8dd5367.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jjS_Jptl9hAin1Za.png"/></div></div></figure><p id="4b29" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬è®¾ç½®WebHookã€‚</p><p id="8293" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated"><a class="ae lj" rel="noopener ugc nofollow" target="_blank" href="/">https://api.telegram.org/bot&lt;your _ token&gt;/setweb hookï¼ŸURL =</a><a class="ae lj" href="https://%3Cyour_ngrok_url.ngrok.io/" rel="noopener ugc nofollow" target="_blank">https://&lt;your _ ngrok _ URL . ngrok . io/</a></p><ul class=""><li id="8f65" class="ma mb hu kc b kd lu kh lv kl mc kp md kt me kx mf mg mh mi dt translated">æ³¨æ„:è¦æ‰¾åˆ°ngrok URLï¼Œæ‚¨å¿…é¡»å¯åŠ¨ngrokã€‚ç„¶åï¼Œåœ¨ç±»ä¼¼äºä¸‹å›¾çš„å±å¹•ä¸Šï¼Œæ‚¨ä¼šæ‰¾åˆ°URL(å®ƒåœ¨æˆ‘ä»¬çš„æˆªå±ä¸Šçªå‡ºæ˜¾ç¤º)ã€‚æ‚¨åœ¨è®¾ç½®WebHookçš„é“¾æ¥ä¸­ä½¿ç”¨çš„URLã€‚</li></ul><p id="244f" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å¯¹é“¾æ¥çš„å›åº”åº”è¯¥æ˜¯:</p><p id="b797" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated"><code class="eh mo mp mq mr b">{"ok":true,"result":true,"description":"Webhook was set"}</code></p><p id="e899" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹ä½ æ˜¯å¦æˆåŠŸè®¾ç½®äº†WebHookã€‚ä½¿ç”¨æ‚¨çš„ä»¤ç‰Œè®¿é—®æ­¤é“¾æ¥:</p><p id="7396" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated"><a class="ae lj" rel="noopener ugc nofollow" target="_blank" href="/">https://api.telegram.org/bot&lt;your _ token&gt;/getWebhookInfo</a></p><p id="9a59" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæ‚¨å°†åœ¨é…ç½®æ—¶æŒ‡å®šçš„URLé”®å‰é¢çœ‹åˆ°ç›¸åŒçš„ngrokåœ°å€å€¼ã€‚</p><p id="9623" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">æ­å–œï¼Œå®ƒè¿˜æ´»ç€ï¼</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div class="fe ff ne"><img src="../Images/98213f4e5a1d7b07a693c0c594b7d9b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/0*Z2EBKT4do0iuYlj9.gif"/></div></figure><p id="3d7e" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªæ¶ˆæ¯è¯·æ±‚/å“åº”æœºåˆ¶ã€‚<br/>åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬çš„ç«¯ç‚¹è·å–jsonæ ¼å¼çš„æ•°æ®ã€‚å› æ­¤ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæ‚¨ä¼šçœ‹åˆ°æ•°æ®æ¶ˆæ¯ã€‚</p><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="5459" class="mw jd hu mr b fv mx my l mz na">from bottle import run, post, request as bottle_request  # &lt;--- we add bottle request</span><span id="55f0" class="mw jd hu mr b fv nb my l mz na">@post('/')<br/>def main():  <br/>    data = bottle_request.json  # &lt;--- extract all request data<br/>    print(data)</span><span id="cd32" class="mw jd hu mr b fv nb my l mz na">return</span><span id="18ac" class="mw jd hu mr b fv nb my l mz na">if __name__ == '__main__':  <br/>    run(host='localhost', port=8080, debug=True)</span></pre><p id="20a1" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å®ƒåº”è¯¥ç±»ä¼¼äºå¯åŠ¨æœåŠ¡å™¨çš„æ§åˆ¶å°é€‰é¡¹å¡ä¸­çš„å†…å®¹ã€‚</p><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="6576" class="mw jd hu mr b fv mx my l mz na">{'update_id': &lt;integer&gt;, 'message': {'message_id': &lt;integer&gt;, 'from': {'id': &lt;your telegram id&gt;, 'is_bot': False, 'first_name': '&lt;your telegram name&gt;', 'last_name': '&lt;...&gt;', 'username': '&lt;...&gt;', 'language_code': 'en-En'}, 'chat': {'id': &lt;integer chat id&gt;, 'first_name': '&lt;...&gt;', 'last_name': '&lt;...&gt;', 'username': '&lt;...&gt;', 'type': 'private'}, 'date': 1535022558, 'text': '1'}}</span></pre><p id="4349" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å…³äºå‚æ•°çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥åœ¨<a class="ae lj" href="https://core.telegram.org/bots/api" rel="noopener ugc nofollow" target="_blank">ç”µæŠ¥</a>çš„å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°ã€‚</p><p id="7f54" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»æå–<code class="eh mo mp mq mr b">chat_id</code>å’Œ<code class="eh mo mp mq mr b">text</code>ï¼Œä»¥ä¾¿å°†æˆ‘ä»¬çš„æ¶ˆæ¯åè¿‡æ¥å‘é€ç­”æ¡ˆã€‚</p><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="e858" class="mw jd hu mr b fv mx my l mz na">from bottle import (  <br/>    run, post, response, request as bottle_request<br/>)</span><span id="3939" class="mw jd hu mr b fv nb my l mz na">def get_chat_id(data):  <br/>    """<br/>    Method to extract chat id from telegram request.<br/>    """<br/>    chat_id = data['message']['chat']['id']</span><span id="f62e" class="mw jd hu mr b fv nb my l mz na">return chat_id</span><span id="86b9" class="mw jd hu mr b fv nb my l mz na">def get_message(data):  <br/>    """<br/>    Method to extract message id from telegram request.<br/>    """<br/>    message_text = data['message']['text']<br/>    return message_text</span><span id="209f" class="mw jd hu mr b fv nb my l mz na">def change_text_message(text):  <br/>    """<br/>    To turn our message backwards.<br/>    """<br/>    return text[::-1]</span><span id="e914" class="mw jd hu mr b fv nb my l mz na">@post('/')<br/>def main():  <br/>    data = bottle_request.json<br/>    answer_data = prepare_data_for_answer(data)</span><span id="4b9c" class="mw jd hu mr b fv nb my l mz na">return response  # status 200 OK by default</span></pre><p id="8972" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº†ç­”æ¡ˆã€‚æˆ‘ä»¬æŠŠå®ƒå‘ç»™ç”µæŠ¥æœºå™¨äººå§ã€‚</p><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="6ceb" class="mw jd hu mr b fv mx my l mz na">import requests  <br/>from bottle import (  <br/>    run, post, response, request as bottle_request<br/>)</span><span id="b007" class="mw jd hu mr b fv nb my l mz na">BOT_URL = '<a class="ae lj" href="https://api.telegram.org/bot" rel="noopener ugc nofollow" target="_blank">https://api.telegram.org/bot</a>&lt;YOUR_TOKEN&gt;/' # &lt;--- add your telegram token here; it should be like <a class="ae lj" href="https://api.telegram.org/bot12345678:SOMErAn2dom/" rel="noopener ugc nofollow" target="_blank">https://api.telegram.org/bot12345678:SOMErAn2dom/</a></span><span id="3365" class="mw jd hu mr b fv nb my l mz na">def get_chat_id(data):  <br/>    """<br/>    Method to extract chat id from telegram request.<br/>    """<br/>    chat_id = data['message']['chat']['id']</span><span id="8e45" class="mw jd hu mr b fv nb my l mz na">return chat_id</span><span id="2014" class="mw jd hu mr b fv nb my l mz na">def get_message(data):  <br/>    """<br/>    Method to extract message id from telegram request.<br/>    """<br/>    message_text = data['message']['text']</span><span id="cf30" class="mw jd hu mr b fv nb my l mz na">return message_text</span><span id="59be" class="mw jd hu mr b fv nb my l mz na">def send_message(prepared_data):  <br/>    """<br/>    Prepared data should be json which includes at least `chat_id` and `text`<br/>    """ <br/>    message_url = BOT_URL + 'sendMessage'<br/>    requests.post(message_url, json=prepared_data)  # don't forget to make import requests lib</span><span id="a94d" class="mw jd hu mr b fv nb my l mz na">def change_text_message(text):  <br/>    """<br/>    To enable turning our message inside out<br/>    """<br/>    return text[::-1]</span><span id="7166" class="mw jd hu mr b fv nb my l mz na">def prepare_data_for_answer(data):  <br/>    answer = change_text_message(get_message(data))</span><span id="7f68" class="mw jd hu mr b fv nb my l mz na">json_data = {<br/>        "chat_id": get_chat_id(data),<br/>        "text": answer,<br/>    }</span><span id="7ecc" class="mw jd hu mr b fv nb my l mz na">return json_data</span><span id="5f2f" class="mw jd hu mr b fv nb my l mz na">@post('/')<br/>def main():  <br/>    data = bottle_request.json</span><span id="75b2" class="mw jd hu mr b fv nb my l mz na">answer_data = prepare_data_for_answer(data)<br/>    send_message(answer_data)  # &lt;--- function for sending answer</span><span id="451c" class="mw jd hu mr b fv nb my l mz na">return response  # status 200 OK by default</span><span id="6938" class="mw jd hu mr b fv nb my l mz na">if __name__ == '__main__':  <br/>    run(host='localhost', port=8080, debug=True)</span></pre><p id="5d0b" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">åœ¨æ‰€æœ‰çš„å‡†å¤‡å’Œç¼–ç ä¹‹åï¼Œå¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œè®©æˆ‘ä»¬è¯•ç€å’Œæˆ‘ä»¬çš„æœºå™¨äººèŠå¤©ã€‚</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div class="fe ff nf"><img src="../Images/38e5307fc3a8a470fad66760c854977c.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/0*Y3RcCULlZgG5ZzFf.png"/></div></figure><p id="53db" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬çš„ä»£ç æ›´å…·å¯è¯»æ€§ï¼Œå®ç°OOPç»“æ„ã€‚</p><pre class="lq lr ls lt fq ms mr mt mu aw mv dt"><span id="1cf9" class="mw jd hu mr b fv mx my l mz na">import requests  <br/>from bottle import Bottle, response, request as bottle_request</span><span id="f6e8" class="mw jd hu mr b fv nb my l mz na">class BotHandlerMixin:  <br/>    BOT_URL = None</span><span id="d244" class="mw jd hu mr b fv nb my l mz na">def get_chat_id(self, data):<br/>        """<br/>        Method to extract chat id from telegram request.<br/>        """<br/>        chat_id = data['message']['chat']['id']</span><span id="8b2c" class="mw jd hu mr b fv nb my l mz na">return chat_id</span><span id="ee52" class="mw jd hu mr b fv nb my l mz na">def get_message(self, data):<br/>        """<br/>        Method to extract message id from telegram request.<br/>        """<br/>        message_text = data['message']['text']</span><span id="7e70" class="mw jd hu mr b fv nb my l mz na">return message_text</span><span id="b818" class="mw jd hu mr b fv nb my l mz na">def send_message(self, prepared_data):<br/>        """<br/>        Prepared data should be json which includes at least `chat_id` and `text`<br/>        """       <br/>        message_url = self.BOT_URL + 'sendMessage'<br/>        requests.post(message_url, json=prepared_data)</span><span id="83e6" class="mw jd hu mr b fv nb my l mz na">class TelegramBot(BotHandlerMixin, Bottle):  <br/>    BOT_URL = '<a class="ae lj" href="https://api.telegram.org/bot000000000:aaaaaaaaaaaaaaaaaaaaaaaaaa/" rel="noopener ugc nofollow" target="_blank">https://api.telegram.org/bot000000000:aaaaaaaaaaaaaaaaaaaaaaaaaa/</a>'</span><span id="a743" class="mw jd hu mr b fv nb my l mz na">def __init__(self, *args, **kwargs):<br/>        super(TelegramBot, self).__init__()<br/>        self.route('/', callback=self.post_handler, method="POST")</span><span id="91b1" class="mw jd hu mr b fv nb my l mz na">def change_text_message(self, text):<br/>        return text[::-1]</span><span id="892b" class="mw jd hu mr b fv nb my l mz na">def prepare_data_for_answer(self, data):<br/>        message = self.get_message(data)<br/>        answer = self.change_text_message(message)<br/>        chat_id = self.get_chat_id(data)<br/>        json_data = {<br/>            "chat_id": chat_id,<br/>            "text": answer,<br/>        }</span><span id="7876" class="mw jd hu mr b fv nb my l mz na">return json_data</span><span id="892c" class="mw jd hu mr b fv nb my l mz na">def post_handler(self):<br/>        data = bottle_request.json<br/>        answer_data = self.prepare_data_for_answer(data)<br/>        self.send_message(answer_data)</span><span id="c53c" class="mw jd hu mr b fv nb my l mz na">return response</span><span id="d0d1" class="mw jd hu mr b fv nb my l mz na">if __name__ == '__main__':  <br/>    app = TelegramBot()<br/>    app.run(host='localhost', port=8080)</span></pre><p id="16dd" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">å·®ä¸å¤šå°±æ˜¯è¿™æ ·ã€‚ç°åœ¨ä½ æœ‰äº†ä¸€ä¸ªå¯ä»¥å·¥ä½œçš„ç”µæŠ¥æœºå™¨äººï¼Œå®ƒç”šè‡³å¯ä»¥å€’ç€æ‹¼å†™â€œèµ›è½¦â€ã€‚æ­å–œä½ ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°é”™è¯¯ä»£ç <a class="ae lj" href="https://devcenter.heroku.com/articles/error-codes" rel="noopener ugc nofollow" target="_blank"/>ã€‚</p><p id="67a5" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">æœ‰äº†å…è´¹è´¦æˆ·ï¼Œä½ å°†é¢ä¸´æŸäº›é™åˆ¶ã€‚ç„¶è€Œï¼Œè¿™é‡Œä½ æœ‰ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„æœºå™¨äººã€‚</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><a href="https://djangostars.com/services/python-django-development/?utm_source=medium&amp;utm_medium=hackernoon.com&amp;utm_campaign=telegram%20bot&amp;utm_content=banner_end"><div class="fe ff ng"><img src="../Images/6d17f1f498aa416fd7fa01921bc012f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A_uHZvyUk2wIql_cXIsZcw.png"/></div></a></figure></div><div class="ab cl nh ni hc nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="hn ho hp hq hr"><blockquote class="no np nq"><p id="8659" class="ka kb ky kc b kd lu kf kg kh lv kj kk nr lw kn ko ns lx kr ks nt ly kv kw kx hn dt translated">è¿™ç¯‡æ–‡ç« æ˜¯ç”±<a class="ae lj" href="https://djangostars.com" rel="noopener ugc nofollow" target="_blank"> Django Stars </a>çš„åç«¯å·¥ç¨‹å¸ˆArez Khalimi æ’°å†™çš„ã€‚è¿™ç¯‡å…³äº<a class="ae lj" href="https://djangostars.com/blog/how-to-create-and-deploy-a-telegram-bot/?utm_source=medium&amp;utm_medium=hackernoon.com&amp;utm_campaign=telegram%20bot&amp;utm_content=telegram" rel="noopener ugc nofollow" target="_blank"> telegram </a>çš„æ–‡ç« æœ€åˆå‘å¸ƒåœ¨<strong class="kc hv"> Django Starsåšå®¢</strong>ä¸Šã€‚</p><p id="907c" class="ka kb ky kc b kd lu kf kg kh lv kj kk nr lw kn ko ns lx kr ks nt ly kv kw kx hn dt translated">ç‰¹åˆ«åˆ†äº«ç»™<a class="nu nv gr" href="https://medium.com/u/4a8a924edf41?source=post_page-----2addd8aec6b4--------------------------------" rel="noopener" target="_blank"> Hackernoon </a>è¯»è€…ã€‚</p></blockquote><p id="0415" class="pw-post-body-paragraph ka kb hu kc b kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx hn dt translated">æˆ‘ä»¬éšæ—¶æ¬¢è¿æ‚¨æå‡ºé—®é¢˜ï¼Œåˆ†äº«æ‚¨æƒ³é˜…è¯»çš„è¯é¢˜ï¼</p><blockquote class="kz"><p id="8682" class="la lb hu bd lc ld le lf lg lh li kx ek translated"><em class="nw">å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰ç”¨ï¼Œè¯·ç‚¹å‡»ğŸ‘ä¸‹é¢çš„æŒ‰é’®:)</em></p></blockquote><figure class="nx ny nz oa ob iv"><div class="bz el l di"><div class="oc od l"/></div></figure><div class="lq lr ls lt fq ab cb"><figure class="oe iv of og oh oi oj paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="oe iv of og oh oi oj paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="oe iv of og oh oi oj paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="no np nq"><p id="f922" class="ka kb ky kc b kd lu kf kg kh lv kj kk nr lw kn ko ns lx kr ks nt ly kv kw kx hn dt translated"><a class="ae lj" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">é»‘å®¢ä¸­åˆ</a>æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯T21å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨<a class="ae lj" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">æ¥å—æŠ•ç¨¿</a>å¹¶ä¹æ„<a class="ae lj" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">è®¨è®ºå¹¿å‘Š&amp;èµåŠ©</a>æœºä¼šã€‚</p><p id="708a" class="ka kb ky kc b kd lu kf kg kh lv kj kk nr lw kn ko ns lx kr ks nt ly kv kw kx hn dt translated">å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„<a class="ae lj" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">æœ€æ–°ç§‘æŠ€æ•…äº‹</a>å’Œ<a class="ae lj" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">è¶‹åŠ¿ç§‘æŠ€æ•…äº‹</a>ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼</p></blockquote><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ok"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>