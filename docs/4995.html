<html>
<head>
<title>How to get your Rails data into your React component with webpacker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•ä½¿ç”¨webpackerå°†Railsæ•°æ®æ”¾å…¥Reactç»„ä»¶</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/how-to-get-your-rails-data-into-your-react-component-with-webpacker-647dc63706c9?source=collection_archive---------4-----------------------#2017-07-04">https://medium.com/hackernoon/how-to-get-your-rails-data-into-your-react-component-with-webpacker-647dc63706c9?source=collection_archive---------4-----------------------#2017-07-04</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/3fb37e250aa35b54f35769a2e749d3d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sw_9PbZP_8AaETxv0gLg6A.jpeg"/></div></div><figcaption class="id ie fg fe ff if ig bd b be z ek"><a class="ae ih" href="https://www.flickr.com/photos/brown_family_album/4607229964/in/photolist-828fXo-6Ro25k-6jbEiu-nm9pLx-59ieDH-9vcZmd-59nsGs-9JSwsa-5Xt5Eu-4x6QvY-4fVVgX-59ieRR-4TB9fW-4W7vXa-5c5VNi-6oYjp5-5c5ZHx-7YGrbH-4pJ6Vy-7ogiPd-6oYdVj-4YANTt-QJYLeN-9pBwXx-8YtnEy-3SBgZp-4VQ87M-4fVV7M-4okqZN-ajDUJ7-4s2BwV-5P8zYT-6oUcfz-7ocpZt-b99uck-ka1ELz-4pJ68Y-4xLDHU-ka1aY6-4pE3kH-4pJ7DQ-3ehSBX-ka1KYD-4pEaxP-4pE1Zv-4pE762-4pE4Ei-95BihD-4pE1Kx-ka1CbV" rel="noopener ugc nofollow" target="_blank">Photo credit</a></figcaption></figure><div class=""/><p id="6850" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae ih" href="https://github.com/rails/webpacker" rel="noopener ugc nofollow" target="_blank"> <strong class="jj il"> webpacker gem </strong> </a>ç»™äº†æˆ‘ä»¬ä¸€ä¸ªç®€å•çš„æ–¹æ³•æ¥ä½¿ç”¨<a class="ae ih" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>åº“ï¼ŒåŒ…æ‹¬Reactï¼Œåœ¨Railså†…éƒ¨ä½¿ç”¨åŸç”ŸJS <a class="ae ih" href="https://hackernoon.com/tagged/tools" rel="noopener ugc nofollow" target="_blank">å·¥å…·</a>å¦‚yarnå’ŒWebpackã€‚</p><p id="92db" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Rails 5.1æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œåªéœ€è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ‚¨å°±å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªå¸¦æœ‰Reactæ”¯æŒçš„æ–°åº”ç”¨ç¨‹åº:</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="7c65" class="ko kp ik kk b fv kq kr l ks kt">$ rails new myapp --webpack=react</span></pre><p id="67c1" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯æ—§ç‰ˆæœ¬çš„Rails (4.2+)ï¼Œæ‚¨å¯ä»¥å®‰è£…webpacker gemï¼Œç„¶åè¿è¡Œ</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="a14b" class="ko kp ik kk b fv kq kr l ks kt">$ ./bin/rails webpacker:install</span><span id="b41a" class="ko kp ik kk b fv ku kr l ks kt">$ ./bin/rails webpacker:install:react</span></pre><p id="5c7b" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ç„¶åï¼Œæ‚¨åªéœ€å°†Reactç»„ä»¶æ”¾åœ¨æ–°åˆ›å»ºçš„app/javascript/packsç›®å½•ä¸­ï¼Œå¹¶åœ¨è§†å›¾ä¸­å°†å®ƒä»¬ä¸javascript_pack_tagè¾…åŠ©æ–¹æ³•ä¸€èµ·ä½¿ç”¨ã€‚</p><p id="6ae7" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ä½†æ˜¯å¦‚æœä½ ä»¥å‰ä½¿ç”¨è¿‡<a class="ae ih" href="https://github.com/reactjs/react-rails" rel="noopener ugc nofollow" target="_blank"> <strong class="jj il"> react-rails </strong> </a>æˆ–<a class="ae ih" href="https://github.com/shakacode/react_on_rails" rel="noopener ugc nofollow" target="_blank"><strong class="jj il">react _ on _ rails</strong></a>gemï¼Œä½ å¯èƒ½ä¼šæƒ³çŸ¥é“å¦‚ä½•ç”¨webpackerå°†ä½ çš„Railsæ¨¡å‹æ•°æ®æ”¾å…¥Reactç»„ä»¶ã€‚</p><p id="5954" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">react-railså’Œreact_on_railséƒ½æä¾›äº†ä¸€ä¸ªåä¸ºreact_componentçš„åŠ©æ‰‹æ–¹æ³•ï¼Œæ‚¨å¯ä»¥åœ¨è§†å›¾ä¸­ä½¿ç”¨å®ƒæ¥å‘ˆç°ä¸€ä¸ªç»„ä»¶å¹¶å°†æ•°æ®ä½œä¸ºé“å…·ä¼ é€’ç»™å®ƒã€‚</p><p id="ec9a" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">å¦‚æœæˆ‘ä»¬ä»”ç»†è§‚å¯Ÿä¸€ä¸‹ï¼Œreact_componentæ–¹æ³•å°†Railsæ•°æ®æ”¾åœ¨é¡µé¢ä¸Šdivçš„æ•°æ®å±æ€§ä¸­:</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="7f1a" class="ko kp ik kk b fv kq kr l ks kt">react_component(â€˜Appointmentsâ€™, appointments: @appointments)</span></pre><p id="29a4" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">å¦‚æœæ‚¨æ£€æŸ¥é¡µé¢çš„æºä»£ç ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°åœ¨ä¸€ä¸ªdivä¸­åŠ è½½çš„æ•°æ®ï¼Œæ•°æ®å±æ€§ä¸ºreact-classå’Œreact-props:</p><figure class="kf kg kh ki fq hw fe ff paragraph-image"><div class="ab fr cl kv"><img src="../Images/427a696bcf8287c2f1196bd6858823d4.png" data-original-src="https://miro.medium.com/v2/format:webp/1*VEdiGXB7q6FGFleViYKkXQ.png"/></div></figure><p id="6405" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ç„¶åï¼Œåœ¨é¡µé¢åŠ è½½æ—¶ï¼Œä½¿ç”¨ä¸€äº›JavaScriptä»£ç (react_ujs)æ¥è§£ææ•°æ®ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™reactç»„ä»¶:</p><p id="f2d9" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">é»˜è®¤æƒ…å†µä¸‹ï¼Œwebpackerä¸æä¾›ä»»ä½•è¿™æ ·çš„ä¾¿åˆ©æ–¹æ³•ã€‚</p><p id="136d" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">æ‰€ä»¥æˆ‘ä»¬å¿…é¡»ç¼–å†™è‡ªå·±çš„ä»£ç æ¥åšåŒæ ·çš„äº‹æƒ…ã€‚</p><p id="a9ac" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬å°†æ•°æ®ä½œä¸ºJSONæ”¾å…¥è§†å›¾ä¸­ä¸€ä¸ªdivçš„dataå±æ€§ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨è¯¥è§†å›¾ä¸­å‘ˆç°Reactç»„ä»¶:</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="a082" class="ko kp ik kk b fv kq kr l ks kt">&lt;%= content_tag :div,<br/>  id: "appointments_data",<br/>  data: <a class="ae ih" href="http://twitter.com/appointments" rel="noopener ugc nofollow" target="_blank">@appointments</a>.to_json do %&gt;<br/>&lt;% end %&gt;</span></pre><p id="0dc3" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">å¦‚æœä½ ä½¿ç”¨HAMLï¼Œä½ å¯ä»¥ç®€å•åœ°åš:</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="2b19" class="ko kp ik kk b fv kq kr l ks kt">#appointments_data{data: @appointments.to_json}</span></pre><p id="9d68" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ç„¶åï¼Œåœ¨åŠ è½½å®Œæ‰€æœ‰DOMå†…å®¹åè§£ææ•°æ®ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™çº¦ä¼šç»„ä»¶:</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="7818" class="ko kp ik kk b fv kq kr l ks kt">document.addEventListener('DOMContentLoaded', () =&gt; {<br/>  const node = document.getElementById('appointments_data')<br/>  const data = JSON.parse(node.getAttribute('data'))</span><span id="18cd" class="ko kp ik kk b fv ku kr l ks kt">  ReactDOM.render(<br/>    &lt;Appointments appointments={data} /&gt;,<br/>    document.body.appendChild(document.createElement('div')),<br/>  )<br/>})</span></pre><p id="01cc" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ä»…æ­¤è€Œå·²ï¼æ‚¨çš„æ•°æ®ç°åœ¨å°†è¢«ä¼ é€’åˆ°Reactç»„ä»¶ã€‚</p><p id="7faa" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">å¦‚æœä½ ä¸æƒ³è¿™ä¹ˆåšï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨webpacker-react gem ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªreact_componentè¾…åŠ©æ–¹æ³•ã€‚</p><p id="6737" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">åœ¨Githubä¸ŠæŸ¥çœ‹è¯¥ç¤ºä¾‹åº”ç”¨ç¨‹åºçš„å®Œæ•´ä»£ç :</p><div class="ht hu fm fo hv kw"><a href="https://github.com/learnetto/calreact/tree/lesson-4.5" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab ej"><div class="ky ab kz cl cj la"><h2 class="bd il fv z el lb eo ep lc er et ij dt translated">learnetto/calreact</h2><div class="ld l"><h3 class="bd b fv z el lb eo ep lc er et ek translated">calreact - Reactå’ŒRails 5æ—¥å†çº¦ä¼šåº”ç”¨</h3></div><div class="le l"><p class="bd b gc z el lb eo ep lc er et ek translated">github.com</p></div></div><div class="lf l"><div class="lg l lh li lj lf lk ib kw"/></div></div></a></div><p id="2a4f" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="ll">å¦‚æœä½ æƒ³å…è´¹å­¦ä¹ å¦‚ä½•ä½¿ç”¨React with Railsï¼Œè¯·æŸ¥çœ‹Learnetto </em>   <em class="ll">ä¸Šçš„</em> <a class="ae ih" href="https://learnetto.com" rel="noopener ugc nofollow" target="_blank"> <strong class="jj il"> <em class="ll">å…è´¹React on Railsæ•™ç¨‹ã€‚</em></strong></a></p><p id="eaef" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">æ‚¨å¯èƒ½ä¹Ÿä¼šå–œæ¬¢è¿™äº›æ–‡ç« :</p><div class="ht hu fm fo hv kw"><a rel="noopener follow" target="_blank" href="/react-on-rails/3-ways-to-use-react-with-ruby-on-rails-5-1e49171f8eb6"><div class="kx ab ej"><div class="ky ab kz cl cj la"><h2 class="bd il fv z el lb eo ep lc er et ij dt translated">ä½¿ç”¨React with Ruby on Rails 5çš„3ç§æ–¹å¼</h2><div class="ld l"><h3 class="bd b fv z el lb eo ep lc er et ek translated">é‡è¦æ›´æ–°(2017å¹´7æœˆ6æ—¥):éšç€Rails 5.1çš„å‘å¸ƒï¼ŒRailsç°åœ¨é€šè¿‡â€¦</h3></div><div class="le l"><p class="bd b gc z el lb eo ep lc er et ek translated">medium.com</p></div></div><div class="lf l"><div class="lm l lh li lj lf lk ib kw"/></div></div></a></div><div class="ht hu fm fo hv kw"><a href="https://medium.freecodecamp.org/every-time-you-build-a-to-do-list-app-a-puppy-dies-505b54637a5d" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab ej"><div class="ky ab kz cl cj la"><h2 class="bd il fv z el lb eo ep lc er et ij dt translated">âœ…æ¯æ¬¡ä½ å»ºç«‹ä¸€ä¸ªå¾…åŠäº‹é¡¹åº”ç”¨ç¨‹åºï¼Œä¸€åªå°ç‹—ğŸ•æ­»äº¡ğŸ˜¢</h2><div class="ld l"><h3 class="bd b fv z el lb eo ep lc er et ek translated">ä½ çŸ¥é“å½“ä½ è¯•å›¾å­¦ä¹ ä¸€äº›æ–°çš„ä¸œè¥¿ï¼Œä½†å¯¹æ„å»ºé»˜è®¤çš„ç¤ºä¾‹åº”ç”¨ç¨‹åºæ„Ÿåˆ°åŒå€¦çš„æ—¶å€™ï¼Ÿ</h3></div><div class="le l"><p class="bd b gc z el lb eo ep lc er et ek translated">medium.freecodecamp.org</p></div></div><div class="lf l"><div class="ln l lh li lj lf lk ib kw"/></div></div></a></div></div><div class="ab cl lo lp hc lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hn ho hp hq hr"><p id="b076" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="ll">åŸè½½äº</em><a class="ae ih" href="https://learnetto.com/blog/how-to-get-your-rails-data-into-your-react-component-with-webpacker" rel="noopener ugc nofollow" target="_blank"><em class="ll">learnetto.com</em></a><em class="ll">ã€‚</em></p><div class="kf kg kh ki fq ab cb"><figure class="lv hw lw lx ly lz ma paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lv hw lw lx ly lz ma paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lv hw lw lx ly lz ma paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mb mc md"><p id="f922" class="jh ji ll jj b jk jl jm jn jo jp jq jr me jt ju jv mf jx jy jz mg kb kc kd ke hn dt translated"><a class="ae ih" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">é»‘å®¢ä¸­åˆ</a>æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯T21å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨<a class="ae ih" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">æ¥å—æŠ•ç¨¿</a>å¹¶ä¹æ„<a class="ae ih" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">è®¨è®ºå¹¿å‘Š&amp;èµåŠ©</a>æœºä¼šã€‚</p><p id="708a" class="jh ji ll jj b jk jl jm jn jo jp jq jr me jt ju jv mf jx jy jz mg kb kc kd ke hn dt translated">å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„<a class="ae ih" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">æœ€æ–°ç§‘æŠ€æ•…äº‹</a>å’Œ<a class="ae ih" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">è¶‹åŠ¿ç§‘æŠ€æ•…äº‹</a>ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼</p></blockquote><figure class="kf kg kh ki fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff mh"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="kf kg kh ki fq hw"><div class="bz el l di"><div class="mi mj l"/></div></figure></div></div>    
</body>
</html>