# ç”¨ Skate.js æ„å»ºè‡ªå®šä¹‰æ ‡ç­¾è¾“å…¥

> åŸæ–‡ï¼š<https://medium.com/hackernoon/building-a-custom-tag-input-with-skate-js-fbd4cdf744f>

![](img/d9c130347038fd7c26ccaa0ff226026f.png)

æ‚¨æ˜¯å¦åœ¨å°è¯•æ„å»ºå’Œä½¿ç”¨ Web ç»„ä»¶æ—¶è¿·å¤±äº†æ–¹å‘ï¼ŸSkate.js ä½¿ç”¨è¯¥å¹³å°ï¼Œå¹¶å¯¹å…¶è¿›è¡Œäº†ä¸€äº›é˜é‡Šã€‚

# æˆ‘ä»¬è¦å»ºé€ ä»€ä¹ˆï¼Ÿ

ä¸€ä¸ªç±»ä¼¼è¾“å…¥çš„æ ‡ç­¾ï¼Œå®ƒçœ‹èµ·æ¥åƒä¸€ä¸ªæ™®é€šçš„æ–‡æœ¬è¾“å…¥ï¼Œä½†æ˜¯å½“ç”¨æˆ·ç‚¹å‡»ç©ºæ ¼æ—¶ä¼šå°†å†…å®¹åˆ†æˆæ ‡ç­¾ã€‚è¯·çœ‹ç»„ä»¶[è¿™é‡Œ](https://zzarcon.github.io/skatepark.js/?selectedKind=Tags&selectedStory=Enter%20a%20space-separated%20list%20of%20tags&full=0&down=0&left=1&panelRight=0)å’Œä»£ç [è¿™é‡Œ](https://github.com/zzarcon/skatepark.js/tree/master/packages/tags)çš„ç°åœºæ¼”ç¤ºï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å’Œäº†è§£ç‰¹æ€§:

![](img/0657c0c9f865380eb9b77686c87cbb99.png)![](img/bfdd40e187e5a4f62b8d393c78b0427f.png)

*   åˆ›å»ºæ ‡ç­¾æ—¶è‡ªåŠ¨å¯¹ç„¦ã€‚

![](img/76786b65fbe56c17e7d2c0a8347076e3.png)

*   æŒ‰ DEL æ—¶è‡ªç„¶åˆ é™¤ã€‚
*   UI 100%å¯å®šåˆ¶ï¼Œå®Œå…¨æ§åˆ¶ shadowDom ä¸­çš„å…ƒç´ ã€‚
*   å…è®¸ç”¨æˆ·æŒ‰ä¸‹æŒ‰é’®åˆ é™¤æ ‡ç­¾ã€‚
*   é€šè¿‡ç»„ä»¶å±æ€§çš„åˆå§‹å€¼ã€‚
*   éšç€ç”¨æˆ·é”®å…¥å†…å®¹ï¼Œè¾“å…¥ä¼šè‡ªåŠ¨å¢åŠ ã€‚
*   æŒ‡å®šè‡ªå®šä¹‰åˆ†éš”ç¬¦ã€‚

# ä»‹ç»

Web ç»„ä»¶å¾ˆæ£’ï¼Œå› ä¸ºå®ƒä»¬å…è®¸æˆ‘ä»¬å®šä¹‰å®šåˆ¶çš„ HTML å…ƒç´ å¹¶å°è£…å®ƒä»¬çš„è¡Œä¸ºã€‚ä½†æ˜¯ä»Šå¤©æˆ‘æƒ³å‘ä½ ä»‹ç»ä¸€ä¸ªæˆ‘æœ€è¿‘ä¸€ç›´åœ¨ç©çš„åº“ï¼Œå®ƒå¯èƒ½ä¼šæ”¹å˜ä½ çœ‹å¾… web ç»„ä»¶çš„æ–¹å¼ã€‚

[Skate.js](https://github.com/skatejs/skatejs/) å®ƒæ˜¯ä¸€ä¸ªè½»é‡çº§çš„åº“(4k min+gz)ï¼Œä¸“æ³¨äº web ç»„ä»¶è§„èŒƒçš„ä½¿ç”¨ï¼Œç»™ä½ ä¸€ä¸ªåŠŸèƒ½æ€§çš„æ¸²æŸ“ç®¡é“ã€‚

Skate.js ä½¿ç”¨ä¸¤ä¸ªæœ€é‡è¦çš„ web ç»„ä»¶ç‰¹æ€§å®ç°äº†è¿™ä¸€ç‚¹:

*   [è‡ªå®šä¹‰å…ƒç´ ](https://developers.google.com/web/fundamentals/getting-started/primers/customelements)
*   [æš—å½± DOM](https://developers.google.com/web/fundamentals/getting-started/primers/shadowdom)

å¥½å§ï¼Œä½†æ˜¯â€¦è¿™ä¸€åˆ‡æ„å‘³ç€ä»€ä¹ˆï¼Ÿå¥½äº†ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ä»£ç ã€‚

## æ³¨å†Œç»„ä»¶ğŸ“¦

åœ¨ç¬¬ä¸€è¡Œä¸­ï¼Œæˆ‘ä»¬åŒ…å«äº† [skatejs-web-components](https://github.com/skatejs/web-components) æ¨¡å—ï¼Œå®ƒæä¾›äº† polyfills Skate.js æ‰€éœ€çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå› æ­¤æ‚¨ä¸å¿…æ‹…å¿ƒæµè§ˆå™¨å…¼å®¹æ€§ã€‚

åæ¥æˆ‘ä»¬åˆ›å»ºäº†ç»„ä»¶çš„æ¡†æ¶ï¼Œæˆ‘ä»¬æ‰©å±•äº† [Skate ç»„ä»¶](https://skatejs.gitbooks.io/skatejs/content/docs/api/#extension)ï¼Œå®ƒå°±åƒä¸€ä¸ªæœç”¨äº†ç±»å›ºé†‡çš„ web ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒä¼ é€’ç»™`customElements.define` âœŒ.

ï¸We åœ¨ [renderCallback](https://skatejs.gitbooks.io/skatejs/content/docs/api/#rendercallback---supersedes-static-render) ä¸­å®šä¹‰ç»„ä»¶çš„å¸ƒå±€ï¼Œå°±åƒä½ åœ¨ [render æ–¹æ³•](https://facebook.github.io/react/docs/react-component.html)ä¸­ä½¿ç”¨ React.js ä¸€æ ·ã€‚æœ€åï¼Œæˆ‘ä»¬æ³¨å†Œäº† [**é“å…·**](https://skatejs.gitbooks.io/skatejs/content/docs/api/#static-props) ï¼Œè¿™äº›é“å…·åœ¨å˜å¼‚æ—¶ä¼šé‡æ–°æ¸²æŸ“ã€‚

è¿™å°†ä¸ºæˆ‘ä»¬æä¾›ä¸€ä¸ªåŒ…å« shadowDom çš„ç»„ä»¶:

![](img/7cd658c6fe65a4ec5d182ac54ac4512b.png)

æ·»åŠ è¡Œä¸º:äº‹ä»¶+é“å…·ğŸ”©

ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå®Œå…¨æ­£å¸¸å·¥ä½œçš„æ ‡ç­¾ç»„ä»¶ğŸ‰ï¼Œè¿™æ˜¯æˆ‘ä»¬æ·»åŠ çš„å†…å®¹:

*   æ ‡ç­¾å±æ€§:åŒ…å«æ ‡ç­¾çŠ¶æ€çš„å±æ€§ï¼Œæ¯æ¬¡æˆ‘ä»¬ä¿®æ”¹å®ƒçš„æ—¶å€™ï¼ŒSkate.js ä¼šç”¨æœ€å°çš„ DOM ä¿®æ”¹é‡æ–°æ¸²æŸ“ä½ çš„ç»„ä»¶ã€‚è¿™é‡Œå¥½çš„ä¸€ç‚¹æ˜¯æˆ‘ä»¬ä½¿ç”¨äº† [props.array](https://skatejs.gitbooks.io/skatejs/content/docs/api/#array) æ–¹æ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªå†…ç½®çš„æ–¹æ³•ï¼Œå°†ç¡®ä¿ä¼ é€’ç»™å±æ€§çš„ä»»ä½•å€¼éƒ½æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…è®¸æˆ‘ä»¬è§£æå±æ€§çš„å€¼å¹¶è®¾ç½®ä¸€ä¸ªåˆå§‹å€¼ï¼Œå¦‚:`<sk-tags tags="[milk,bread,chocolate]" />`
*   Input resize:è¿™æ˜¯ç»„ä»¶çš„ä¸€ä¸ªå…³é”®éƒ¨åˆ†ï¼Œä½¿å…¶èƒ½å¤Ÿå“åº”ã€‚æ–¹æ³• **adjustInputSize** åœ¨æ¯æ¬¡å€¼æ”¹å˜æ—¶è®¾ç½®å®é™…è¾“å…¥çš„å®½åº¦ï¼Œè¿™æ ·ç»„ä»¶å¯ä»¥æ­£ç¡®åœ°æ¢è¡Œã€‚
*   åˆ†éš”ç¬¦å¤„ç†:**on input**æ£€æŸ¥ç”¨æˆ·è¾“å…¥çš„æœ€åä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ç»„ä»¶åˆ†éš”ç¬¦åŒ¹é…(é»˜è®¤ä¸ºç©ºæ ¼)ã€‚

![](img/85bc44113dda5c1c562c780ad6b26995.png)

ä¸Šå›¾æ˜¾ç¤ºäº†æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ ***æ ‡ç­¾å…ƒç´ *** (è“è‰²)æ¥æ·»åŠ æ ‡ç­¾ï¼Œä»¥åŠçœŸå®çš„ ***è¾“å…¥å…ƒç´ *** (çº¢è‰²)å¦‚ä½•åŠ¨æ€å¢é•¿ä»¥ä½¿ç»„ä»¶åšå‡ºå“åº”ã€‚

## å…è®¸åˆ é™¤+è‡ªå®šä¹‰æ ·å¼ğŸ’…

è¿™é‡Œçš„å˜åŒ–éå¸¸ç›´æ¥ï¼Œ2 ä¸ªæ–°é“å…·*åˆ é™¤*å’Œ*æ ·å¼ï¼Œ*åªæ˜¯è¿æ¥é»˜è®¤æ ·å¼+ç”¨æˆ·æ ·å¼ï¼Œå…è®¸ä»–è¿™æ ·åš:

```
<sk-tags styles=".tag{ background-color: red;} .wrapper{ border: 1px solid black; }" />
```

æˆ–è€…ï¼Œå¦‚æœæ‚¨å–œæ¬¢æ›´å®¹æ˜“ç»´æŠ¤çš„ä¸œè¥¿ï¼Œæ‚¨å¯ä»¥è¿™æ ·åš:

ä»…ä»…ä½¿ç”¨ä¸€ä¸ª [10 è¡Œæ ·å¼åŠ©æ‰‹](https://github.com/zzarcon/skatepark.js/blob/master/packages/core/src/styles.js)ï¼Œå®ƒå°†æŠŠå¯¹è±¡è½¬æ¢æˆ css å†…å®¹ã€‚

# ç»“è®º

ç”¨ Skate.js æ„å»ºç»„ä»¶æ„Ÿè§‰å¾ˆè‡ªç„¶ã€‚æˆ‘ä»¥å‰æ²¡æœ‰ä»»ä½•ä½¿ç”¨å®ƒçš„ç»éªŒï¼Œä½†è®¸å¤šäº‹æƒ…éƒ½æŒ‰ç…§æˆ‘é¢„æœŸçš„æ–¹å¼å·¥ä½œï¼Œè¿™è¶³ä»¥è®©æˆ‘æ„è¯†åˆ° Skate.js æä¾›çš„å¥½å¤„ï¼Œè€Œä¸æ˜¯ç”¨ vanilla js æ„å»ºç»„ä»¶ã€‚

æˆ‘æ•¢è‚¯å®šï¼Œå¦‚æœä½ ç†Ÿæ‚‰ web ç»„ä»¶ï¼Œä½ å¯èƒ½ä¼šå‘ç°ç¼ºå°‘ä¸€äº›ä¸œè¥¿ï¼Œæ¯”å¦‚æœ‰ä¸€ç§ä¸ç”¨æ‰‹åŠ¨æ”¹å˜ DOM å°±èƒ½å‘ˆç°ç»„ä»¶çš„é«˜çº§æ–¹æ³•ï¼Œæˆ–è€…æœ‰ä¸€ç§å¤„ç†å±æ€§å¹¶ä¿æŒ UI ä¸å®é™…ç»„ä»¶çŠ¶æ€åŒæ­¥çš„æœºåˆ¶ï¼Œä¸€ä¸ªå¥å£®çš„å±æ€§ apiï¼Œç­‰ç­‰ã€‚ä½ å¯èƒ½ä¼šå‘ç° Skate.js å›ºæ‰§å·±è§çš„åšäº‹æ–¹å¼è§£å†³äº†è¿™äº›é—®é¢˜ã€‚

ç®€å•å›é¡¾ä¸€ä¸‹ï¼Œæˆ‘ä»¬å·²ç»ä»æ–‡æ¡£ä¸­ä»‹ç»äº†[é“å…·](https://skatejs.gitbooks.io/skatejs/content/docs/api/#static-props)å’Œ[æ‰©å±•](https://skatejs.gitbooks.io/skatejs/content/docs/api/#extension)ã€‚åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•æ„å»ºä¸€ä¸ªæ›´é«˜çº§çš„ç»„ä»¶ï¼Œå¹¶ä»‹ç»åº“çš„å…¶ä»–æœ‰è¶£éƒ¨åˆ†ã€‚

æœ€åï¼Œæˆ‘æƒ³ç»™ä½ æ¨èä¸€ä¸ªæ¥è‡ª [ChromeDevelopers](https://www.youtube.com/user/ChromeDevelopers) youtube é¢‘é“çš„å¥½èµ„æºï¼Œå³[å¢å‹ç³»åˆ—](https://www.youtube.com/playlist?list=PLNYkxOF6rcIBz9ACEQRmO9Lw8PW7vn0lr)ï¼Œåœ¨é‚£é‡Œä½ å¯ä»¥çœ‹åˆ°ä»Šå¤©å¦‚ä½•æ„å»º web ç»„ä»¶çš„ç²¾å½©ç°åœºæ¼”ç¤ºï¼Œå¹¶ä¸”ä½ å¯ä»¥è¿›è¡Œæ¯”è¾ƒğŸ‘€ã€‚

[![](img/6b953e9462d2c008f93f889bd9b13dad.png)](https://twitter.com/zzarcon)

You can follow me on Twitter or Github @zzarcon

[![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)

> [é»‘å®¢ä¸­åˆ](http://bit.ly/Hackernoon)æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯ [@AMI](http://bit.ly/atAMIatAMI) å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨[æ¥å—æŠ•ç¨¿](http://bit.ly/hackernoonsubmission)å¹¶ä¹æ„[è®¨è®ºå¹¿å‘Š&èµåŠ©](mailto:partners@amipublications.com)æœºä¼šã€‚
> 
> å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„[æœ€æ–°ç§‘æŠ€æ•…äº‹](http://bit.ly/hackernoonlatestt)å’Œ[è¶‹åŠ¿ç§‘æŠ€æ•…äº‹](https://hackernoon.com/trending)ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼

![](img/be0ca55ba73a573dce11effb2ee80d56.png)