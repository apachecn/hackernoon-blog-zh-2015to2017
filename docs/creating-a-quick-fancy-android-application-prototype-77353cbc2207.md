# åˆ›å»ºä¸€ä¸ªå¿«é€ŸèŠ±å“¨çš„ Android åº”ç”¨ç¨‹åºåŸå‹

> åŸæ–‡ï¼š<https://medium.com/hackernoon/creating-a-quick-fancy-android-application-prototype-77353cbc2207>

## ä½¿ç”¨ Framer è¿›è¡Œ Android åŸå‹å¼€å‘

![](img/6efbbf39d03563a27236c5bd319bfb77.png)

ä¸€ä¸ªæœ‰ç§»åŠ¨åº”ç”¨ç¨‹åº[å¼€å‘](https://hackernoon.com/tagged/development)ç»éªŒçš„ ll ç¨‹åºå‘˜æ›¾ç»å°è¯•åˆ›å»ºä¸€ä¸ªåŸå‹æ¥å¿«é€Ÿå±•ç¤ºåº”ç”¨ç¨‹åºçš„æƒ³æ³•ï¼

å°±æ—¶é—´å’Œè´¨é‡è€Œè¨€ï¼Œåˆ›å»ºåŸå‹æ˜¯ä¸€é¡¹æ£˜æ‰‹çš„ä»»åŠ¡ã€‚é€šå¸¸ï¼Œä½ æœ‰æœ€å°‘çš„æ—¶é—´æ¥åˆ›å»ºä¸€ä¸ªèŠ±å“¨çš„åº”ç”¨ç¨‹åºï¼Œå®ƒå¿…é¡»ä¸èƒ½å·¥ä½œï¼Œä½†çœ‹èµ·æ¥å¾ˆå®Œç¾ã€‚è¿™æ€ä¹ˆå¯èƒ½å‘¢ï¼Ÿæ²¡æœ‰äººçŸ¥é“æˆ‘ä»¬å¿…é¡»ä¸ºæ¯ä¸€ä¸ªåŠ¨ç”»ç¼–ç æˆ–è®¾è®¡ï¼Œæˆ–è€…åœ¨ [Android](https://hackernoon.com/tagged/android) ä¸­åŠ è½½æ•°æ®ä»¥åˆ—è¡¨ï¼Œè¿™çœŸçš„å¾ˆè€—æ—¶ã€‚

## ä»€ä¹ˆæ˜¯æˆå¸§å™¨ï¼Ÿ

ä½œä¸º[framer.com](http://framer.com)çš„å‚è€ƒ:

> å¯¹å¯è§†åŒ–ç¼–è¾‘å’Œä»£ç çµæ´»æ€§çš„ç†Ÿæ‚‰ã€‚æ— ç¼çš„å·¥ä½œæµç¨‹ï¼Œé€šè¿‡è®¾å¤‡é¢„è§ˆã€ç‰ˆæœ¬æ§åˆ¶å’Œè½»æ¾å…±äº«è¿›ä¸€æ­¥å®Œå–„ã€‚å¼€åˆ›æ–°çš„äº¤äº’æ¨¡å¼ï¼Œåˆ›å»ºçªç ´æ€§çš„åº”ç”¨ç¨‹åºã€‚å…¨çƒåˆ›ä¸šå…¬å¸ã€æœºæ„å’Œè´¢å¯Œ 500 å¼ºçš„äº§å“å›¢é˜Ÿé¦–é€‰çš„è®¾è®¡å’ŒåŸå‹åˆ¶ä½œå·¥å…·ã€‚

è¿™ä¸€æ®µæœ‰å¾ˆå¤šå¥½å¬çš„è¯ï¼Œä½†æ˜¯çœŸçš„å¾ˆç®¡ç”¨ï¼

ä¸å¹¸çš„æ˜¯ï¼Œä½ ä¼šæåˆ°è¿™ä¸ªå·¥å…·çš„å¤§éƒ¨åˆ†å±å¹•æˆªå›¾æ˜¯åœ¨ iPhone è®¾å¤‡ä¸Šï¼Œä»–ä»¬æ²¡æœ‰æåˆ°æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ Android ä¸Šä½¿ç”¨å®ƒï¼

![](img/2a4f987dc2e70ef315c9df79bbd67552.png)

Framer sample project

Framer ä½¿ç”¨ JavaScript åˆ›å»ºäº†ä¸€ä¸ªåŠ¨æ€ç½‘ç«™åŒ…ï¼Œå¯ä»¥åœ¨ç¦»çº¿ WebView ä¸­åŠ è½½ï¼Œå› æ­¤é›†æˆé˜¶æ®µéå¸¸ç®€å•ã€‚

## æˆ‘åº”è¯¥ä»å“ªé‡Œå¼€å§‹ï¼Ÿ

Framer ä¸æ˜¯å…è´¹çš„ï¼Œä½†ä½ å¯ä»¥ç”¨è¯•ç”¨å¸æˆ·æµ‹è¯•å®ƒï¼Œå¦‚æœä½ æˆ–ä½ çš„å…¬å¸å–œæ¬¢å®ƒï¼Œä½ å¯ä»¥ä»¥åå†ä»˜è´¹ï¼Œæ‰€ä»¥ä»è¿™é‡Œä¸‹è½½å®ƒ:

[](https://framer.com/download/) [## ç”¨ä»£ç è®¾è®¡ä¸€åˆ‡

### ä¸º iOSã€Androidã€æ¡Œé¢æˆ–ç½‘ç»œè®¾è®¡äº¤äº’å¼é«˜ä¿çœŸåŸå‹ã€‚å‘æ˜æ–°çš„åŠ¨ç”»å’Œâ€¦

framer.com](https://framer.com/download/) ![](img/bcd0b94105ce50b5ce92555ea7006a0f.png)

ä¹ä¸€çœ‹ï¼Œå®ƒå¯èƒ½çœ‹èµ·æ¥éå¸¸æ‹¥æŒ¤ï¼Œæœ‰å¾ˆå¤šä»£ç ï¼Œä½†æˆ‘å‘ä½ ä¿è¯ï¼Œåªéœ€è¦ä¸€å¤©å°±å¯ä»¥æˆä¸ºä¸€åä¸“ä¸šçš„æ¡†æ¶è®¾è®¡å¸ˆï¼åªè¦çœ‹çœ‹è¿™ä¸ªäº§å“çš„ YouTube é¢‘é“ï¼Œè§‚çœ‹æ‰€æœ‰çš„æ•™ç¨‹ï¼Œç›®å‰ï¼Œåªæœ‰ 14 ä¸ªè§†é¢‘ï¼Œéœ€è¦ä¸€ä¸ªåŠå°æ—¶ï¼

[](https://www.youtube.com/channel/UCW5gUZ7lKGrAbLOkHv2xfbw) [## ç»„æˆè€…

### æ’å…¥ï¼Œè®¾è®¡å’ŒåŠ¨ç”»ä¸æ¡†æ¶ç±»å‹çš„æ–‡æœ¬ã€‚æˆ‘ä»¬çš„ TextLayer æ˜¯å®Œå…¨åŠ¨æ€çš„ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬é»˜è®¤ä¸ºç³»ç»Ÿâ€¦

www.youtube.com](https://www.youtube.com/channel/UCW5gUZ7lKGrAbLOkHv2xfbw) 

è¯¥å·¥å…·çš„ä¸€ä¸ªå®Œç¾ç‰¹æ€§æ˜¯ç›´æ¥ä»[è‰å›¾](https://sketchapp.com)å¯¼å…¥å›¾å½¢èµ„äº§ï¼Œè¿™å°†ä½¿æ‚¨çš„å·¥ä½œæ›´åŠ å®¹æ˜“ã€‚ä½ å¿…é¡»è®©ä½ çš„ UI/UX è®¾è®¡å¸ˆäº¤å‡ºä¸€ä¸ªæ ‡å‡†çš„è‰å›¾æ–‡ä»¶ï¼Œç„¶åä½ å¯ä»¥ç›´æ¥å°†å®ƒå¯¼å…¥åˆ° Framer é¡¹ç›®å’Œä¸€äº›å°ä»£ç æ¥ä½¿å®ƒå·¥ä½œã€‚

# åœ¨ Android ä¸­é›†æˆæˆå¸§å™¨

æ­£å¦‚æˆ‘æåˆ°çš„ï¼Œä¸€ä¸ª Framer é¡¹ç›®æ˜¯ä¸€ä¸ªä½¿ç”¨ JavaScript çš„åŠ¨æ€ç½‘ç«™ï¼Œå…¶å…¥å£æ˜¯ä¸€ä¸ª**æ–‡ä»¶ï¼Œæ‰€ä»¥å¦‚æœä½ æœ‰å°†è¿™æ ·ä¸€ä¸ªç¦»çº¿ç½‘ç«™ä» Assets æ–‡ä»¶å¤¹åŠ è½½åˆ° WebView çš„ç»éªŒï¼Œä½ ç°åœ¨å°±å¯ä»¥å¼€å§‹åŸå‹åˆ¶ä½œäº†ï¼**

**è®©æˆ‘ä»¬ä»åˆ›å»ºä¸€ä¸ªç©ºçš„ Android åº”ç”¨ç¨‹åºå¼€å§‹ï¼Œå¹¶å°†æ‚¨çš„ framer é¡¹ç›®å¤åˆ¶åˆ° assets æ–‡ä»¶å¤¹ä¸­ã€‚(æ‚¨å¯ä»¥ä½¿ç”¨ Android Studio åˆ›å»ºèµ„äº§æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶>æ–°å»º>æ–‡ä»¶å¤¹>èµ„äº§æ–‡ä»¶å¤¹)**

**![](img/04a9c2f6945a627ba8aacb658f10cf95.png)**

**Create assets folder in project**

**ï¼Œç°åœ¨å°†æ‚¨çš„ Framer é¡¹ç›®å¤åˆ¶åˆ°æ‚¨çš„ Android åº”ç”¨ç¨‹åºé¡¹ç›®èµ„äº§æ–‡ä»¶å¤¹ä¸­ï¼Œ**

**![](img/f98348170bf53bc6f0e7b9b0af24c10e.png)**

**Framer project added to Assets folder**

**æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ª WebView åˆ°æˆ‘ä»¬çš„å¸ƒå±€ï¼Œå¹¶æ·»åŠ ä¸€äº›ä»£ç æ¥åŠ è½½æ¡†æ¶é¡¹ç›®ã€‚**

*****activity _ main . XML*****

```
**<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"> <WebView
        android:id="@+id/webView"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/></LinearLayout>**
```

*****MainActivity.java*****

```
**public class MainActivity extends AppCompatActivity { WebView webView; @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.*activity_main*); webView = (WebView) findViewById(R.id.*webView*); WebSettings settings = webView.getSettings();
        settings.setAllowFileAccessFromFileURLs(true);
        settings.setJavaScriptEnabled(true); webView.loadUrl("file:///android_asset/Sample.framer/index.html");
    }
}**
```

**è¿™æ˜¯å‡ ä¹å®Œæˆäº†ï¼Œä½ ç°åœ¨å¯ä»¥è¿è¡Œåº”ç”¨ç¨‹åºï¼**

**![](img/d1c09125ccf8702b2628798bd0e45e01.png)**

**Framer Local File Restrictions warning!**

## **ä¸€ä¸ªå¯è§£çš„è­¦å‘Šï¼**

**å°† Framer ç›´æ¥åŠ è½½åˆ° WebView æ—¶ä¼šå‡ºç°é—®é¢˜ï¼Œå°½ç®¡å·²å°†æ­¤è®¾ç½®æ·»åŠ åˆ° WebViewï¼Œä½†ä»ä¼šå¯¼è‡´æ–‡ä»¶è®¿é—®æƒé™è­¦å‘Š:**

```
**settings.setAllowFileAccessFromFileURLs(true);**
```

**è¿™å¯ä»¥é€šè¿‡ä» web æœåŠ¡(æœ¬åœ°æˆ–äº’è”ç½‘)åŠ è½½ Framer æ¥è§£å†³ï¼Œæˆ–è€…æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œæ‚¨å¯ä»¥æ›´æ”¹å¯¼è‡´æ­¤è­¦å‘Šçš„æ–¹æ³•ï¼åªéœ€åœ¨æ‚¨çš„ framer é¡¹ç›®çš„ Framer æ–‡ä»¶å¤¹ä¸­æ‰“å¼€***Framer . init . js***å¹¶ç¼–è¾‘ç¬¬ä¸€ä¸ª JavaScript å‡½æ•°:**

```
**function isFileLoadingAllowed() {
// return (window.location.protocol.indexOf("file") == -1)
    return true;
}**
```

**å°±æ˜¯è¿™æ ·ï¼Œç°åœ¨ä½ å¯ä»¥è¿è¡Œä½ çš„åŸå‹æ²¡æœ‰ä»»ä½•è­¦å‘Šã€‚**

**![](img/7186e2b23f539fa47b645acde62dead7.png)**

**Android Application prototype using Framer**

# **åœ¨ Framer å’Œ Android ä¹‹é—´åˆ›å»ºè¿æ¥**

**åœ¨å¤§å¤šæ•°åŸå‹æ¡ˆä¾‹ä¸­ï¼Œæ‚¨éœ€è¦åŠ è½½ä¸€ä¸ªæ¼‚äº®çš„ UIï¼Œå®ƒé€šè¿‡åŠ¨ç”»æˆ–ä¸€äº›äº‹åŠ¡æˆ–æ»šåŠ¨å¯¹ç”¨æˆ·äº¤äº’åšå‡ºååº”ï¼Œä½†æ˜¯å¦‚æœæ‚¨å–œæ¬¢åœ¨ä»£ç å’Œ Framer é¡¹ç›®ä¹‹é—´å»ºç«‹è¿æ¥å¹¶ä¸ºäº‹ä»¶å¼€å‘ï¼Œè¿™æ˜¯å¯èƒ½çš„ã€‚æ‚¨ä¹Ÿå¯ä»¥å°†åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®åŠ è½½åˆ° Framer ä¸­ã€‚**

**åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦ä¸€ä¸ª Javascript ç•Œé¢æ¥å°†å…¶æ·»åŠ åˆ° WebView:**

*****JavascriptHandler.java*****

```
**public class JavascriptHandler {

    private Activity activity;
    private WebView webView;

    public JavascriptHandler(Activity activity, WebView webView) {
        this.activity = activity;
        this.webView = webView;
    }

    */**
     * This method handles call from Framer
     */* @JavascriptInterface
    public void javascriptCall(String jsString) {
        Toast.*makeText*(activity, jsString, Toast.*LENGTH_LONG*).show();
    }

    */**
     * This method handles call from Android
     */* public void javaCall(String message) {

        final String webUrl = "javascript:DeviceComponent.displayJavaMessage('" + message + "')";
        // Add this to avoid android.view.windowmanager$badtokenexception unable to add window
        if (!activity.isFinishing())
            // loadurl on UI main thread
            activity.runOnUiThread(new Runnable() {

                @Override
                public void run() {
                    webView.loadUrl(webUrl);
                }
            });
    }
}**
```

**ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿™è¡Œä»£ç å°†å…¶ä½œä¸º JavaScript æ¥å£æ·»åŠ åˆ° WebView:**

*****MainActivity.java*****

```
**webView.addJavascriptInterface(new JavascriptHandler(this, webView), "JavascriptHandler");**
```

**ç°åœ¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡å°†è¿™è¡Œä»£ç æ·»åŠ åˆ°æ‚¨çš„æˆå¸§å™¨é¡¹ç›®æ¥å‘ Android å‘é€äº‹ä»¶:**

*****app.coffee*****

```
**JavascriptHandler.javascriptCall(â€œLayerA clicked!â€)**
```

**![](img/65e3ed9596424e8ec52393431a02ae1b.png)**

**LayerB clicked event sent from Framer to Android**

**ï¼Œæˆ–è€…æ‚¨å¯ä»¥é€šè¿‡ä» Android è°ƒç”¨æ­¤æ–¹æ³•å‘ Framer å‘é€æ¶ˆæ¯:**

```
**javascriptHandler.javaCall("Hi!!!");**
```

**æå®šäº†ã€‚æ‚¨ç°åœ¨å¯ä»¥å¼€å§‹åˆ›å»ºè‡ªå·±çš„åŸå‹ï¼Œè€Œæ— éœ€è€ƒè™‘ Android å¼€å‘ã€UI å…ƒç´ æˆ–åŠ¨ç”»ã€‚**

# **TLï¼›é€Ÿåº¦ä¸‰è§’å½¢å®šä½æ³•(dead reckoning)**

**[Framer](https://framer.com) æ˜¯ä¸€ä¸ªå®Œç¾çš„å·¥å…·ï¼Œå¯ä»¥å°½å¿«åˆ›å»ºä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„åŸå‹åº”ç”¨ç¨‹åºï¼Œå¯ä»¥è½»æ¾åœ°ä¸ Android é›†æˆã€‚**

# **æºä»£ç å’Œæ›´å¤šä¿¡æ¯**

**æ‚¨å¯ä»¥åœ¨ GitHub ä¸Šè®¿é—®è¿™ä¸ªç¤ºä¾‹é¡¹ç›®æºä»£ç æŠ¥å‘Š:**

**[](https://github.com/mirhoseini/framer-android-wrapper) [## mirhoseini/framer-Android-wrapper

### android åŒ…è£…åº”ç”¨ç¨‹åº

github.com](https://github.com/mirhoseini/framer-android-wrapper) 

ï¼Œå¹¶åœ¨æ­¤é˜…è¯»æœ‰å…³ Framer çš„æ›´å¤šä¿¡æ¯:

[](https://framer.com/docs) [## ç”¨ä»£ç è®¾è®¡ä¸€åˆ‡

### ä¸º iOSã€å®‰å“ã€æ¡Œé¢æˆ–ç½‘ç»œè®¾è®¡äº¤äº’å¼é«˜ä¿çœŸåŸå‹ã€‚å‘æ˜æ–°çš„åŠ¨ç”»å’Œâ€¦

framer.com](https://framer.com/docs) 

## P.S .

è¿™ä¸ªå¸–å­ä¸æ˜¯å¹¿å‘Šï¼Œä¸å¹¸çš„æ˜¯æ²¡æœ‰äººä¸ç»™æˆ‘ä¸€åˆ†é’±ã€‚é‡ç‚¹æ˜¯ï¼Œæˆ‘æœ€è¿‘åˆ›å»ºäº†è¿™ä¸ªå·¥å…·ï¼Œå¹¶å†³å®šä¸å®ƒåˆ†äº«æˆ‘çš„ç»éªŒï¼Œæˆ‘ä¹Ÿåœ¨ä½¿ç”¨è¯•ç”¨ç‰ˆã€‚ğŸ¤£

æˆ‘æœŸå¾…æ‚¨çš„è¯„è®ºï¼Œå¹¶ä¸ Framer åˆ†äº«æ‚¨çš„ç»éªŒã€‚å¦‚æœæ‚¨è®¤ä¸ºè¿™ç¯‡æ–‡ç« æœ‰ç”¨ï¼Œè¯·é€šè¿‡ç‚¹å‡»æ¥åˆ†äº«ğŸ’šæŒ‰é’®ï¼Œå¹¶è·Ÿæˆ‘æ¥è·å–æ›´å¤šæ–‡ç« [Mohsen Mirrhoxini Argi](https://medium.com/u/6a4ed0c4dd2c?source=post_page-----77353cbc2207--------------------------------)ã€‚

 [## ç©†èµ«æ£®Â·ç±³å°”éœè¥¿å°¼â€”â€”èµ„æ·±å®‰å“å¼€å‘è€…

### æˆ‘æ˜¯ä¸€åèµ„æ·±å®‰å“å¼€å‘è€…ï¼Œåœ¨è®¡ç®—æœºè½¯ä»¶å·¥ç¨‹é¢†åŸŸæœ‰å¤§çº¦ä¹å¹´çš„ç»éªŒã€‚æˆ‘æœ‰â€¦

mirhoseini.info](http://mirhoseini.info) [![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)

> [é»‘å®¢ä¸­åˆ](http://bit.ly/Hackernoon)æ˜¯é»‘å®¢ä»¬å¼€å§‹ä»–ä»¬ä¸‹åˆæ´»åŠ¨çš„æ–¹å¼ã€‚æˆ‘ä»¬æ˜¯ [@AMI](http://bit.ly/atAMIatAMI) å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨[æ¥å—æäº¤](http://bit.ly/hackernoonsubmission)å¹¶å¾ˆé«˜å…´[è®¨è®ºå¹¿å‘Š&èµåŠ©](mailto:partners@amipublications.com)æœºä¼šã€‚
> 
> å¦‚æœæ‚¨å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨é˜…è¯»æˆ‘ä»¬çš„[æœ€æ–°ç§‘æŠ€æ•…äº‹](http://bit.ly/hackernoonlatestt)å’Œ[è¶‹åŠ¿ç§‘æŠ€æ•…äº‹](https://hackernoon.com/trending)ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®è§†ä¸ºç†æ‰€å½“ç„¶ï¼

![](img/be0ca55ba73a573dce11effb2ee80d56.png)**