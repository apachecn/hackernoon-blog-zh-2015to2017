# Nodejs åº”ç”¨ç¨‹åº Sequelize å…¥é—¨

> åŸæ–‡ï¼š<https://medium.com/hackernoon/getting-started-with-sequelize-for-nodejs-applications-2854c58ffb8c>

![](img/e5970eea114c0dd5187abb2985ce4b60.png)

# ORM ç®€ä»‹

ORM æˆ–å¯¹è±¡å…³ç³»æ˜ å°„æ˜¯å¯¹è±¡å’Œå…³ç³»æ•°æ®åº“ç³»ç»Ÿä¹‹é—´çš„æ˜ å°„è¿‡ç¨‹ã€‚ORM å°±åƒä¸¤ä¸ªç³»ç»Ÿä¹‹é—´çš„æ¥å£ã€‚ORM ä¸ºå¼€å‘äººå‘˜æä¾›äº†ä¸€äº›åŸºæœ¬çš„ä¼˜åŠ¿ï¼Œæ¯”å¦‚èŠ‚çœæ—¶é—´å’Œç²¾åŠ›ï¼Œæ›´æ³¨é‡ä¸šåŠ¡é€»è¾‘ã€‚ä»£ç æ˜¯å¥å£®çš„è€Œä¸æ˜¯å†—ä½™çš„ã€‚ORM æœ‰åŠ©äºä»¥æœ‰æ•ˆçš„æ–¹å¼ç®¡ç†å¯¹å¤šä¸ªè¡¨çš„æŸ¥è¯¢ã€‚æœ€åï¼ŒORM(åƒ [sequelize](http://docs.sequelizejs.com/en/v3/) )èƒ½å¤Ÿè¿æ¥ä¸åŒçš„æ•°æ®åº“(å½“ä»ä¸€ä¸ªæ•°æ®åº“åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ•°æ®åº“æ—¶ï¼Œè¿™å¾ˆæ–¹ä¾¿)ã€‚

# Sequelize å…¥é—¨

Sequelize æ˜¯ Node.js çš„ä¸€ä¸ªåŸºäº promise çš„ ORMã€‚Sequelize å¾ˆå®¹æ˜“å­¦ä¹ ï¼Œæœ‰å‡ åä¸ªå¾ˆé…·çš„ç‰¹æ€§ï¼Œæ¯”å¦‚åŒæ­¥ã€å…³è”ã€éªŒè¯ç­‰ç­‰ã€‚å®ƒè¿˜æ”¯æŒ PostgreSQLã€MySQLã€MariaDBã€SQLite å’Œ MSSQLã€‚æˆ‘å‡è®¾æ‚¨çš„æœºå™¨ä¸Šå·²ç»å¯åŠ¨äº†æŸç§å½¢å¼çš„ SQL æ•°æ®åº“æœåŠ¡ã€‚æˆ‘ç›®å‰æ­£åœ¨ä½¿ç”¨ MySQLã€‚

# è£…ç½®

Sequelize å¯é€šè¿‡ npm è·å¾—ã€‚

# å»ºç«‹è¿æ¥

Sequelize ç¡®å®åœ¨ rest API/åº”ç”¨ç¨‹åºå’Œæ‚¨çš„ SQL æ•°æ®åº“ä¹‹é—´å»ºç«‹äº†ä¸€ä¸ªè¿æ¥ã€‚è¦è®¾ç½®ä¸¤è€…ä¹‹é—´çš„åŸºæœ¬è¿æ¥:

# æˆ‘å¦‚ä½•è®¾ç½®æˆ‘çš„åºåˆ—è¿æ¥ï¼Ÿ

ä¸ºäº†ç®€æ´èµ·è§ï¼Œæˆ‘å–œæ¬¢å°†ä»£ç åˆ†æˆæ¨¡å—ã€‚æ¯•ç«Ÿï¼Œ [*ä¸€ä¸ªç¨‹åº/æ¨¡å—åº”è¯¥åšä¸€ä»¶äº‹*](https://amandeepmittal.github.io/blog/2017/04/05/The-Node-Way-Philosophy-of-a-Platform/) çš„ Unix å“²å­¦æ˜¯å¦‚ä»Šç”¨ JavaScript ç¼–å†™ä»£ç (å¹¶ä½¿ç”¨ Node.js ä½œä¸ºæœåŠ¡å™¨ç«¯å¹³å°)èƒŒåçš„å“²å­¦çš„ä¸»è¦éƒ¨åˆ†ã€‚

æˆ‘ä»æˆ‘çš„åº”ç”¨ç¨‹åº/api æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸­çš„`config.json` / `config.js`æ–‡ä»¶å¼€å§‹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘å®šä¹‰äº†è®¾ç½®ä¸æ•°æ®åº“çš„è¿æ¥æ‰€éœ€çš„ä¸€èˆ¬çº¦æŸ:

å¦‚æœä½ å–œæ¬¢éµå¾ªè¿™ç§æ¨¡å¼ï¼Œä½ å¯ä»¥åœ¨ä½ çš„`.env`æ–‡ä»¶ä¸­è¿™æ ·åšã€‚æœ‰å…³è¿™æ–¹é¢çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§`[dotenv](https://www.npmjs.com/package/dotenv)`ã€‚

åœ¨å®šä¹‰äº†é…ç½®å˜é‡ä¹‹åï¼Œåœ¨æˆ‘çš„`models/`æ–‡ä»¶å¤¹ä¸­æˆ–è€…æˆ‘åœ¨åº”ç”¨ç¨‹åºçº§å®šä¹‰æ•°æ®åº“ä¸­çš„è¡¨æ¨¡å¼çš„åœ°æ–¹ï¼Œæˆ‘åœ¨ä¸€ä¸ª`index.js`æ–‡ä»¶ä¸­åˆ›å»ºè¿æ¥:

æ³¨æ„åˆ°æˆ‘å…¬å¼€äº†åŒ…å«æ¯ä¸ªæ¨¡å‹/è¡¨æ¨¡å¼å®šä¹‰çš„`db`å¯¹è±¡æ˜¯å¾ˆé‡è¦çš„ã€‚ä»ç°åœ¨å¼€å§‹ï¼Œæˆ‘åªéœ€å¯¼å…¥`db`å¯¹è±¡ï¼Œä½¿ç”¨å®ƒå¯¹ç‰¹å®šçš„æ•°æ®åº“è¡¨è¿›è¡Œæ“ä½œã€‚

è¯¥è®¾ç½®å¯ä»¥åœ¨ [Sequelize CLI](https://github.com/sequelize/cli) å·¥å…·çš„å¸®åŠ©ä¸‹è‡ªåŠ¨ç”Ÿæˆï¼Œè¯¥å·¥å…·æœ‰åŠ©äºä»¥æœ‰æ•ˆçš„æ–¹å¼å¼•å¯¼æ–°é¡¹ç›®(å¦‚ä¸Šæ‰€è¿°),å¹¶ç›´æ¥ä»ç»ˆç«¯å¤„ç†æ•°æ®åº“è¿ç§»ã€‚

# ç»“è®º

Sequelize æ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„ ORM for Node.jsã€‚å®ƒæœ‰ä¸€ä¸ªæ–‡æ¡£ï¼Œæœ‰æ—¶å¯èƒ½ä¸ä¼šä¸ºæ‚¨çš„é—®é¢˜æä¾›ç›´æ¥çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ€»æ˜¯æœ‰ Github çš„é—®é¢˜ã€‚æˆ‘å–œæ¬¢çš„æ˜¯å®ƒåŸºäºæ‰¿è¯ºçš„æ§åˆ¶æµã€‚æ¥è‡ª NoSQL èƒŒæ™¯(å¹¶ä½¿ç”¨ MongoDB)ï¼Œç†è§£ Sequelize çœŸçš„èŠ±äº†æ›´å°‘çš„æ—¶é—´ã€‚å¤§å¤šæ•°åŸºäºæŸ¥è¯¢çš„æ¨¡å‹ä¸ MongoDB ä¸­çš„éå¸¸ç›¸ä¼¼(å°¤å…¶æ˜¯ CRUD æ“ä½œ)ã€‚æˆ‘æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªæ›´æ˜äº®ï¼Œæ›´å®Œå–„çš„æ–‡æ¡£å’Œ Sequelize çš„æ”¯æŒå®¹æ˜“ã€‚

**æƒ³æ”¶åˆ°æ›´å¤šåƒè¿™æ ·çš„æ–‡ç« å—ï¼Ÿè®¢é˜…æˆ‘** [**è¿™é‡Œ**](https://patreon.us17.list-manage.com/subscribe?u=ad4c168a6d5bb975f2f282d54&id=39e959cecd) **ã€‚æœ‰æ—¶ï¼Œæˆ‘ä¼šå‘æˆ‘çš„è®¢æˆ·å‘é€â€œä»æœªè§è¿‡â€çš„å†…å®¹ã€‚**

***æ„Ÿè°¢é˜…è¯»ã€‚å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰ç”¨ï¼Œè¯·ç‚¹å‡»*** ğŸ’š ***æŒ‰é’®ï¼Œè¿™æ ·è¿™ä¸ªæ•…äº‹å°±èƒ½æ¥è§¦åˆ°æ›´å¤šçš„*è¯»è€…*ã€‚å¦‚æœä½ æƒ³è°ˆè®ºæ›´å¤šï¼Œè¯·åœ¨***[***Twitter***](https://twitter.com/amanhimself)***ä¸Š ping æˆ‘ã€‚***

[![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)

> [é»‘å®¢ä¸­åˆ](http://bit.ly/Hackernoon)æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯ [@AMI](http://bit.ly/atAMIatAMI) å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨[æ¥å—æŠ•ç¨¿](http://bit.ly/hackernoonsubmission)å¹¶ä¹æ„[è®¨è®ºå¹¿å‘Š&èµåŠ©](mailto:partners@amipublications.com)æœºä¼šã€‚
> 
> å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„[æœ€æ–°ç§‘æŠ€æ•…äº‹](http://bit.ly/hackernoonlatestt)å’Œ[è¶‹åŠ¿ç§‘æŠ€æ•…äº‹](https://hackernoon.com/trending)ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼

![](img/be0ca55ba73a573dce11effb2ee80d56.png)