# åŠ å¿« Swift ç¼–è¯‘æ—¶é—´

> åŸæ–‡ï¼š<https://medium.com/hackernoon/speed-up-swift-compile-time-6f62d86f85e6>

![](img/5dfe9b4fa2aa7dcf03611604f693eca0.png)

## æ²¡æœ‰ä»€ä¹ˆæ˜¯å®Œç¾çš„

Swift å·²ç»æˆä¸ºæœ€ä¼Ÿå¤§çš„ç°ä»£[ç¼–ç¨‹](https://hackernoon.com/tagged/programming)è¯­è¨€ä¹‹ä¸€ï¼Œä½†æ˜¯å’Œå…¶ä»–äº‹ç‰©ä¸€æ ·ï¼Œå®ƒä¹Ÿæœ‰è‡ªå·±çš„é—®é¢˜ã€‚åœ¨ä»äº‹å¤§å‹é¡¹ç›®æ—¶ï¼Œæ‚¨ä¼šæ³¨æ„åˆ° Swift ç¼–è¯‘æ—¶é—´å¢é•¿çš„é—®é¢˜ã€‚è¿™æ˜¯ä¸€ç§çœŸæ­£çš„æŒ«æŠ˜å’Œæµªè´¹æ—¶é—´ã€‚æˆ‘ç›®ç¹è¿‡é•¿è¾¾ 5-6 åˆ†é’Ÿçš„ç¼–è¯‘æ—¶é—´ï¼Œä½†æ˜¯æœ‰ä¾‹å­è¡¨æ˜å®ƒå¯ä»¥å¢é•¿å¾—æ›´å¤šã€‚åœ¨é‚£äº›æ—¶åˆ»ï¼Œ [Xcode](https://hackernoon.com/tagged/xocde) è®©æˆ‘æƒ³èµ·äº†æ—©æœŸçš„ Android Studioã€‚ğŸ¢ğŸ¢ğŸ¢ğŸ¢

åœ¨ Swift ç¼–è¯‘æ—¶æ¯å¤©æµªè´¹ä¸€ä¸¤ä¸ªå°æ—¶æ˜¯å¤§é‡çš„éç”Ÿäº§æ€§æ—¶é—´ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¿…é¡»**ä¼˜åŒ–** Xcode å’Œæˆ‘ä»¬ç¼–ç çš„æ–¹å¼ã€‚æˆ‘å°†å±•ç¤ºä¸€äº›æ˜¾è‘—å‡å°‘ Swift ç¼–è¯‘æ—¶é—´çš„ä¸œè¥¿ï¼Œå› æ­¤æ‚¨å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œå¹¶å‘Šè¯‰æˆ‘å®ƒä»¬æ˜¯å¦å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚

# ä¼˜åŒ–æ—¶é—´åˆ°äº†ï¼

## ä¸€ä¸ªå¾ˆæ£’çš„å·¥å…·

è®©æˆ‘ä»¬ä»å®‰è£…è¿™ä¸ªä»¤äººæ•¬ç•çš„å¼€æºå·¥å…·å¼€å§‹ï¼Œå®ƒå«åš[**Xcode**](https://github.com/RobertGummesson/BuildTimeAnalyzer-for-Xcode)çš„ç¼–è¯‘æ—¶åˆ†æå™¨ã€‚æŒ‰ç…§ GitHub é“¾æ¥ä¸Šæä¾›çš„è¯´æ˜å®‰è£…è¿™ä¸ªå·¥å…·ï¼Œç„¶åè¿è¡Œæ‚¨çš„é¡¹ç›®ã€‚å®ƒä¼šåˆ†æä½ çš„ä»£ç ï¼Œå¹¶å‘Šè¯‰ä½ å“ªäº›éƒ¨åˆ†çš„ä»£ç ç¼–è¯‘æ—¶é—´æœ€é•¿ã€‚ç”¨è¿™ä¸ªå·¥å…·ä¼˜åŒ–ä»£ç ä¼šå®¹æ˜“å¾ˆå¤šï¼Œæ‰€ä»¥ä¸è¦è·³è¿‡è¿™ä¸€æ­¥ã€‚

![](img/4b1c1d5688a9a8e6ee3b86b75900abb9.png)

[Build Time Analyzer for Xcode](https://github.com/RobertGummesson/BuildTimeAnalyzer-for-Xcode) in action

## Xcode æ”¹è¿›

åœ¨è¿›å…¥ä»£ç ä¹‹å‰ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥ä¸€äº›å¯ä»¥åœ¨ IDE ä¸Šå°è¯•çš„ä¼˜åŒ–æŠ€å·§ã€‚

*   **è°ƒæ•´ä¼˜åŒ–çº§åˆ«** â€”å¯¼èˆªåˆ°æ„å»ºè®¾ç½®- >ä¼˜åŒ–çº§åˆ«ï¼Œå¹¶ç¡®ä¿è°ƒè¯•è®¾ç½®ä¸º**æ— ã€‚**æ¥ä¸‹æ¥ï¼Œè¿›å…¥æ„å»ºè®¾ç½®- >ç”¨æˆ·è‡ªå®šä¹‰ï¼Œæ·»åŠ `SWIFT_WHOLE_MODULE_OPTIMIZATION = YES`ã€‚æ ¹æ®æˆ‘çš„ç»éªŒï¼Œè¿™ä¸ªæ ‡å¿—æ€»æ˜¯å ç”¨ç¼–è¯‘æ—¶é—´çš„å¾ˆå¤§ä¸€éƒ¨åˆ†ã€‚

![](img/c10701fd61596b408d9a0a961a297eb4.png)

Optimization Level in Build Settings

*   **ä»è°ƒè¯•ä¸­ç§»é™¤ dSYM æ–‡ä»¶â€”** dSYM(è°ƒè¯•ç¬¦å·æ–‡ä»¶)æ˜¯ä¸€ä¸ªè·å–è°ƒè¯•ä¿¡æ¯å¹¶å°†å…¶å­˜å‚¨åœ¨ dSYM åŒ…ä¸­çš„æ–‡ä»¶ã€‚æ¯æ¬¡ç¼–è¯‘é¡¹ç›®æ—¶éƒ½ä¼šç”Ÿæˆæ­¤æ–‡ä»¶ã€‚ç„¶è€Œï¼Œåœ¨ Debug ä¸­ä½ ä¸éœ€è¦è¿™ä¸ªï¼Œæ‰€ä»¥æŠŠè¿™ä¸ªå€¼æ”¹ä¸º DWARFï¼Œå¹¶ä¸”åªåœ¨ Release æ¨¡å¼ä¸‹æ¿€æ´»å®ƒã€‚æ‚¨å¯ä»¥åœ¨â€œç”Ÿæˆè®¾ç½®â€ä¸‹æ‰¾åˆ°è°ƒè¯•ä¿¡æ¯æ ¼å¼è®¾ç½®ã€‚

![](img/5ae9ca95a4352756d21c048ec91e8f6a.png)

Remove dSYM file from Debug

*   **æ£€æŸ¥æ‚¨çš„ä»…æ„å»ºæ´»åŠ¨æ¶æ„å€¼** â€”å¯¹äºæ‰€æœ‰éå‘å¸ƒçš„æ„å»ºï¼Œå°†ä»…æ„å»ºæ´»åŠ¨æ¶æ„è®¾ç½®ä¸º**æ˜¯**ã€‚è¿™å°†é˜²æ­¢ Xcode ç¼–è¯‘æ–‡ä»¶ä¸¤æ¬¡ã€‚æ‚¨å¯ä»¥åœ¨â€œç”Ÿæˆè®¾ç½®â€ä¸‹æ‰¾åˆ°â€œä»…ç”Ÿæˆæ´»åŠ¨ä½“ç³»ç»“æ„â€è®¾ç½®ã€‚

![](img/b5d90d48aef2c21b0cdfae4fa2e35f39.png)

Check your Build Active Architecture Only values

*   æ¸…ç©ºæ‚¨çš„æ´¾ç”Ÿæ•°æ® â€”å¦‚æœæ‚¨åœ¨æ„å»ºé¡¹ç›®æ—¶æœ‰ä»»ä½•é—®é¢˜ï¼Œæ‚¨åº”è¯¥ä»è¿™é‡Œå¼€å§‹ã€‚è½¬åˆ°æ–‡ä»¶- >é¡¹ç›®è®¾ç½®ï¼Œå¹¶å•å‡»æ´¾ç”Ÿæ•°æ®è·¯å¾„æ—è¾¹çš„ç®­å¤´ã€‚ç®­å¤´å°†å®šä½æ–‡ä»¶å¤¹ï¼Œå¹¶ç‚¹å‡»åˆ é™¤å®ƒã€‚ä¸è¦æ‹…å¿ƒï¼Œå®ƒä¼šåœ¨æ‚¨ä¸‹æ¬¡è¿è¡Œé¡¹ç›®æ—¶é‡æ–°åˆ›å»ºã€‚è¿˜æœ‰ï¼Œåˆ é™¤æ•°æ®ååˆ«å¿˜äº†æ¸…ç†é¡¹ç›®(CMD+Shift+K)ã€‚

![](img/ca6071b88cba09e4d91f8e0309d12772.png)

Empty your Derived Data

è¿™äº›æ˜¯ Xcode çš„æ”¹è¿›ï¼Œåœ¨å‡å°‘ Swift ç¼–è¯‘æ—¶é—´æ–¹é¢æ•ˆæœæœ€å¥½ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¸ºäº†è·å¾—æ›´å¥½çš„ç¼–è¯‘æ—¶é—´ï¼Œæ‚¨éœ€è¦é¿å…/æ”¹è¿›çš„ä¸€äº›ç¼–ç å®è·µã€‚

ä¸ºæ‚¨æ¨è: [**ä¸€ä¸ªè½¯ä»¶å¼€å‘æˆåŠŸå“²å­¦çš„ 6 ä¸ªå°æŠ€å·§**](http://theappspace.com/software-development-success-philosophy/)

## è¿…é€Ÿçš„æ”¹è¿›

*   **æ·»åŠ ç±»å‹æ³¨é‡Š** â€”ä½ åº”è¯¥æ€»æ˜¯ç»™ä½ çš„å˜é‡æ·»åŠ ç±»å‹æ³¨é‡Šã€‚è¿™æ ·ä¸€æ¥ï¼Œç¼–è¯‘å™¨å°±å·²ç»çŸ¥é“äº†å˜é‡çš„ç±»å‹ï¼Œä»è€ŒèŠ‚çœäº†è¯»å–æ—¶é—´ã€‚ä¾‹å¦‚ï¼Œæˆ‘å°†ä½¿ç”¨æ•°ç»„æ–‡å­—ã€‚

æœ¬:
`let array: [String] = ["a", "b", "c", "d", "e", "f", "g"]`

è€Œä¸æ˜¯:`let array = ["a", "b", "c", "d", "e", "f", "g"]`

*   **é¿å…é›¶åˆå¹¶æ“ä½œç¬¦** â€”ç§»é™¤é›¶åˆå¹¶æ“ä½œç¬¦åï¼Œç¼–è¯‘æ—¶é—´æœ‰äº†å¾ˆå¤§æ”¹å–„ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨å¯é€‰å­—ç¬¦ä¸²ã€‚

```
if let name = string{ 
 /* string has value */
}else{
 /* string is nil*/
}
```

è€Œä¸æ˜¯:`let name = string ?? ""`

*   **é¿å…ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦â€”** ä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦ä¹Ÿå¢åŠ äº† Swift çš„ç¼–è¯‘æ—¶é—´ã€‚æˆ‘å–œæ¬¢åŒæ—¶ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦å’Œé›¶åˆå¹¶è¿ç®—ç¬¦ï¼Œå› ä¸ºå®ƒä»¬ä½¿æˆ‘çš„ä»£ç æ›´çŸ­ã€æ›´ç®€æ´ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¿…é¡»å°½å¯èƒ½é¿å…ä½¿ç”¨å®ƒä»¬ï¼Œè€Œæ˜¯ä½¿ç”¨ if-else æ¡ä»¶å¥ã€‚

```
var letter = ""
if isFirst{ 
  letter = "a"
}else{
  letter = "b"
}
```

è€Œä¸æ˜¯:`let letter = isFirst ? "a" : "b"`

*   **ä¸è¦ä½¿ç”¨+æ¥è¿æ¥å­—ç¬¦ä¸²** â€” Swift æ›´å–œæ¬¢å­—ç¬¦ä¸²æ’å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨â€œ+â€ç¬¦å·ã€‚ä¿¡ä¸ä¿¡ç”±ä½ ï¼Œè¿™åœ¨ä¼˜åŒ–çš„æ—¶å€™èŠ‚çœäº†æˆ‘å¾ˆå¤šç¼–è¯‘æ—¶é—´ã€‚

æœ¬:`let url = "https://google.com/\("path")/\("anotherpath")"`

è€Œä¸æ˜¯:`let url = "https://google.com/" + "path/" + "anotherpath"`

*   **é¢„è®¡ç®—â€”** æ°¸è¿œä¸è¦ç›´æ¥æ ¹æ® if-else æ¡ä»¶è¿›è¡Œè®¡ç®—ã€‚è¿™éœ€è¦å¾ˆå¤šæ—¶é—´æ¥å®Œæˆï¼Œè€Œä¸”å®ƒè¿˜ä¸çŸ¥é“è‡ªå·±çš„ç±»å‹ã€‚ä»…è¿™ä¸€æ­¥å°±å¢åŠ äº† 5 ç§’å¤šçš„ç¼–è¯‘æ—¶é—´ã€‚ä½ éœ€è¦åšçš„æ˜¯ï¼Œåˆ›å»ºä¸€ä¸ªå˜é‡å’Œæˆ‘ä»¬ä¸Šé¢æåˆ°çš„ç±»å‹æ³¨é‡Šï¼Œå¹¶æ·»åŠ è®¡ç®—ã€‚ä¹‹åï¼Œå°†å€¼ä¼ é€’ç»™ if-else æ¡ä»¶å¹¶è¿›è¡Œæ¯”è¾ƒã€‚

```
let number: Double = 60 * 60if number == 3600{}
```

è€Œä¸æ˜¯:
`if number == 60 * 60 {}`

# ç»“è®º

Swift çš„æ”¹è¿›åœ¨æ‚¨çœ‹æ¥å¯èƒ½åªæ˜¯å¾®å°çš„æ”¹è¿›ï¼Œæ‚¨å¯èƒ½ä¸ç¡®å®šå®ƒæ˜¯å¦æœ‰åŠ©äºå‡å°‘æ‚¨çš„ç¼–è¯‘æ—¶é—´ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ å¯ä»¥è®¡ç®—ä½ å£°æ˜çš„å˜é‡çš„æ•°é‡ï¼Œè€Œä¸ç”¨ç±»å‹æ³¨é‡Šæˆ–è€…è¿‡åº¦ä½¿ç”¨ä¸‰å…ƒ/é›¶åˆå¹¶æ“ä½œç¬¦ï¼Œä½ å°†å¾—åˆ°å¤§é‡çš„å˜é‡ï¼Œå¹¶ä¸”æ¯ä¸ªå˜é‡éƒ½æœ‰ä¸åŒçš„å»¶è¿Ÿã€‚å½“ä½ æŠŠæ‰€æœ‰çš„å»¶è¿ŸåŠ èµ·æ¥ï¼Œä½ å°±ä¼šæ˜ç™½ä½ çš„ç¼–è¯‘æ—¶é—´æ˜¯ xx åˆ†é’Ÿã€‚

æˆ‘å¸Œæœ›è¿™äº›æ”¹è¿›èƒ½ç»™ä½ å¸¦æ¥æ›´çŸ­çš„ç¼–è¯‘æ—¶é—´ï¼Œè®©ä½ æŠŠæ›´å¤šçš„æ—¶é—´æ”¾åœ¨æœ‰æˆæ•ˆçš„ä»»åŠ¡ä¸Šã€‚å¦‚æœä½ å–œæ¬¢æˆ‘çš„å¸–å­ï¼Œè¯·ä¸è¦å¿˜è®°ğŸ’šæˆ–è€…æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚è¿˜æœ‰ï¼Œä½ å¯ä»¥è®¢é˜…æˆ‘ä¸‹é¢çš„æ—¶äº‹é€šè®¯ï¼Œé˜…è¯»æ›´å¤šæœ‰è¶£çš„ Swift æ•™ç¨‹ã€‚

## è¿™å°±æ˜¯æœ¬æ•™ç¨‹çš„å†…å®¹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ğŸ‘æˆ–è€…åˆ†äº«è¿™ä¸ªæ•…äº‹ï¼Œè®©å…¶ä»–åƒä½ ä¸€æ ·çš„äººä¹Ÿèƒ½æ‰¾åˆ°å®ƒã€‚æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼ğŸš€

[![](img/79c8aca42472a7e427ec524f7bc604fb.png)](http://bit.ly/2KkkwGL)

## æŸ¥çœ‹æˆ‘çš„æœ€æ–°é¡¹ç›®:

[](https://apps.apple.com/app/football-score-prediction-bets/id1517623538) [## è¶³çƒæ¯”åˆ†é¢„æµ‹èµŒæ³¨

### æˆ‘ä»¬æä¾›ä¸“ä¸šçš„è¶³çƒæ¯”åˆ†é¢„æµ‹æŠ•æ³¨æç¤ºï¼Œèƒœç‡é«˜ã€‚æ¯ä¸ªæ¯”èµ›æ¨¡æ‹ŸåŒ…å«ä¸€ä¸ªâ€¦

apps.apple.com](https://apps.apple.com/app/football-score-prediction-bets/id1517623538) [](https://play.google.com/store/apps/details?id=betting.tips.goals) [## è¶³çƒåšå½©æŠ€å·§å’Œæ¯”åˆ†â€”â€”èµŒè¿›çƒ Google Play ä¸Šçš„åº”ç”¨ç¨‹åº

### æˆ‘ä»¬æä¾›é«˜èƒœç‡çš„ä¸“ä¸šè¶³çƒæŠ€å·§ã€‚æ¯ä¸ªæ¯”èµ›æ¨¡æ‹ŸåŒ…å«ä¸€ä¸ªé¢„æµ‹ï¼Œä»£è¡¨â€¦

play.google.com](https://play.google.com/store/apps/details?id=betting.tips.goals) [](https://apps.apple.com/app/zoom-profile-picture-stories/id1514925024) [## ç¼©æ”¾ä¸ªäººèµ„æ–™å›¾ç‰‡å’Œæ•…äº‹

### ZoomPic for Instagram æ˜¯åŒ¿åæŸ¥çœ‹å¤§å‹é«˜æ¸…ä¸ªäººç…§ç‰‡å’Œæ•…äº‹çš„æœ€ç®€å•ã€æœ€æ–¹ä¾¿çš„æ–¹å¼â€¦

apps.apple.com](https://apps.apple.com/app/zoom-profile-picture-stories/id1514925024) [](https://apps.apple.com/app/long-video-story-for-instagram/id1511499427) [## Instagram çš„é•¿è§†é¢‘æ•…äº‹

### Instagram çš„ Long Story æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„å·¥å…·ï¼Œå…è®¸æ‚¨å½•åˆ¶æˆ–é€‰æ‹©ä»»æ„é•¿åº¦çš„è§†é¢‘å¹¶è¿›è¡Œè½¬æ¢â€¦

apps.apple.com](https://apps.apple.com/app/long-video-story-for-instagram/id1511499427) 

## é˜…è¯»æ›´å¤šæˆ‘åœ¨åª’ä½“ä¸Šçš„ä½œå“:

[](https://hackernoon.com/introducing-clean-swift-architecture-vip-770a639ad7bf) [## å¼•å…¥å¹²å‡€çš„ Swift æ¶æ„(VIP)

### å¿˜äº† MVC å§ï¼Œç°åœ¨ï¼

hackernoon.com](https://hackernoon.com/introducing-clean-swift-architecture-vip-770a639ad7bf) [](https://medium.freecodecamp.org/how-you-can-use-the-google-maps-sdk-with-ios-using-swift-4-a9bba26d9c4d) [## ä½¿ç”¨ Swift 4 åœ¨ iOS ä¸Šä½¿ç”¨ Google Maps SDK çš„ç»ˆææŒ‡å—

### è®¸å¤š iOS åº”ç”¨ç¨‹åºä½¿ç”¨è°·æ­Œåœ°å›¾ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸æ™®éçš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥æˆ‘å†³å®šå‡†å¤‡ä¸€ä¸ªç»ˆææŒ‡å—â€¦

medium.freecodecamp.org](https://medium.freecodecamp.org/how-you-can-use-the-google-maps-sdk-with-ios-using-swift-4-a9bba26d9c4d) [](/theappspace/swift-custom-uiview-with-xib-file-211bb8bbd6eb) [## SWIFT â€”å¸¦æœ‰ XIB æ–‡ä»¶çš„è‡ªå®šä¹‰ UIView

### ç”¨ XIB æ–‡ä»¶å®šåˆ¶ UIView æ˜¯ iOS å¼€å‘ä¸­éå¸¸å¸¸è§çš„åšæ³•ã€‚è‡ªå®šä¹‰ UIView ç±»ä¸åŒ…å« XIB æ–‡ä»¶â€¦

medium.com](/theappspace/swift-custom-uiview-with-xib-file-211bb8bbd6eb) [](https://hackernoon.com/how-to-add-spotlight-support-to-your-ios-app-4a89054aff89) [## å¦‚ä½•å°† Spotlight æ”¯æŒæ·»åŠ åˆ°æ‚¨çš„ iOS åº”ç”¨ç¨‹åº

### Swift æ•™ç¨‹å°†ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºåœ¨ Spotlight search ä¸­å¯ç”¨

hackernoon.com](https://hackernoon.com/how-to-add-spotlight-support-to-your-ios-app-4a89054aff89) [](https://hackernoon.com/core-data-relationships-d813ed66ba8c) [## æ ¸å¿ƒæ•°æ®å…³ç³»

### ç†è§£ä¸€å¯¹ä¸€å’Œä¸€å¯¹å¤šå…³ç³»

hackernoon.com](https://hackernoon.com/core-data-relationships-d813ed66ba8c) [](https://hackernoon.com/understanding-auto-layout-in-xcode-9-2719710f0706) [## äº†è§£ Xcode 9 ä¸­çš„è‡ªåŠ¨å¸ƒå±€

### æ‰€æœ‰ä½ éœ€è¦çŸ¥é“çš„å…³äºè‡ªåŠ¨å¸ƒå±€

hackernoon.com](https://hackernoon.com/understanding-auto-layout-in-xcode-9-2719710f0706) 

## è®¢é˜…æˆ‘çš„æ—¶äº‹é€šè®¯: