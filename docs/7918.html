<html>
<head>
<title>Implementing basic Component tests using Jest and Enzyme</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨Jestå’ŒEnzymeå®ç°åŸºæœ¬ç»„ä»¶æµ‹è¯•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/implementing-basic-component-tests-using-jest-and-enzyme-d1d8788d627a?source=collection_archive---------1-----------------------#2017-11-13">https://medium.com/hackernoon/implementing-basic-component-tests-using-jest-and-enzyme-d1d8788d627a?source=collection_archive---------1-----------------------#2017-11-13</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="4abe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">è¿™å¯èƒ½æ˜¯æˆ‘å°†è¦åšçš„å…³äºæµ‹è¯•Reactç»„ä»¶å’ŒTDDçš„ä¸¤ç¯‡æ–‡ç« ä¸­çš„ç¬¬ä¸€ç¯‡ã€‚è¿™ä¸€éƒ¨åˆ†å¤„ç†Jestå’ŒEnzymeåº“çš„è®¾ç½®ï¼Œç„¶åä¸ºç™»å½•ç»„ä»¶ç¼–å†™å‡ ä¸ªåŸºæœ¬æµ‹è¯•ã€‚åœ¨æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å¸Œæœ›èƒ½æ›´è¯¦ç»†åœ°ä»‹ç»è¿™äº›åº“ï¼Œä»¥åŠæˆ‘ä»¬å¦‚ä½•æµ‹è¯•åŒ…å«Reduxçš„æ›´å¤æ‚çš„ç»„ä»¶ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ï¼</p><h1 id="4c59" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">ä»€ä¹ˆæ˜¯ç©ç¬‘ï¼Ÿ</h1><p id="1f94" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">Jestæ˜¯ä¸€ä¸ªæµ‹è¯•åº“ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ç®€å•çš„Javascriptä»£ç æˆ–Reactç»„ä»¶ã€‚è¿™æ˜¯é€šè¿‡Jestæä¾›ç»™ç”¨æˆ·çš„ç®€å•APIæ¥å®Œæˆçš„ã€‚ä½¿ç”¨è¿™ä¸ªAPIï¼Œå¯ä»¥æ–­è¨€å‡½æ•°åº”è¯¥å¦‚ä½•è¿è¡Œï¼Œç„¶åæ ¹æ®æµ‹è¯•ç»“æœæµ‹è¯•æˆ‘ä»¬çš„é¢„æœŸç»“æœã€‚å®ƒéå¸¸å®¹æ˜“è®¾ç½®ï¼Œå¼€ç®±å³å¯ä½¿ç”¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒæ˜¯è„¸ä¹¦é¦–é€‰çš„æµ‹è¯•åº“ã€‚Jestçš„ä¸€ä¸ªå¾ˆé…·çš„åŠŸèƒ½æ˜¯å¿«ç…§ã€‚è¿™å°†å¯¹ç»„ä»¶åŠå…¶æ¸²æŸ“æ–¹å¼è¿›è¡Œå¿«ç…§ï¼Œç„¶ååœ¨è¿›è¡Œå…¶ä»–æµ‹è¯•æ—¶è¿›è¡Œæ¯”è¾ƒï¼Œè®©æ‚¨çŸ¥é“æ˜¯å¦å‘ç”Ÿäº†æ„æƒ³ä¸åˆ°çš„äº‹æƒ…ã€‚æˆ‘ä¸ä¼šå¯¹å¿«ç…§è¿›è¡Œè¿‡å¤šçš„æè¿°ï¼Œå› ä¸ºæˆ‘ä¼šåœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»ã€‚ä½¿ç”¨Jestå’ŒEnzymeæ—¶ï¼Œå¯ä»¥é€šè¿‡æ¨¡æ‹ŸDOMæµ‹è¯•ç»„ä»¶ã€‚</p><h1 id="9df3" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">é…¶æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p id="eda1" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">é…¶æ˜¯å¦ä¸€ä¸ªå¸¸ç”¨äºJestæˆ–Mochaå’ŒChaiçš„åº“ã€‚æœ‰äº†Enzymeï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ¨¡æ‹ŸDOMæ¥æµ‹è¯•ç»„ä»¶æ˜¯å¦è¢«æ­£ç¡®å‘ˆç°ï¼Œä»¥åŠå®ƒä»¬åœ¨è¢«æ“ä½œæ—¶æ˜¯å¦è¡¨ç°æ­£ç¡®ã€‚Enzymeçš„æ¨¡æ‹Ÿæ¸²æŸ“æ—¢å¯ä»¥é€šè¿‡æµ…å±‚æ¸²æŸ“å®Œæˆï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…¨DOMæ¸²æŸ“å®Œæˆã€‚</p><p id="204a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">æµ…æ¸²æŸ“</strong>åœ¨å¯¹ä¸€ä¸ªç»„ä»¶è¿›è¡Œå•å…ƒæµ‹è¯•æ—¶ä½¿ç”¨ã€‚è¿™å…è®¸æµ‹è¯•åªå…³æ³¨é‚£ä¸ªç»„ä»¶ä»¥åŠå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè€Œä¸å…³å¿ƒå®ƒå¯èƒ½ä¸ä¹‹äº¤äº’çš„å…¶ä»–ç»„ä»¶ã€‚</p><p id="ab46" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">å…¨DOMæ¸²æŸ“</strong>åŒ…æ‹¬æ¸²æŸ“ä½ çš„ç»„ä»¶å’Œæ‰€æœ‰å­ç»„ä»¶ã€‚å…è®¸è¿›è¡Œæ›´æ·±å…¥çš„æµ‹è¯•ï¼Œä»¥äº†è§£DOMä¸Šçš„ç»„ä»¶å¦‚ä½•ç›¸äº’äº¤äº’ã€‚</p><h1 id="111c" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">è®¾ç½®ç¬‘è¯å’Œé…¶</h1><p id="7529" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬å°†Jestå’ŒEnzymeæ·»åŠ åˆ°Reactåº”ç”¨ç¨‹åºä¸­ã€‚è¦å®‰è£…Jestï¼Œåªéœ€è¿è¡Œä»¥ä¸‹ä»£ç ï¼Œ</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="ead1" class="lb jq hu kx b fv lc ld l le lf">npm install --save-dev jest</span></pre><p id="b59f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">å¦‚æœæ‚¨ä½¿ç”¨Create React Appæ¥æ„å»ºåº”ç”¨ç¨‹åºçš„åŸºç¡€ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½å·²ç»å®‰è£…äº†ã€‚Enzymeéœ€è¦å®‰è£…å‡ ä¸ªåŒ…ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†å®‰è£…é…¶å’Œé€‚å½“çš„é€‚é…å™¨ã€‚æˆ‘ä»¬å¿…é¡»æŒ‡å®šä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„Reactæ¥è·å¾—æ­£ç¡®çš„æµ‹è¯•é€‚é…å™¨ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯React 15.6.1ï¼Œæ‰€ä»¥æˆ‘å°†è¦å®‰è£…çš„åŒ…æ˜¯</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="bc69" class="lb jq hu kx b fv lc ld l le lf">npm install --save-dev enzyme enzyme-adapter-react-15</span></pre><p id="98b1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">é€‚é…å™¨åŒ…çš„å®Œæ•´åˆ—è¡¨å¯ä»¥åœ¨<a class="ae lg" href="https://github.com/airbnb/enzyme#upgrading-from-enzyme-2x-or-react--16" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†å®‰è£…Jesté…¶åŒ…ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åƒè¿™æ ·ä¸€èµ·ä½¿ç”¨å®ƒä»¬ï¼Œ</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="d360" class="lb jq hu kx b fv lc ld l le lf">npm install --save-dev jest-enzyme</span></pre><p id="2711" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">ç°åœ¨æˆ‘ä»¬å·²ç»å®‰è£…äº†ä¸¤ä¸ªåº“ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®¾ç½®ä¸€äº›ä¸œè¥¿ã€‚é¦–å…ˆè®©æˆ‘ä»¬å»ºç«‹æˆ‘ä»¬çš„æ–‡ä»¶ç»“æ„ã€‚é€šå¸¸æœ€å¥½è®©ç»„ä»¶æµ‹è¯•é è¿‘ç»„ä»¶ä»£ç ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬åœ¨ç»„ä»¶æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º__tests__çš„å­æ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬å°†åœ¨è¿™é‡Œä¸ºæ¯ä¸ªç»„ä»¶åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æ¥ç¼–å†™æˆ‘ä»¬çš„æµ‹è¯•ã€‚</p><p id="373e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">æˆ‘ä»¬éœ€è¦è®¾ç½®çš„æœ€åä¸€ä»¶äº‹æ˜¯æˆ‘ä»¬çš„é€‚é…å™¨ã€‚ä¸ºäº†å°†Enzymeä¸Reactä¸€èµ·ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºå¦ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶å‘Šè¯‰Enzymeæ ¹æ®æˆ‘ä»¬çš„Reactç‰ˆæœ¬ä½¿ç”¨ä»€ä¹ˆé€‚é…å™¨ã€‚è¿™æ˜¯æˆ‘ä»¬å°†ä½¿ç”¨ä¹‹å‰å®‰è£…çš„è½¯ä»¶åŒ…çš„åœ°æ–¹ï¼Œå®ƒå¯¹åº”äºæˆ‘ä»¬çš„Reactç‰ˆæœ¬ã€‚å› ä¸ºæˆ‘ä½¿ç”¨äº†Create React Appï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨srcæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºsetupTests.jsçš„æ–‡ä»¶ã€‚ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="efee" class="lb jq hu kx b fv lc ld l le lf">// in app/src/setupTests.js file</span><span id="5417" class="lb jq hu kx b fv lh ld l le lf">const Enzyme = require('enzyme');</span><span id="2e7b" class="lb jq hu kx b fv lh ld l le lf">// this is where we reference the adapter package we installed  <br/>// earlier<br/>const EnzymeAdapter = require('enzyme-adapter-react-15');</span><span id="c2dd" class="lb jq hu kx b fv lh ld l le lf">// This sets up the adapter to be used by Enzyme<br/>Enzyme.configure({ adapter: new EnzymeAdapter() });</span></pre><h1 id="f40b" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">å¼€å§‹æµ‹è¯•çš„æ—¶é—´</h1><p id="1095" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">ç°åœ¨æˆ‘ä»¬å·²ç»è®¾ç½®å¥½äº†ä¸€åˆ‡ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹ç¼–å†™æµ‹è¯•äº†ã€‚æˆ‘ä»¬å°†è¦æµ‹è¯•çš„ç»„ä»¶æ˜¯ä¸€ä¸ªç®€å•çš„ç™»å½•ç»„ä»¶ã€‚æˆ‘ä»¬å°†åœ¨ä¹‹å‰åˆ›å»ºçš„__tests__æ–‡ä»¶å¤¹ä¸­åˆ›å»ºæµ‹è¯•æ–‡ä»¶ã€‚å®ƒåº”è¯¥æ˜¯è¿™æ ·çš„ï¼Œ</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="e6fd" class="lb jq hu kx b fv lc ld l le lf">// path with the example test file name<br/>app/src/components/__tests__/Login-test.js</span></pre><p id="5987" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">å¦‚æœæ‚¨åƒæˆ‘ä¸€æ ·å¯¹è¿™ä¸¤ä¸ªåº“éƒ½ä¸ç†Ÿæ‚‰ï¼Œæˆ‘å»ºè®®æŸ¥çœ‹å®ƒä»¬çš„æ–‡æ¡£ï¼Œä»¥ä¾¿ç¡®å®šç”¨äºæ‚¨çš„æµ‹è¯•çš„æ­£ç¡®çš„APIæ–¹æ³•ã€‚æˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä»é…¶ä¸­å¯¼å…¥æˆ‘ä»¬çš„ç»„ä»¶ã€ååº”å’Œä¸€äº›åŠŸèƒ½ã€‚æˆ‘ä»¬å°†ä»Enzymeå¯¼å…¥shallowã€mountå’Œrenderï¼Œå› ä¸ºè¿™äº›ä¼šæ¨¡ä»¿æˆ‘ä»¬åœ¨DOMä¸­çš„ç»„ä»¶å‘ˆç°ã€‚æˆ‘ä»¬ç°åœ¨åªä½¿ç”¨shallowï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦æµ‹è¯•è¿™ä¸ªç»„ä»¶å’Œå…¶ä»–ç»„ä»¶ä¹‹é—´çš„äº¤äº’ã€‚</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="a4ab" class="lb jq hu kx b fv lc ld l le lf">// Login-test.js</span><span id="2e10" class="lb jq hu kx b fv lh ld l le lf">import React from 'react';<br/>import { shallow, mount, render } from 'enzyme';<br/>import Login from '../Login';</span></pre><p id="2a0e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">æ‰€ä»¥é€šå¸¸åœ¨æµ‹è¯•é©±åŠ¨å¼€å‘(TDD)ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆç¼–å†™æµ‹è¯•ï¼Œç„¶åç¼–å†™å‡½æ•°æˆ–ç»„ä»¶æ¥é€šè¿‡è¿™äº›æµ‹è¯•ã€‚ä½†æ˜¯ç”±äºè¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘å°†ç»™å‡ºç»„ä»¶çš„ç¤ºä¾‹ä»£ç ï¼Œçœ‹çœ‹æˆ‘ä»¬å¦‚ä½•é€‰æ‹©è¦æµ‹è¯•çš„ä»£ç éƒ¨åˆ†ã€‚</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="b5cf" class="lb jq hu kx b fv lc ld l le lf">// app/src/components/Login.js</span><span id="70cd" class="lb jq hu kx b fv lh ld l le lf">import React from 'react';</span><span id="b223" class="lb jq hu kx b fv lh ld l le lf">class Login extends React.Component {</span><span id="2854" class="lb jq hu kx b fv lh ld l le lf">constructor() {<br/>  super()<br/>  this.state = {<br/>   username: '',<br/>   password: ''<br/>  }<br/> }</span><span id="474a" class="lb jq hu kx b fv lh ld l le lf">handleInputChange = (event) =&gt; {<br/>  this.setState({<br/>   [event.target.name]: event.target.value<br/>  })<br/> }</span><span id="4b15" class="lb jq hu kx b fv lh ld l le lf">render() {<br/>  return (<br/>   &lt;form className='login'&gt;<br/>     &lt;label&gt;Username&lt;/label&gt;<br/>     &lt;input id='email' onChange={this.handleInputChange} name='email' type='text' /&gt;<br/>     &lt;label&gt;Password&lt;/label&gt;<br/>     &lt;input id='password' onChange={this.handleInputChange} name='password' type='password' /&gt;<br/>     &lt;button&gt;Submit&lt;/button&gt;<br/>   &lt;/form&gt;<br/>  )<br/> }<br/>}</span><span id="3d36" class="lb jq hu kx b fv lh ld l le lf">export default Login</span></pre><p id="c25f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">å› æ­¤ï¼Œé¦–å…ˆæˆ‘ä»¬ç¼–å†™describeå‡½æ•°æ¥æè¿°æˆ‘ä»¬æ­£åœ¨æµ‹è¯•çš„å†…å®¹ï¼Œç„¶åæˆ‘ä»¬ç¼–å†™å…³äºç»„ä»¶æŸäº›éƒ¨åˆ†çš„è¡Œä¸ºçš„æ–­è¨€ã€‚è¿™ä¸ªæµ‹è¯•æ£€æŸ¥æˆ‘ä»¬çš„ç»„ä»¶æ˜¯å¦æ­£ç¡®åœ°å‘ˆç°åœ¨DOMä¸­ï¼Œ</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="f794" class="lb jq hu kx b fv lc ld l le lf">import React from 'react';<br/>import { shallow, mount, render } from 'enzyme';<br/>import Login from '../Login'</span><span id="bfab" class="lb jq hu kx b fv lh ld l le lf">// describe what we are testing<br/>describe('Login Component', () =&gt; {<br/> <br/> // make our assertion and what we expect to happen <br/> it('should render without throwing an error', () =&gt; {<br/>   expect(shallow(&lt;Login /&gt;).find('form.login').exists()).toBe(true)<br/> })<br/>})</span></pre><p id="9905" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">è¿™ä¸ªæµ‹è¯•åªæ˜¯ç®€å•åœ°å‘ˆç°æˆ‘ä»¬çš„ç™»å½•ç»„ä»¶ï¼Œç„¶åæˆ‘ä»¬æ£€æŸ¥è¡¨å•èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨äºå‘ˆç°çš„HTMLä¸­ã€‚æ—¢ç„¶æˆ‘ä»¬çŸ¥é“è¡¨å•å¯ä»¥æˆåŠŸå‘ˆç°ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ å‡ ä¸ªæ›´ç®€å•çš„æµ‹è¯•æ¥ç¡®ä¿è¡¨å•ä¸Šçš„è¾“å…¥ä¹Ÿå¯ä»¥æ­£ç¡®å‘ˆç°ã€‚</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="7c7d" class="lb jq hu kx b fv lc ld l le lf">// within the Login components describe function</span><span id="4b41" class="lb jq hu kx b fv lh ld l le lf">it('renders a email input', () =&gt; {<br/>  expect(shallow(&lt;Login /&gt;).find('#email').length).toEqual(1)<br/> })</span><span id="6ec3" class="lb jq hu kx b fv lh ld l le lf">it('renders a password input', () =&gt; {<br/>  expect(shallow(&lt;Login /&gt;).find('#password').length).toEqual(1)<br/> })</span></pre><p id="89b8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">åœ¨è¿™ä¸¤ä¸ªæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨äº†Enzymeæä¾›çš„findåŠŸèƒ½ï¼Œä½¿ç”¨å®ƒä»¬çš„idæ¥æŸ¥æ‰¾æˆ‘ä»¬çš„è¾“å…¥ã€‚ç”±äºfindè¿”å›æ‰€æœ‰ä¸æˆ‘ä»¬çš„æœç´¢è¯åŒ¹é…çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬åªæ˜¯æ£€æŸ¥ä»¥ç¡®ä¿æ¯ä¸ªè¾“å…¥éƒ½æœ‰ä¸€ä¸ªã€‚æˆ‘ä»¬å¯ä»¥ç®€å•åœ°æ£€æŸ¥é•¿åº¦ï¼Œçœ‹çœ‹èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ã€‚</p><p id="211f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">ç°åœ¨è®©æˆ‘ä»¬ç»§ç»­æ¨¡æ‹Ÿè¾“å…¥å˜åŒ–ã€‚è¿™æ˜¯ä¸€ä¸ªå—æ§çš„è¡¨å•ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æµ‹è¯•è¾“å…¥ä½•æ—¶è¢«æ›´æ”¹ï¼Œä»¥æŸ¥çœ‹å®ƒæ˜¯å¦æˆåŠŸåœ°æ›´æ”¹äº†æˆ‘ä»¬çš„ç™»å½•ç»„ä»¶çš„çŠ¶æ€ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Enzymeæä¾›çš„simulateå‡½æ•°ï¼Œå¹¶å°†æ¨¡æ‹Ÿäº‹ä»¶å¯¹è±¡ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ã€‚æµ‹è¯•çœ‹èµ·æ¥ä¼šåƒè¿™æ ·ï¼Œ</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="b687" class="lb jq hu kx b fv lc ld l le lf">// within the Login components describe function</span><span id="d45a" class="lb jq hu kx b fv lh ld l le lf">describe('Email input', () =&gt; {<br/>  <br/>  it('should respond to change event and change the state of the Login Component', () =&gt; {<br/>   <br/>   const wrapper = shallow(&lt;Login /&gt;);<br/>   wrapper.find('#email').simulate('change', {target: {name: 'email', value: '<a class="ae lg" href="mailto:blah@gmail.com" rel="noopener ugc nofollow" target="_blank">blah@gmail.com</a>'}});<br/>   <br/>  expect(wrapper.state('email')).toEqual('<a class="ae lg" href="mailto:blah@gmail.com" rel="noopener ugc nofollow" target="_blank">blah@gmail.com</a>');<br/>  })<br/> })<br/> <br/> describe('Password input', () =&gt; {<br/>  <br/>  it('should respond to change event and change the state of the Login Component', () =&gt; {<br/>   <br/>   const wrapper = shallow(&lt;Login /&gt;);<br/>   wrapper.find('#password').simulate('change', {target: {name: 'password', value: 'cats'}});<br/>   <br/>   expect(wrapper.state('password')).toEqual('cats');<br/>  })<br/> })</span></pre><p id="3c59" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">å› æ­¤ï¼Œå½“æˆ‘ä»¬åœ¨ç™»å½•ç»„ä»¶ä¸Šè°ƒç”¨shallowæ—¶ï¼Œå®ƒä¸æ˜¯è¿”å›å‘ˆç°çš„ç»„ä»¶ï¼Œè€Œæ˜¯è¿”å›ç»„ä»¶çš„åŒ…è£…ç‰ˆæœ¬ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘å°†wrapperçš„å€¼è®¾ç½®ä¸ºæµ…å±‚å‘ˆç°çš„ç™»å½•ç»„ä»¶ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨æ¨¡æ‹Ÿçš„äº‹ä»¶æ•°æ®æ¨¡æ‹Ÿä¸€ä¸ªè°ƒç”¨æˆ‘ä»¬çš„è¾“å…¥çš„å˜æ›´äº‹ä»¶ã€‚æ¨¡æ‹ŸåŠŸèƒ½çš„å·¥ä½œæ–¹å¼æ˜¯å®ƒå®é™…ä¸Šå¹¶ä¸æ¨¡æ‹Ÿäº‹ä»¶ã€‚ç›¸åï¼Œå®ƒåœ¨æ‰€é€‰èŠ‚ç‚¹ä¸Šå¯»æ‰¾ä¸è¯¥äº‹ä»¶å¯¹åº”çš„å±æ€§ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯onChangeï¼Œå¹¶è°ƒç”¨å®ƒä¼ é€’æˆ‘ä»¬çš„æ¨¡æ‹Ÿäº‹ä»¶æ•°æ®ã€‚</p><p id="8f7d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">åœ¨æˆ‘ä»¬æ¨¡æ‹Ÿäº‹ä»¶ä¹‹åï¼Œæˆ‘ä»¬æ£€æŸ¥æ•´ä¸ªç™»å½•ç»„ä»¶çš„çŠ¶æ€ã€‚æˆ‘ä»¬ç¡®ä¿åœ¨è¾“å…¥æ”¹å˜åï¼ŒonChangeå‡½æ•°è¢«æ­£ç¡®è°ƒç”¨å¹¶ä¸”è¡Œä¸ºæ­£å¸¸ã€‚</p><p id="f2cc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">æ‰€æœ‰è¿™äº›æµ‹è¯•éƒ½æ˜¯è¿™æ ·ç¼–å†™çš„ï¼Œç»ˆç«¯ä¸­çš„è¾“å‡ºåº”è¯¥æ˜¯è¿™æ ·çš„ï¼Œ</p><figure class="ks kt ku kv fq lj fe ff paragraph-image"><div class="fe ff li"><img src="../Images/e2514f1a0b523f2a8c15c05cd2c61446.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*lxUVDJPtrH-KD51KjG0HKw.png"/></div></figure><h1 id="0016" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">æ‘˜è¦</h1><p id="e59c" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">è¿™äº›ä¾‹å­åªæ˜¯ä¸€äº›ç®€å•çš„æµ‹è¯•ï¼Œä½ å¯ä»¥ç”¨Jestå’ŒEnzymeæ¥ç¼–å†™ã€‚è¿™äº›ä¾‹å­æœ€é‡è¦çš„éƒ¨åˆ†æ˜¯å®ƒä»¬çš„ç»“æ„ã€‚æ— è®ºä½•æ—¶ç¼–å†™æµ‹è¯•ï¼Œæ— è®ºä½¿ç”¨ä»€ä¹ˆæµ‹è¯•åº“ï¼Œæ°å½“åœ°æ„å»ºå®ƒä»¬æ€»æ˜¯å¾ˆé‡è¦çš„ã€‚è¿™æ„å‘³ç€åœ¨describe functionsä¸‹é€»è¾‘åœ°ç»„ç»‡ä½ çš„æµ‹è¯•ï¼Œä¸€æ¬¡åªå…³æ³¨ç»„ä»¶çš„ä¸€éƒ¨åˆ†ã€‚æ³¨æ„æˆ‘æ˜¯å¦‚ä½•ä¸ºæˆ‘çš„ä¸¤ä¸ªè¾“å…¥åŒ…å«ä¸€ä¸ªdescribeå‡½æ•°çš„ï¼Œä»¥ä¾¿æ¸…æ¥šåœ°è¡¨æ˜é‚£äº›æµ‹è¯•é›†ä¸­åœ¨ç»„ä»¶çš„é‚£äº›ç‰¹å®šéƒ¨åˆ†ã€‚è¿™ä½¿å¾—å…¶ä»–ç¨‹åºå‘˜æ›´å®¹æ˜“ç†è§£å’Œé˜…è¯»æµ‹è¯•ã€‚å¸Œæœ›ç°åœ¨æ‚¨å·²ç»äº†è§£äº†å¦‚ä½•å®‰è£…è¿™äº›åº“ï¼Œä»¥åŠå¦‚ä½•å¼€å§‹ä¸ºæ‚¨çš„ç»„ä»¶ç¼–å†™åŸºæœ¬æµ‹è¯•ï¼æŸ¥çœ‹ä¸‹é¢çš„å‚è€ƒèµ„æ–™ï¼Œäº†è§£Jestå’ŒEnzymeå…è®¸æ‚¨ä½¿ç”¨å“ªäº›åŠŸèƒ½çš„æ›´å¤šæ–‡æ¡£ï¼</p><p id="b7a4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="lm">æŸ¥çœ‹æˆ‘çš„ä¸‹ä¸€ç¯‡</em> <a class="ae lg" rel="noopener" href="/@lukepierotti/snapshot-testing-react-components-with-jest-744a1e980366"> <em class="lm">å¸–å­</em> </a> <em class="lm">äº†è§£Jestçš„å¿«ç…§æµ‹è¯•ã€‚æœ‰å…³å¦‚ä½•æµ‹è¯•Reduxè¿æ¥ç»„ä»¶çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹æˆ‘çš„æ–°</em> <a class="ae lg" rel="noopener" href="/@lukepierotti/unit-testing-redux-connected-components-692fa3c4441c"> <em class="lm">å¸–å­</em> </a> <em class="lm">ã€‚</em></p><h1 id="2c6e" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">æ¥æº:</h1><div class="ln lo fm fo lp lq"><a href="https://github.com/airbnb/enzyme#enzyme" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab ej"><div class="ls ab lt cl cj lu"><h2 class="bd hv fv z el lv eo ep lw er et ht dt translated">Airbnb/é…µç´ </h2><div class="lx l"><h3 class="bd b fv z el lv eo ep lw er et ek translated">Reactçš„é…¶- JavaScriptæµ‹è¯•å®ç”¨ç¨‹åº</h3></div><div class="ly l"><p class="bd b gc z el lv eo ep lw er et ek translated">github.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me lk lq"/></div></div></a></div><div class="ln lo fm fo lp lq"><a href="https://github.com/airbnb/enzyme/blob/master/docs/api/shallow.md" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab ej"><div class="ls ab lt cl cj lu"><h2 class="bd hv fv z el lv eo ep lw er et ht dt translated">shallownrenderingapi</h2><div class="lx l"><h3 class="bd b fv z el lv eo ep lw er et ek translated">Reactçš„é…¶- JavaScriptæµ‹è¯•å®ç”¨ç¨‹åº</h3></div><div class="ly l"><p class="bd b gc z el lv eo ep lw er et ek translated">github.com</p></div></div><div class="lz l"><div class="mf l mb mc md lz me lk lq"/></div></div></a></div><div class="ln lo fm fo lp lq"><a href="http://facebook.github.io/jest/" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab ej"><div class="ls ab lt cl cj lu"><h2 class="bd hv fv z el lv eo ep lw er et ht dt translated">ç¬‘è¯ğŸƒæ„‰å¿«çš„JavaScriptæµ‹è¯•</h2><div class="lx l"><h3 class="bd b fv z el lv eo ep lw er et ek translated">ğŸƒä»¤äººæ„‰å¿«çš„JavaScriptæµ‹è¯•</h3></div><div class="ly l"><p class="bd b gc z el lv eo ep lw er et ek translated">ğŸƒä»¤äººæ„‰å¿«çš„JavaScriptæµ‹è¯•facebook.github.io</p></div></div><div class="lz l"><div class="mg l mb mc md lz me lk lq"/></div></div></a></div></div></div>    
</body>
</html>