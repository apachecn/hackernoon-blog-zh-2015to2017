# å‡½æ•°çš„éƒ¨åˆ†åº”ç”¨

> åŸæ–‡ï¼š<https://medium.com/hackernoon/partial-application-of-functions-dbe7d9b80760>

![](img/a9004bb411f773193a072d07d5047d5c.png)

ä¸ºå‡½æ•°æä¾›æ¯”é¢„æœŸå°‘çš„å‚æ•°ç§°ä¸ºå‡½æ•°çš„éƒ¨åˆ†åº”ç”¨ã€‚

è™½ç„¶è¿™ä¸ªæ¦‚å¿µå¾ˆç®€å•ï¼Œä½†å®ƒå¯ä»¥ç”¨æ¥åœ¨æˆ‘ä»¬æ—¥å¸¸çš„ JavaScript ä¸­å‡†å¤‡æ›´å¼ºå¤§çš„*å‡½æ•°æ„é€ *ã€‚

ç»å¸¸æœ‰äººé—®æˆ‘:â€œ*ä½ ä¸ºä»€ä¹ˆè¦éƒ¨åˆ†åœ°åº”ç”¨ä¸€ä¸ªå‡½æ•°å‘¢ï¼Ÿ*

![](img/35bef96e90d8dceef24a74e2901dc10d.png)

*â€œå› ä¸ºåœ¨é‚£ä¹‹åæˆ‘å¾—åˆ°çš„é€»è¾‘æ˜¯ä¸€ç§ç¾ä¸½å’ŒåŠŸèƒ½çº¯æ´çš„ä¸œè¥¿ã€‚â€*

> æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªå‚æ•°æ¯”é¢„æœŸå°‘çš„å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ¥å—å‰©ä½™å‚æ•°çš„å‡½æ•°ã€‚è¿™å«åšå‡½æ•°çš„å±€éƒ¨åº”ç”¨ã€‚

# ä½¿ç”¨ function.bind()

è¿™ç§å±€éƒ¨åº”ç”¨çš„é£æ ¼åœ¨åŠŸèƒ½ä¸Šå¹¶ä¸é…·ï¼Œä½†æˆ‘è¿˜æ˜¯æƒ³è®©ä½ çŸ¥é“è¿™ä¸€ç‚¹ã€‚

An example of Partial Application of functions using bind()

```
We created a function â€˜*add*â€™ which accepts two arguments.We preloaded it with a single argument and created a function â€˜*increment*â€™ which takes only one argument.We created another function by the same process of Partial Application, this time by applying a different argument.At last, we called our preloaded functions with the final argument.
```

å°†ä¸€ä¸ªå‡½æ•°ç»‘å®šåˆ°æ›´å°‘çš„å‚æ•°æœ‰åŠ©äºæˆ‘ä»¬ç”Ÿæˆå…¶ä»–å‡½æ•°ï¼Œä½¿æˆ‘ä»¬çš„ä»£ç æ›´å°‘é‡å¤ï¼Œæ›´æ˜ç¡®ã€‚ä½†è¿™ä¹Ÿæœ‰ä¸€äº›é—®é¢˜ï¼Œé™¤äº†åŠŸèƒ½ä¸å¤Ÿé…·ä¹‹å¤–ã€‚

*   **å¤ªä¸å¯é¢„æµ‹:** Function.bind æ€»æ˜¯ä¼šè¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œå³ä½¿æˆ‘ä»¬å·²ç»å‘åŸºæœ¬å‡½æ•°æä¾›äº†æ‰€æœ‰çš„å‚æ•°ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™åœä¸‹æ¥ã€‚

![](img/68148a015ffc0ee7ddab0109f666483d.png)

*   æ³¨æ„åˆ°ä»£ç ä¸­çš„' *null* 'ï¼Œè¿™æ˜¯æˆ‘ä»¬å¿…é¡»ä½œä¸º bind çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’çš„éƒ¨åˆ†åº”ç”¨å‡½æ•°çš„ä¸Šä¸‹æ–‡ã€‚æ‰€ä»¥ï¼Œæ¯å½“æˆ‘ä»¬éƒ¨åˆ†åœ°åº”ç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬è¢«è¿«é™„åŠ ä¸Šä¸‹æ–‡ã€‚*ä¸é…·ï¼*

![](img/0d6017d6bf80fa50f8e4e459ac4c4477.png)

# Currying

è¿™æ˜¯ä¸€ç§å¾ˆæ£’çš„å‡½æ•°å¼ç¼–ç¨‹æŠ€æœ¯ï¼Œå¯ä»¥ç”¨ JavaScript å®ç°ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿåˆ›å»ºæ›´é«˜é˜¶çš„å‡½æ•°ã€‚Currying ä¸æ˜¯åŠŸèƒ½çš„éƒ¨åˆ†åº”ç”¨ï¼Œä½†å®ƒæœ‰åŠ©äºä»¥æ›´å…·åŠŸèƒ½æ€§çš„æ–¹å¼å®ç°ç›¸åŒçš„ç›®æ ‡ã€‚

Curried version of our *add(*)

## è£…è®¢è¿‡åº¦

![](img/5cc8eafa9ff1e4f64f9579f876c4d4d1.png)

*   **å¯é¢„æµ‹:**ä¸€ä¸ªå®šåˆ¶å‡½æ•°æ€»æ˜¯è¿”å›å¦ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå‚æ•°çš„*å‡½æ•°*ã€‚
*   **æ£’æäº†:**ç”±äºé—­åŒ…çš„ç¼˜æ•…ï¼Œcurried å‡½æ•°æ€»æ˜¯ä¼šè®°ä½æ‰€åº”ç”¨çš„å‚æ•°ã€‚è€Œä¸”å®ƒä»¬å†™æˆÎ»è¡¨è¾¾å¼çš„æ—¶å€™çœ‹èµ·æ¥é‚£ä¹ˆå¥½ã€‚ğŸ˜
*   çº¯å‡½æ•°:ä¸€ä¸ªå®šåˆ¶çš„å‡½æ•°æ€»æ˜¯çº¯å‡½æ•°ï¼Œå› ä¸ºå®ƒä¸ºç›¸åŒçš„è¾“å…¥ç”Ÿæˆç›¸åŒçš„å‡½æ•°ã€‚

# åŠŸèƒ½çº¯åº¦

> ä¸€ä¸ªç®€åŒ–çš„å‡½æ•°æ€»æ˜¯çº¯çš„ï¼Œå› ä¸ºå®ƒä¸ºç›¸åŒçš„è¾“å…¥ç”Ÿæˆç›¸åŒçš„å‡½æ•°ã€‚

å¯¹äºä¸€ä¸ªå‡½æ•°å¼ç¨‹åºå‘˜æ¥è¯´ï¼ŒCurrying æ˜¯ä¸€ä¸ª*è™è ä¾ çš„å®ç”¨è…°å¸¦*ï¼Œæˆ‘ä»¬å°†ä¼šçœ‹åˆ°å®ƒæ˜¯å¦‚ä½•çš„é‡è¦ã€‚

![](img/881038c60df0cc61eafe36137ef32b05.png)

ç°åœ¨ï¼Œæˆ‘æƒ³è®©ä½ çœ‹çœ‹è¿™æ®µä»£ç ã€‚

```
â€˜Helloâ€™.replace(/Hello/g, â€˜Byeâ€™).concat(â€˜!â€™); 
```

è¿™ç§ç»“æ„è¢«ç§°ä¸º*æ–¹æ³•é“¾*ï¼Œè¢«è®¤ä¸ºæ˜¯ä¸€ç§å¾ˆå¥½çš„é¢å‘å¯¹è±¡è®¾è®¡ã€‚ç°åœ¨ï¼Œå¦‚æœä½ ä»”ç»†è§‚å¯Ÿï¼Œä½ å¯ä»¥çœ‹åˆ°å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå®ƒç¼ºå°‘ä»€ä¹ˆã€‚

ä½ å¥½ï¼Œæ•°æ®æ­£åœ¨é€šè¿‡å…¼å®¹æ–¹æ³•é“¾ä¼ è¾“ï¼Œæˆ‘ä»¬å¯ä»¥é“¾æ¥æ›´å¤šçš„æ–¹æ³•ï¼Œåªè¦è¿”å›çš„å¯¹è±¡ä¸è¢«é“¾æ¥çš„æ–¹æ³•å…¼å®¹ã€‚

æ‰€ä»¥ï¼Œå¯ä»¥è¿™æ ·ä¸‹å»ã€‚

```
â€˜Helloâ€™
  .replace(/Hello/g, â€˜Byeâ€™)
  .concat(â€˜!â€™)
  .repeat(2)  
  .split('!')
  .filter(x=>x!='!')
  .map(x=>'Hello').toString();
```

ç”±äºæä¾›äº†â€œHelloâ€å¯¹è±¡ï¼Œä¸Šé¢çš„æ„é€ æ˜¯å¯èƒ½çš„ï¼Œå¦‚æœæ²¡æœ‰æä¾›ç»™å®ƒä»¬çš„å¯¹è±¡ï¼Œæ‰€æœ‰é“¾æ¥çš„æ–¹æ³•éƒ½æ˜¯æ²¡æœ‰ä»·å€¼çš„ã€‚*çœŸå¯æ‚²*ã€‚æˆ‘å¯ä»¥è¯´ï¼Œè¿™ç§é¢å‘å¯¹è±¡è®¾è®¡çš„é—®é¢˜åœ¨äºï¼Œä¸€åˆ‡éƒ½å›´ç»•ç€å¯¹è±¡ï¼Œä¸€åˆ‡éƒ½ä¾èµ–äºæ•°æ®ã€‚

è®©æˆ‘ä»¬æŠŠå®ƒåŠŸèƒ½åŒ–ï¼Œ

```
concat('!',replace(/Hello/g,'Bye','Hello'));
```

å—¯ï¼Œè¿™çœ‹èµ·æ¥æœ‰ç‚¹ä¸å¤ªå¯è¯»ï¼Œ*åˆ«æ‹…å¿ƒè¿™æ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Œ*å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æœ‰å‡½æ•°ç»„åˆã€‚

![](img/4603ee983e7f5eded0290f917a9b03ff.png)

> **åŠŸèƒ½ç»„åˆ**æ˜¯å°†ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„åŠŸèƒ½ç»„åˆäº§ç”Ÿä¸€ä¸ªæ–°åŠŸèƒ½çš„è¿‡ç¨‹ã€‚

å¥½çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡½æ•°ç»„åˆæ¥ç»„åˆæˆ‘ä»¬çš„ *replace* å’Œ *concat* å‡½æ•°ï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ª composer å‡½æ•°ã€‚

è®©æˆ‘ä»¬æ¥ç¼–å†™æˆ‘ä»¬çš„å‡½æ•°ï¼Œ**ä½†æ˜¯ç­‰ç­‰ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé—®é¢˜**ï¼Œæˆ‘ä»¬çš„ç¼–å†™å™¨å¤„ç†çš„å‡½æ•°åªæœ‰**ä¸€ä¸ªå‚æ•°**ï¼Œä½†æ˜¯æˆ‘ä»¬çš„å‡½æ•°*æ›¿æ¢äº†*å¹¶ä¸” *concat* æ˜¾ç„¶éœ€è¦å¤šä¸ªå‚æ•°ã€‚

è¯¥æ˜¯æˆ‘ä»¬æœ€å–œæ¬¢çš„æŠ€å·§äº†ï¼Œcurrying

*ç°åœ¨ï¼Œæˆ‘éœ€è¦ä½ ä»”ç»†æ£€æŸ¥æˆ‘æ˜¯å¦‚ä½•æˆ˜ç•¥æ€§åœ°æ‰§è¡Œæˆ‘çš„åŠŸèƒ½çš„ï¼Œè¿™æ ·å‰©ä¸‹çš„å”¯ä¸€è¦åº”ç”¨çš„å‚æ•°å°±æ˜¯è¦æ“ä½œçš„â€œ* ***æ•°æ®*** *â€ã€‚*

æœ€åï¼Œ

```
compose(replace(/Hello/g,â€™Byeâ€™),concat(â€˜!â€™))(â€˜Helloâ€™)
```

è¿™å¯ä»¥åƒè¿™æ ·ç»§ç»­ä¸‹å»ï¼Œ

```
compose(
 replace(/Hello/g,â€™Byeâ€™),
 concat(â€˜!â€™),
 repeat(2),
 split('!'),
 filter(x=>x!='!'),
 map(x=>'Hello'),
 toString
)(â€˜Helloâ€™)orprocessHello(â€˜Helloâ€™)
```

è¿™åœ¨å¾ˆå¤šå±‚é¢ä¸Šéƒ½å¾ˆé…·ã€‚ä¾‹å¦‚ï¼Œç”±äºæˆ‘ä»¬çš„å‡½æ•°ä¸å†ä¾èµ–äºæ‰€æä¾›çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšã€‚

```
[â€˜Helloâ€™,â€™Hello worldâ€™,â€™Hiâ€™].map(processHello)
```

æˆ‘å¾ˆæŠ±æ­‰ï¼Œæˆ‘çš„æ„æ€æ˜¯

```
map(processHello)(â€˜Helloâ€™,â€™Hello worldâ€™,â€™Hiâ€™)
```

å˜¿ï¼Œæ­å–œä½ ï¼Œæˆ‘ä»¬åˆšåˆšå†™äº†ä¸€ä¸ªæ— ç‚¹é£æ ¼çš„å‡½æ•°ã€‚ä½ çœ‹åˆ°æ²¡æœ‰ï¼Ÿã€‚

å¥½å§ï¼Œæ— ç‚¹å¼å‡½æ•°æ˜¯é‚£äº›ä¸æåŠæ•°æ®çš„å‡½æ•°ã€‚è¿™ç§ç¼–å†™å‡½æ•°çš„é£æ ¼è¢«ç§°ä¸ºæ— è¦ç‚¹é£æ ¼æˆ–å¿ƒç…§ä¸å®£çš„ç¼–ç¨‹ã€‚æ ¹æ®[ç»´åŸºç™¾ç§‘](https://en.wikipedia.org/wiki/Tacit_programming)

> é»˜è®¤ç¼–ç¨‹ï¼Œä¹Ÿç§°ä¸ºæ— ç‚¹é£æ ¼ï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œå…¶ä¸­å‡½æ•°å®šä¹‰ä¸æ ‡è¯†å®ƒä»¬æ“ä½œçš„å‚æ•°(æˆ–â€œç‚¹â€)ã€‚ç›¸åï¼Œè¿™äº›å®šä¹‰åªæ˜¯ç»„æˆäº†å…¶ä»–å‡½æ•°ï¼Œå…¶ä¸­åŒ…æ‹¬æ“çºµå‚æ•°çš„ç»„åˆå­ã€‚

Currying å’Œç»„æˆå‘æŒ¥å¾—å¾ˆå¥½ï¼Œåˆ›é€ äº†è¿™ç§é£æ ¼ã€‚

Currying å‡†å¤‡å‡½æ•°åªæ¥å—æ•°æ®ä½œä¸ºå®ƒä»¬çš„å‚æ•°(å…¶ä½™çš„å‚æ•°é¢„å…ˆè¢«éƒ¨åˆ†åº”ç”¨),è€Œ Composition å¸®åŠ©ç»„åˆé‚£äº›éƒ¨åˆ†åº”ç”¨çš„å‡½æ•°ï¼Œä»¥ä¾¿æ•°æ®å¯ä»¥é€šè¿‡å®ƒä»¬ä¼ è¾“ã€‚

è¿™ç§é£æ ¼ï¼Œè¿™ç§æ— è¦ç‚¹çš„å†™ä½œé£æ ¼æ˜¯åŠŸèƒ½çº¯åº¦çš„è¯•é‡‘çŸ³ã€‚å› ä¸ºå®ƒç¡®è®¤äº†æˆ‘ä»¬çš„ä»£ç ç”±æ›´å°çš„*çº¯å‡½æ•°*ç»„æˆï¼Œå¦åˆ™æˆ‘ä»¬å°†æ— æ³•ç»„åˆå®ƒä»¬ã€‚

çœ‹ï¼Œæˆ‘å‘Šè¯‰è¿‡ä½ ç»“æœæ˜¯çº¯çš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ éƒ¨åˆ†åœ°åº”ç”¨å‡½æ•°ã€‚

![](img/8f435b2d7b6d23b734587c99050190ea.png)

æƒ³è±¡ä¸€ä¸‹è™è ä¾ æ²¡æœ‰ä»–çš„å®ç”¨è…°å¸¦ï¼Œå‡½æ•°å¼ Javascript æ²¡æœ‰ curry æ˜¯ä¸å¯èƒ½çš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆåƒ [*lodash/fp*](https://github.com/lodash/lodash/wiki/FP-Guide) æˆ– [*Ramda*](http://ramdajs.com/) è¿™æ ·çš„æµè¡Œå‡½æ•°å¼ç¼–ç¨‹åº“éƒ½å¸¦æœ‰è‡ªåŠ¨å®šåˆ¶çš„å‡½æ•°ã€‚

ç”¨...ä¹¦å†™ğŸ’–ã€‚

æ„Ÿè°¢é˜…è¯»ã€‚

[![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)

> [é»‘å®¢ä¸­åˆ](http://bit.ly/Hackernoon)æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯é˜¿å¦¹å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨[æ¥å—æŠ•ç¨¿](http://bit.ly/hackernoonsubmission)å¹¶ä¹æ„[è®¨è®ºå¹¿å‘Š&èµåŠ©](mailto:partners@amipublications.com)æœºä¼šã€‚
> 
> å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„[æœ€æ–°ç§‘æŠ€æ•…äº‹](http://bit.ly/hackernoonlatestt)å’Œ[è¶‹åŠ¿ç§‘æŠ€æ•…äº‹](https://hackernoon.com/trending)ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼

![](img/be0ca55ba73a573dce11effb2ee80d56.png)