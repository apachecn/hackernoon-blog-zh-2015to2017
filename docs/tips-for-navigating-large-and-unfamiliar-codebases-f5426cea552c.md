# 导航大型和不熟悉的代码库的技巧

> 原文：<https://medium.com/hackernoon/tips-for-navigating-large-and-unfamiliar-codebases-f5426cea552c>

*这是我的* [*初级开发者日记*](https://www.samjarman.co.nz/diaries) *博客系列中的一篇帖子。我每周都在写更多，你可以在我的网站* [*上注册收听更多并阅读以前的帖子。*](https://www.samjarman.co.nz/diaries/)

所以你刚开始在一家公司工作，也许这是你的第一份软件工作。您面临着一个新的、庞大的、不熟悉的代码库和一个需要修复的 bug。代码库的规模是你从未真正见过的。你的课程作业项目最多是几个文件，但这是另一回事。 **不惧**。有些事情你可以做。

![](img/1fb9e8a65e11e9bc0377ff7f8f237945.png)

Large codebases are like space. Often explored, but not fully understood by a single person.

## **遵循设计模式**

我给你的第一个建议是记住设计模式。这段代码是 MVC 模式的吗？MVVM 或者 MVP 怎么样？代码库使用服务对象吗？它是否遵循类似项目的惯例？如果您知道错误可能在一个模型类中，尝试先查看那里，看看数据访问层或 API 交互是否有问题。

现在，*希望*，你正在处理的代码库使用了一些设计模式，如果没有，那么这个技巧不适合你。请记住，您可以随时询问一段代码可能在哪里，或者询问一位资深人士是否可以解释关于代码布局的“疯狂方法”。这个简短的介绍将帮助你对代码库的样子形成一个很好的心理模型，并给你一个什么做什么和东西在哪里的感觉。

## 推理和演绎

下一个技巧是对设计模式进行推理和推断。试着从逻辑上思考 bug 可能在哪里。这是一个我脑海中对一个典型的现代网络应用程序进行故障诊断的例子。

> 所以前端得到一个错误，好的，让我们检查它正在发送的 JSON。酷，那也不对。所以让我们检查一下创建 JSON 响应的东西。啊，那个数据对象有错误的值，也许它是向下一层，也许模型的方式是错误的，所以我将检查构造，它看起来很好。好的，我查一下数据库，啊，那里的值是错的。嗯。那么是什么把值写入数据库呢？我将搜索构建或修改模型的地方…等等

这种跟踪和潜水让你推断出更多的代码。您可以排除整个代码库以缩小搜索范围。当然，你不应该一行一行地检查一个 5 万行的项目。这种想法不是从第一天开始的，它需要一段时间来积累。这需要时间，但是如果你意识到这种想法是如此重要，你可以努力，而且你应该努力！很快，你就会像夏洛克·福尔摩斯一样进行推理。

## 阅读测试

在极少数令人失望的情况下，可能会对代码库进行一些测试。这些通常是学习某个代码单元要做什么的很好的资源，通过阅读测试，你可以理解预期的行为，然后与你实际看到的进行比较。在一个纯 TDD 中，你可以为一个失败的案例编写一个测试，但是通常并不那么简单，一个 bug 在不同单元的交互之间是共享的。也许可以添加一个集成测试来开始故障排除。

## 使用断点和堆栈跟踪

当然，只有当你对代码库有所了解时，上面的提示才可能起作用，所以作为找出发生了什么的最后努力，是时候使用断点了。断点在某一行停止代码的执行，从那里，您可以看到代码如何到达那里的堆栈跟踪。您可以使用这些信息来找出执行的来源，并且可以检查局部变量，以查看它们在执行过程中是如何变化的。

有些语言(因为*原因*)不允许你用这种方式调试它们，所以如果可能的话，谷歌一下你自己的调试方式。

## 时间

我认为许多低年级学生，或任何新员工，对自己的速度和对代码库的熟悉程度有着苛刻的期望。这类事情通常不需要几个小时，而是几个月的工作。别担心，这是你被雇佣时就要考虑的因素，你的资历越浅，你需要的时间就越长。

所以，你有时间，利用它。慢下来，做事有逻辑有条理。实验、学习和探索。你越是专注于学习现有的东西，而不是仅仅试图修复它，从长远来看，你就能更好地工作。当代码就在你面前的时候，你没有理由说你不知道它在做什么。慢点。阅读。学习。

## 问！

最后，如果以上都做了(最好的程序员都是先主动尝试再问)，你还是卡住了……那就问！你的团队会帮忙的。

这些是我的建议！有哪些？希望这有助于完成不熟悉代码的艰巨任务。请尽量不要紧张。呼吸，记住这些就没事了！

*这是我的* [*初级开发者日记*](https://www.samjarman.co.nz/diaries) *博客系列中的一篇帖子。我每周都在写更多，你可以在我的网站* [*上注册多听多看以前的帖子。*](https://www.samjarman.co.nz/diaries/)