# 将博客添加到 PHP 应用程序的选项

> 原文：<https://medium.com/hackernoon/options-for-adding-a-blog-to-a-php-app-9004e8e77e3a>

想象一下，作为一名开发人员，您在职业生涯中可能会多次遇到这样的情况。一个客户、朋友、老板或者任何曾经来找你要求在他们现有的网站上添加博客的人。他们有几个要求:

*   博客必须允许类别，标签，图片上传和其他常见的博客功能
*   它必须足够简单，组织中的任何人都知道如何使用它和发布新内容
*   博客必须住在[www.oursite.com/blog](http://www.oursite.com/blog)
*   博客必须符合他们当前网站的外观和感觉
*   他们目前的网站是使用 [PHP](https://hackernoon.com/tagged/php) 建立的，他们也想使用同样的[技术](https://hackernoon.com/tagged/technology)

在这种情况下，有许多路线可供选择。然而，重要的是您要平衡易用性和启动并运行它所需的时间。毕竟，这个项目和大多数项目一样，都有截止日期和预算。

这个特殊的客户端碰巧也是相当非技术性的，所以系统必须是健壮的，并且需要很少的维护。一旦建立起来，他们想尽可能自给自足。让我们探索一些选择！

# wordpress 软件

这通常是你在向网站添加博客时想到的第一个系统。它有大量的特性和插件，被广泛使用和理解，并且是免费的。它甚至是 PHP，这将是客户的另一个优势！不过这里还是有不少顾虑。

第一个问题是部署 WordPress 安装需要持续的维护和安全补丁。考虑到客户端的非技术性质，这并不理想。然后，客户端不仅必须保持各种更新的最新状态，还必须处理更新安装时出现的任何问题。第一次出现问题时，他们会回来找你，让你解决问题。

选择这条路线还需要构建和设计一个与客户站点的当前外观和感觉相匹配的主题。这意味着每当客户更新他们现有的网站，你也需要花时间更新这个单独的网站。这对你和客户来说都是额外的烦恼。此外，你现在不仅需要担心代码的后端，你现在还需要处理前端的设计和开发。

总之，WordPress 当然提供了博客所需的所有功能。然而，它也有一些自己的包袱，要小心谨慎，使这一选择不那么切割和干燥。在这种情况下，额外的特性和能力不仅增加了整体的复杂性，它们也不是我们的客户所需要的，而且很可能只会导致更多的问题需要解决。

# 卷你自己的

这种方法的第一个明显的缺点是时间。虽然这肯定会给博客的运作带来很大的灵活性，但也需要设计和维护一个界面，让客户组织中的每个人都能轻松使用。现在你不仅要担心构建一个博客引擎，你还需要担心构建一个 CMS 管理它的接口。

此外，您还必须决定如何以及在哪里存储媒体。如果客户还没有 CDN 来处理这种情况，您现在需要设置并向他们解释如何管理它。如果他们真的有 CDN，你需要花时间访问并了解他们的 CDN 中哪里最适合存储你的内容。

当博客引擎已经有过多的开源选项时，为什么还要重新发明轮子呢？

# 使用开源项目

利用一个现有的项目通常是一个很好的主意，可以为这样的项目节省很多时间。然而，尽管这种解决方案表面上看起来很明显，但也存在其他问题。

通常，配置和安装这些系统对于开发人员来说也是相对简单的。然而，即使使用开源项目也需要维护。随着时间的推移，这些项目的依赖关系可能会变得过时或不安全。它们也可能与您或您的客户正在使用的软件的当前版本不兼容。

如果客户要求更新他们的博客，而您选择的库不支持，那么您可能还需要花时间弄清楚代码是如何添加到博客中的。

# ButterCMS

有了像 ButterCMS 这样的解决方案，前面描述的许多复杂问题都会迎刃而解。不需要配置服务器，不需要升级，并且接口已经存在。为你的博客设置任何基础设施的所有复杂性都被去除了。

相反，你可以更有效地利用你的时间。ButterCMS 可以通过一个简单的 Composer 包添加到您现有的项目中。然后，开始仔细阅读大量的文档，让你的博客与网站相结合。

```
composer require buttercms/buttercms-php:2.2.0 (or current version)
```

博客的设计可以利用现有的风格和资产，客户的网站目前正在使用。当他们的主站点更新时，他们的博客也用相同的代码库更新。

只需几行代码就可以为博客引入内容。下面是一个使用 Silex 的例子，这是一个基于 Symfony 组件的 PHP 微框架。

首先，在设置应用程序时，您需要配置博客将使用的任何路线以及 ButterCMS 客户端的实例。

```
use ButterCMS\ButterCMS;$app->get('/blog/{category}', 'MyBlog\\BlogController::listAction')->bind('blog_list');$app['butter_cms'] = function ($app) {return new ButterCMS(<api_token>);
};
```

然后，在与您的路线相关的控制器操作中，只需很少的代码就可以获得博客文章。

```
namespace MyBlog;use Symfony\Component\HttpFoundation\Request;use Silex\Application;class BlogController {public function listAction(Request $request, Application $app, $category) {
 $client = $app['butter_cms']);
 $posts = $client->fetchPosts([
 'category_slug' => $category,
 'page' => $request->query->get('page'),
 'page_size' => 10,
 ]));return $app['twig']->render('list.html', ['posts' => $posts]);}
}
```

最后，在您的视图中，您只需使用 Twig 遍历帖子，将它们呈现在页面上。

```
{% for post in posts %}
 <h2>{{ post.title }}</h2>
 {{ post.body }}
{% endfor %}
```

基本上只需 5 行或更少的代码，你就可以让你的整个博客开始运行了。您的客户端所需的所有功能都已经为您内置。分页、分类支持、快速响应，你的客户所要求的一切都已经存在。

# 摘要

当涉及到软件时，开发人员经常面临构建它还是购买它的情况。您可以购买代码库的访问权限，也可以免费使用现成的东西。各有利弊。有了像 ButterCMS 这样的解决方案及其提供的好处，在节省时间和复杂性方面的花费通常是非常值得的，尤其是从长期来看。

*最初发表于*[*【buttercms.com】*](https://buttercms.com/blog/options-for-adding-a-blog-to-php-app)*。*