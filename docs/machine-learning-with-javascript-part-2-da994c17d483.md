# JavaScript æœºå™¨å­¦ä¹ :ç¬¬ 2 éƒ¨åˆ†

> åŸæ–‡ï¼š<https://medium.com/hackernoon/machine-learning-with-javascript-part-2-da994c17d483>

æ·±å…¥ç›‘ç£å­¦ä¹ ğŸŠ

![](img/306a6c3100296d79bf8ca5016422e513.png)

Petal Length vs Sepal Length by [plot.ly](http://plot.ly)

> è¿™æ˜¯ä½¿ç”¨ JavaScript çš„æœºå™¨å­¦ä¹ ç³»åˆ—*çš„ç¬¬ 2 éƒ¨åˆ†ã€‚ä¸‹é¢æ˜¯ç¬¬ä¸€éƒ¨åˆ†ã€‚*

*æ˜¯æ—¶å€™äº†ã€‚*

*kNN ä»£è¡¨ **k æœ€è¿‘é‚»**ï¼Œæ˜¯ä¸€ç§ç›‘ç£å­¦ä¹ ç®—æ³•ã€‚å®ƒå¯ä»¥ç”¨äºåˆ†ç±»ï¼Œä»¥åŠå›å½’é—®é¢˜ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¦å‘ kNN é—®å¥½ï¼Œä½†æ˜¯å¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥ç›´æ¥è·³åˆ°ä»£ç ã€‚GitHub åº“:[å¸¦ JS çš„æœºå™¨å­¦ä¹ ](https://github.com/abhisheksoni27/machine-learning-with-js)ã€‚*

## *kNN ç®—æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ*

*kNN åŸºäºæ•°æ®ç‚¹å…·æœ‰çš„å±äºåŒä¸€ç±»çš„æœ€å¤§é‚»å±…æ•°é‡æ¥å†³å®šæ–°æ•°æ®ç‚¹çš„ç±»ã€‚*

*å¦‚æœä¸€ä¸ªæ–°æ•°æ®ç‚¹çš„é‚»å±…å¦‚ä¸‹: *NY* : **7** ï¼Œ *NJ* : **0** ï¼Œä¸­çš„*:**4**ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°æ•°æ®ç‚¹çš„ç±»å°†æ˜¯ **NY** ã€‚**

*å‡è®¾ä½ åœ¨é‚®å±€å·¥ä½œï¼Œä½ çš„å·¥ä½œæ˜¯ç»„ç»‡ä¿¡ä»¶å¹¶åœ¨é‚®é€’å‘˜ä¹‹é—´åˆ†å‘ï¼Œä»¥å°½é‡å‡å°‘å»ä¸åŒç¤¾åŒºçš„æ¬¡æ•°ã€‚å› ä¸ºæˆ‘ä»¬åªæ˜¯åœ¨æƒ³è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾åªæœ‰ä¸ƒä¸ªä¸åŒçš„è¡—åŒºã€‚è¿™æ˜¯ä¸€ç§åˆ†ç±»é—®é¢˜ã€‚ä½ éœ€è¦æŠŠå­—æ¯åˆ†æˆç±»ï¼Œè¿™é‡Œçš„ç±»æŒ‡çš„æ˜¯ä¸Šä¸œåŒºï¼Œæ›¼å“ˆé¡¿ä¸‹åŸï¼Œç­‰ç­‰ã€‚*

*![](img/a1301aef22db1799e2b8a3044e65ee93.png)*

*[Photo credit](https://blog.logos.com/2015/10/how-to-start-a-bible-book-study-using-logos/)*

*å¦‚æœä½ å–œæ¬¢æµªè´¹æ—¶é—´å’Œèµ„æºï¼Œä½ å¯èƒ½ä¼šä»æ¯ä¸ªè¡—åŒºç»™æ¯ä¸ªé‚®é€’å‘˜ä¸€å°ä¿¡ï¼Œå¹¶å¸Œæœ›ä»–ä»¬åœ¨åŒä¸€è¡—åŒºç›¸é‡å¹¶å‘ç°ä½ çš„è…è´¥è®¡åˆ’ã€‚è¿™æ˜¯ä½ èƒ½å®ç°çš„æœ€ç³Ÿç³•çš„åˆ†é…æ–¹å¼ã€‚*

*å¦ä¸€æ–¹é¢ï¼Œä½ å¯ä»¥æ ¹æ®åœ°å€çš„æ¥è¿‘ç¨‹åº¦æ¥ç»„ç»‡ä¿¡ä»¶ã€‚*

*ä½ å¯ä»¥ä»â€œå¦‚æœåœ¨ä¸‰ä¸ªè¡—åŒºèŒƒå›´å†…ï¼ŒæŠŠå®ƒäº¤ç»™åŒä¸€ä¸ªé‚®é€’å‘˜â€å¼€å§‹é‚£ä¸ª*æœ€è¿‘çš„å—æ•°*å°±æ˜¯`**k**` çš„æ¥æºã€‚æ‚¨å¯ä»¥ä¸æ–­å¢åŠ å—æ•°ï¼Œç›´åˆ°è¾¾åˆ°æœ‰æ•ˆåˆ†å¸ƒã€‚å¯¹äºä½ çš„åˆ†ç±»é—®é¢˜ï¼Œè¿™æ˜¯æœ€æœ‰æ•ˆçš„ k å€¼ã€‚*

*æ‰€ä»¥ï¼Œæ ¹æ®ä¸€äº›å‚æ•°ï¼Œæ¯”å¦‚è¿™é‡Œæˆ¿å­çš„åœ°å€ï¼Œä½ åˆ†ç±»ä¸€å°ä¿¡æ˜¯å¦å±äºæ›¼å“ˆé¡¿ä¸‹åŸï¼Œæ—¶ä»£å¹¿åœºï¼Œç­‰ç­‰ã€‚(æˆ‘ä¸æ“…é•¿è®°åå­—ï¼Œæ‰€ä»¥)*

## *å®è·µä¸­çš„ kNN |ä»£ç *

*æ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šä¸€ä¸ªæ•™ç¨‹ä¸­æ‰€åšçš„é‚£æ ·ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ ml.js çš„ KNN æ¨¡å—æ¥è®­ç»ƒæˆ‘ä»¬çš„ kNearestNeighbors åˆ†ç±»å™¨ã€‚æ¯ä¸ªæœºå™¨å­¦ä¹ é—®é¢˜éƒ½éœ€è¦æ•°æ®ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨ IRIS æ•°æ®é›†ã€‚*

***é¸¢å°¾æ•°æ®é›†**åŒ…å« 3 ç§ä¸åŒç±»å‹çš„é¸¢å°¾(Setosaã€Versicolour å’Œ Virginica)èŠ±ç“£å’Œè¼ç‰‡é•¿åº¦ï¼Œä»¥åŠè¡¨ç¤ºå…¶å„è‡ªç±»å‹çš„å­—æ®µã€‚*

***ç¬¬ä¸€æ­¥ã€‚**å®‰è£…åº“*

```
*$ yarn add ml-knn csvtojson prompt*
```

*æˆ–è€…å¦‚æœä½ å–œæ¬¢`npm`*

```
*$ npm install ml-knn csvtojson prompt*
```

*`[ml-knn](https://github.com/mljs/knn)` : k ä¸ªæœ€è¿‘é‚»å±…*

*`[csvtojson](https://github.com/Keyang/node-csvtojson)`:è§£ææ•°æ®*

*`[prompt](https://github.com/flatiron/prompt)`:å…è®¸ç”¨æˆ·æç¤ºé¢„æµ‹*

***ç¬¬äºŒæ­¥ã€‚**åˆå§‹åŒ–åº“å¹¶åŠ è½½æ•°æ®*

*è™¹è†œæ•°æ®é›†ç”±åŠ å·å¤§å­¦æ¬§æ–‡åˆ†æ ¡æä¾›ï¼Œå¯åœ¨æ­¤å¤„è·å¾—ã€‚ç„¶è€Œï¼Œç”±äºå®ƒçš„ç»„ç»‡æ–¹å¼ï¼Œä½ å¿…é¡»åœ¨æµè§ˆå™¨ä¸­å¤åˆ¶å†…å®¹(*å…¨é€‰|å¤åˆ¶*)å¹¶ç²˜è´´åˆ°ä¸€ä¸ªåä¸º ***iris.csv.*** çš„æ–‡ä»¶ä¸­ã€‚ä½ å¯ä»¥éšæ„å‘½åï¼Œé™¤äº†æ‰©å±•åå¿…é¡»æ˜¯**ã€‚csv** ã€‚*

*ç°åœ¨ï¼Œåˆå§‹åŒ–åº“å¹¶åŠ è½½æ•°æ®ã€‚æˆ‘å‡è®¾ä½ å·²ç»æœ‰ä¸€ä¸ªç©ºçš„ npm é¡¹ç›®è®¾ç½®ï¼Œä½†æ˜¯å¦‚æœä½ ä¸ç†Ÿæ‚‰å®ƒï¼Œ[è¿™é‡Œæœ‰ä¸€ä¸ªå¿«é€Ÿä»‹ç»ã€‚](https://docs.npmjs.com/cli/init)*

*`header names`ç”¨äºå¯è§†åŒ–å’Œç†è§£ã€‚ç¨åå°†åˆ é™¤å®ƒä»¬ã€‚*

*å¦å¤–ï¼Œ`seperationSize`ç”¨äºå°†æ•°æ®åˆ†æˆè®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†ã€‚*

*é…·å§ã€‚*

*æˆ‘ä»¬å¯¼å…¥äº†`csvtojson`åŒ…ï¼Œç°åœ¨æˆ‘ä»¬å°†ä½¿ç”¨å®ƒçš„`fromFile`æ–¹æ³•æ¥åŠ è½½æ•°æ®ã€‚(å› ä¸ºæˆ‘ä»¬çš„æ•°æ®æ²¡æœ‰æ ‡é¢˜è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬æä¾›è‡ªå·±çš„æ ‡é¢˜åã€‚)*

*æˆ‘ä»¬å°†æ¯ä¸€è¡Œæ¨é€åˆ°æ•°æ®å˜é‡ï¼Œå½“è¯¥è¿‡ç¨‹å®Œæˆæ—¶ï¼Œæˆ‘ä»¬å°†æŠŠæ•°æ®é›†ä¸­çš„æ ·æœ¬æ•°`seperationSize`è®¾ç½®ä¸º**çš„ 0.7 å€**ä¹˜ä»¥*ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœè®­ç»ƒæ ·æœ¬çš„å¤§å°å¤ªä½ï¼Œåˆ†ç±»å™¨çš„æ€§èƒ½å¯èƒ½ä¸ä¼šåƒåœ¨è¾ƒå¤§é›†åˆä¸­é‚£æ ·å¥½ã€‚**

**å› ä¸ºæˆ‘ä»¬çš„æ•°æ®é›†æ˜¯æŒ‰ç…§ç±»å‹æ’åºçš„(`console.log`æ¥ç¡®è®¤)ï¼Œæ‰€ä»¥`shuffleArray`å‡½æ•°è¢«ç”¨æ¥æ´—ç‰Œä»¥å…è®¸åˆ†å‰²ã€‚(å¦‚æœä½ ä¸æ´—ç‰Œï¼Œä½ å¯èƒ½ä¼šå¾—åˆ°ä¸€ä¸ªåœ¨å‰ä¸¤ä¸ªç±»ä¸­è¿è¡Œè‰¯å¥½ï¼Œä½†åœ¨ç¬¬ä¸‰ä¸ªç±»ä¸­å¤±è´¥çš„æ¨¡å‹ã€‚)**

**ä¸‹é¢æ˜¯å®ƒçš„å®šä¹‰ã€‚æˆ‘æ˜¯ä»åœ¨ StackO verflow çš„ä¸€ä¸ªå›ç­”ä¸­å¾—çŸ¥çš„ã€‚**

****ç¬¬ä¸‰æ­¥ã€‚**ç€è£…æ•°æ®(åˆä¸€æ¬¡)**

**æˆ‘ä»¬çš„æ•°æ®ç»„ç»‡å¦‚ä¸‹:**

```
**{
 sepalLength: â€˜5.1â€™,
 sepalWidth: â€˜3.5â€™,
 petalLength: â€˜1.4â€™,
 petalWidth: â€˜0.2â€™,
 type: â€˜Iris-setosaâ€™ 
}**
```

**åœ¨å°†æ•°æ®æä¾›ç»™ kNN åˆ†ç±»å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®åšä¸¤ä»¶äº‹:**

1.  **å°†å­—ç¬¦ä¸²å€¼è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚(`parseFloat`)**
2.  **å°†`type`å˜æˆç¼–å·ç±»ã€‚(è®¡ç®—æœºå–œæ¬¢æ•°å­—ï¼Œä½ çŸ¥é“å—ï¼Ÿ)**

**å¦‚æœä½ ä¸ç†Ÿæ‚‰é›†åˆï¼Œå®ƒä»¬å°±åƒå®ƒä»¬çš„æ•°å­¦å¯¹åº”ç‰©ï¼Œå› ä¸ºå®ƒä»¬ä¸èƒ½æœ‰é‡å¤çš„å…ƒç´ ï¼Œå¹¶ä¸”å®ƒä»¬çš„å…ƒç´ æ²¡æœ‰ç´¢å¼•ã€‚(ä¸æ•°ç»„ç›¸åã€‚)**

**ä½¿ç”¨`spread`æ“ä½œç¬¦æˆ– Set æ„é€ å‡½æ•°å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†å®ƒä»¬è½¬æ¢æˆæ•°ç»„ã€‚**

## **ç¬¬å››æ­¥ã€‚è®­ç»ƒæ‚¨çš„æ¨¡å‹ï¼Œç„¶åæµ‹è¯•å®ƒ**

**æ•°æ®å·²ç©¿æˆ´æ•´é½ï¼Œé­”æ–å·²å‡†å¤‡å°±ç»ªâ€”â€”é™¤æ­¦å™¨:**

**`train`æ–¹æ³•æ¥å—ä¸¤ä¸ªå¼ºåˆ¶å‚æ•°ï¼Œè¾“å…¥æ•°æ®ï¼Œæ¯”å¦‚èŠ±ç“£é•¿åº¦ã€è¼ç‰‡å®½åº¦ï¼Œä»¥åŠå®ƒçš„å®é™…ç±»ï¼Œæ¯”å¦‚ Iris-setosaï¼Œç­‰ç­‰ã€‚å®ƒè¿˜å¸¦æœ‰ä¸€ä¸ªå¯é€‰çš„ options å‚æ•°ï¼Œè¿™åªæ˜¯ä¸€ä¸ª JS å¯¹è±¡ï¼Œå¯ä»¥ä¼ é€’å®ƒæ¥è°ƒæ•´ç®—æ³•çš„å†…éƒ¨å‚æ•°ã€‚æˆ‘ä»¬å°†`**k**`çš„å€¼ä½œä¸ºé€‰é¡¹ä¼ é€’ã€‚`k`çš„é»˜è®¤å€¼ä¸º **5** ã€‚**

**ç°åœ¨æˆ‘ä»¬çš„æ¨¡å‹å·²ç»è¢«è®­ç»ƒå¥½äº†ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒåœ¨æµ‹è¯•é›†ä¸Šçš„è¡¨ç°å¦‚ä½•ã€‚ä¸»è¦åœ°ï¼Œæˆ‘ä»¬æ„Ÿå…´è¶£çš„æ˜¯å‘ç”Ÿçš„é”™è¯¯åˆ†ç±»çš„æ•°é‡ã€‚(å³ï¼Œå®ƒé¢„æµ‹è¾“å…¥ä¸º**æŸç‰©**çš„æ¬¡æ•°ï¼Œå³ä½¿å®ƒå®é™…ä¸Šæ˜¯**æŸç‰©*else*ã€‚)****

**è¯¯å·®è®¡ç®—å¦‚ä¸‹ã€‚æˆ‘ä»¬ä½¿ç”¨ç®€å•çš„ for å¾ªç¯æ¥éå†æ•°æ®é›†ï¼Œå¹¶æŸ¥çœ‹é¢„æµ‹çš„è¾“å‡ºæ˜¯å¦ç­‰äºå®é™…è¾“å‡ºçš„ ***è€Œä¸æ˜¯*** ã€‚é‚£æ˜¯ä¸€ä¸ª*è¯¯åˆ†ç±»*ã€‚**

****æ­¥éª¤äº”ã€‚(å¯é€‰)å¼€å§‹é¢„æµ‹****

**æ˜¯æ—¶å€™æœ‰ä¸€äº›æç¤ºå’Œé¢„æµ‹äº†ã€‚**

**å¦‚æœæ‚¨ä¸æƒ³åœ¨æ–°è¾“å…¥ä¸Šæµ‹è¯•æ¨¡å‹ï¼Œè¯·éšæ„è·³è¿‡è¿™ä¸€æ­¥ã€‚**

## **ç¬¬å…­æ­¥ã€‚å˜£-è‚–-è°¢-æå®šã€‚ğŸš€**

**å¦‚æœæ‚¨éµå¾ªäº†è¿™äº›æ­¥éª¤ï¼Œæ‚¨çš„ index.js åº”è¯¥æ˜¯è¿™æ ·çš„:**

**å»ç‚¹ç‡ƒä¸€ä¸ªç»ˆç«¯ğŸ’»ï¼Œå¹¶è¿è¡Œ`node index.js.`**

```
**$ node index.jsTest Set Size = 45 and number of Misclassifications = 2
prompt: Sepal Length:  1.7
prompt: Sepal Width:  2.5
prompt: Petal Length:  0.5
prompt: Petal Width:  3.4
With 1.7,2.5,0.5,3.4 -- type =  2**
```

**å¹²å¾—å¥½ã€‚è¿™å°±æ˜¯ä½ çš„ kNN ç®—æ³•åœ¨å·¥ä½œï¼Œåˆ†ç±»å°±åƒä¸€ä¸ªé­”å’’ã€‚ğŸ’¹**

**æ‰€æœ‰ä»£ç éƒ½åœ¨ Github ä¸Š:[å¸¦ js çš„æœºå™¨å­¦ä¹ ](https://github.com/abhisheksoni27/machine-learning-with-js)**

**kNN ç®—æ³•çš„ä¸€ä¸ªé‡è¦æ–¹é¢æ˜¯ **k** çš„å€¼ï¼Œå®ƒè¢«ç§°ä¸º**è¶…å‚æ•°**ã€‚è¶…å‚æ•°æ˜¯ aï¼Œæˆ‘ä» Quora ä¸Šçš„[è¿™ä¸ª](https://www.quora.com/What-are-hyperparameters-in-machine-learning)ç­”æ¡ˆä¸­æ„è¯‘å‡ºæ¥ï¼Œâ€œé‚£ç§ä¸èƒ½ä»å¸¸è§„è®­ç»ƒè¿‡ç¨‹ä¸­ç›´æ¥å­¦ä¹ çš„å‚æ•°ã€‚è¿™äº›å‚æ•°è¡¨è¾¾äº†æ¨¡å‹çš„â€œé«˜çº§â€å±æ€§ï¼Œæ¯”å¦‚å®ƒçš„å¤æ‚æ€§æˆ–å®ƒåº”è¯¥å­¦ä¹ çš„é€Ÿåº¦ã€‚å®ƒä»¬è¢«ç§°ä¸º**è¶…å‚æ•°**ã€‚â€**

> **k å®šä¹‰äº†åº”è¯¥è€ƒè™‘åœ¨è¯¥åœ°å€çš„é‚»åŸŸä¸­æœ‰å¤šå°‘å—æ¥å¯¹å…¶è¿›è¡Œåˆ†ç±»ã€‚**

**![](img/d75e67090e5b8eddf54a2740bb07660b.png)**

**[Photo credit](http://blogs.edweek.org/teachers/prove-it-math-and-education-policy/2016/04/math-ought-to-make-sense.html)**

**æˆ‘æ­£åœ¨å¼€å‘`ml-knn`æ¨¡å—ï¼Œå¸Œæœ›é€‰æ‹© k çš„è¿‡ç¨‹èƒ½å¾ˆå¿«è‡ªåŠ¨åŒ–ã€‚**

**å¦‚æœä½ æœ‰ç‚¹å…´å¥‹ï¼Œæƒ³çœ‹çœ‹è¿™èƒ½åšä»€ä¹ˆï¼Œä½ å¯ä»¥å» [**åŠ å·å¤§å­¦æ¬§æ–‡åˆ†æ ¡æœºå™¨å­¦ä¹ åº“**](http://archive.ics.uci.edu/ml/index.php) å¹¶åœ¨ä¸åŒçš„æ•°æ®é›†ä¸Šä½¿ç”¨ä½ çš„åˆ†ç±»å™¨ã€‚(é‚£ä»“åº“é‡Œæœ‰**ã€‚*)***

> ***è¦è·å¾—æœ¬ç³»åˆ—çš„æœ€æ–°æ–‡ç« ï¼Œè¯·å…³æ³¨æˆ‘çš„ä¸ªäººèµ„æ–™ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥æ”¾è‡ªå·±ä¸€é©¬ï¼Œå…³æ³¨æˆ‘ã€‚*ğŸ˜„****

*****æ„Ÿè°¢é˜…è¯»**ï¼å¦‚æœä½ å–œæ¬¢ï¼Œç‚¹å‡»**ç»¿è‰²** **æŒ‰é’®â¤ï¸** è®©å…¶ä»–äººçŸ¥é“ **JS** æœ‰å¤šå¼ºå¤§ï¼Œä»¥åŠä¸ºä»€ä¹ˆåœ¨æœºå™¨å­¦ä¹ æ–¹é¢*ä¸åº”è¯¥è½åäº*ã€‚***

***[![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)******[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)******[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)***

> ***[é»‘å®¢ä¸­åˆ](http://bit.ly/Hackernoon)æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯ [@AMI](http://bit.ly/atAMIatAMI) å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨[æ¥å—æŠ•ç¨¿](http://bit.ly/hackernoonsubmission)å¹¶ä¹æ„[è®¨è®ºå¹¿å‘Š&èµåŠ©](mailto:partners@amipublications.com)æœºä¼šã€‚***
> 
> ***å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„[æœ€æ–°ç§‘æŠ€æ•…äº‹](http://bit.ly/hackernoonlatestt)å’Œ[è¶‹åŠ¿ç§‘æŠ€æ•…äº‹](https://hackernoon.com/trending)ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼***

***![](img/be0ca55ba73a573dce11effb2ee80d56.png)***