# ä¸ React/Redux ä¸€èµ·ä¼˜åŒ–ä½¿ç”¨

> åŸæ–‡ï¼š<https://medium.com/hackernoon/using-optimizely-with-react-redux-99bd510c790f>

![](img/5eeed4c13681e918d4473f48154a9129.png)

Optimizely æ˜¯ä¸€ä¸ªè®©ä½ æ‰§è¡Œ AB æµ‹è¯•çš„å·¥å…·ã€‚åƒæ‰€æœ‰æˆ–å¤§å¤šæ•°å…¶ä»–å®¢æˆ·ç«¯ AB æµ‹è¯•[å·¥å…·](https://hackernoon.com/tagged/tools)ä¸€æ ·ï¼Œå®ƒä½¿ç”¨ä»¥ä¸‹æœºåˆ¶:

*   æ‚¨çš„é¡µé¢ä¸ŠåŒ…å«ä¸€ä¸ªè„šæœ¬æ ‡è®°ï¼Œå®ƒå¯ä»¥åœ¨åŠ è½½æ—¶ä¸ºä¸åŒçš„ç”¨æˆ·ç¾¤æ”¹å˜å®ƒ
*   å°†è¯¥å˜åŒ–ä¸æœªæ”¹å˜çš„å¯¹ç…§ç»„è¿›è¡Œæ¯”è¾ƒï¼Œä»¥äº†è§£å…¶è¡¨ç°å¦‚ä½•

å¯¹æˆ‘ä»¬å›¢é˜Ÿæ¥è¯´ï¼Œè¿™ä¸ªæ¨¡å‹çš„ä¸»è¦å–ç‚¹å¾ˆç®€å•:è¿è¡Œæµ‹è¯•ä¸éœ€è¦ä¿®æ”¹ä»£ç ã€‚è¿™ä½¿å¾—äº§å“å’Œè¥é”€å›¢é˜Ÿå¯ä»¥åœ¨æ²¡æœ‰å·¥ç¨‹å¸ˆå‚ä¸çš„æƒ…å†µä¸‹æ›´å¿«åœ°å¯åŠ¨ç”Ÿäº§æµ‹è¯•ã€‚

ç„¶è€Œï¼Œæœ‰ä¸€ä¸ªé—®é¢˜:React åº”ç”¨ç¨‹åºçš„ä¼˜åŒ–ä½¿ç”¨å­˜åœ¨å›ºæœ‰çš„é—®é¢˜ã€‚æ¯æ¬¡çŠ¶æ€æˆ–å­˜å‚¨å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒReact éƒ½ä¼šé‡æ–°å‘ˆç°ç»„ä»¶ã€‚å› æ­¤ï¼Œä¼˜åŒ–æ›´æ”¹ä¸ä¼šæŒç»­ï¼Œå®ƒä»¬ä¼šåœ¨é‡æ–°æ¸²æŸ“æ—¶è¢« React diffing æœºåˆ¶ç§»é™¤ã€‚

## å¤–é¢å·²ç»æœ‰ä»€ä¹ˆäº†ï¼Ÿ

æœ€è¿‘æœ‰è®¸å¤šæ–‡ç« ä»‹ç»äº† React+ä¼˜åŒ–ä½¿ç”¨çš„ä¸åŒè§£å†³æ–¹æ¡ˆã€‚

**ã€æ›´æ–°:Tilt åšå®¢ä¼¼ä¹å·²ç»è¢«æ’¤ä¸‹ã€‘** [æœåŠ¡å™¨ç«¯æ¸²æŸ“åº”ç”¨ï¼Œä½¿ç”¨ Optimizely REST API åœ¨æœåŠ¡å™¨ä¸Šè·å–å®éªŒä¿¡æ¯](https://medium.com/u/4396b53c7d20#.vsiciejgu)ã€‚ä¸ä»…ä»…æ˜¯ååº”ï¼Œä»»ä½•æœåŠ¡å™¨ç«¯ AB æµ‹è¯•éƒ½éœ€è¦éƒ¨ç½²ã€‚ä½†æ˜¯å¯¹æˆ‘æ¥è¯´ï¼Œè¿™ç§æ–¹æ³•ä¼¼ä¹æ²¡æœ‰å……åˆ†åˆ©ç”¨â€”â€”æˆ‘å®æ„¿ä½¿ç”¨å®ƒçš„ GUI è¿›è¡Œå®¢æˆ·ç«¯ AB æµ‹è¯•ï¼Œæˆ–è€…æ ¹æœ¬ä¸ä½¿ç”¨å®ƒã€‚

è¿™é‡Œæœ‰å¾ˆå¤šå¥½ä¸»æ„ã€‚ç„¶è€Œï¼Œä»¤æˆ‘éå¸¸å›°æ‰°çš„æ˜¯ï¼Œä¸Šè¿°æ‰€æœ‰è§£å†³æ–¹æ¡ˆéƒ½è¦æ±‚å¯¹æ¯ä¸ªæ–°çš„ AB æµ‹è¯•è¿›è¡Œéƒ¨ç½²ã€‚

# æ— éœ€éƒ¨ç½²æˆ–ä»£ç æ›´æ”¹å³å¯ä¼˜åŒ–ååº”/è¿˜åŸ

è¿™é‡Œæœ‰ä¸€ä¸ªè½»é‡çº§çš„æ–¹æ³•ã€‚éœ€è¦æ³¨æ„çš„äº‹é¡¹:

*   è¿™æ˜¯ä¸ºä¸­å°å‹ UX è°ƒæ•´ã€‚å¦‚æœä½ çš„ AB æµ‹è¯•æ˜¯å¤§è§„æ¨¡çš„ï¼Œé‚£ä¹ˆä»£ç å˜æ›´å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€”å¾„ã€‚
*   è¯¥æ–¹æ³•åœ¨æ‚¨çš„ä»£ç åº“ä¸­çš„æˆåŠŸå–å†³äºæ‚¨ç‰¹å®šçš„ React å®ç°ã€‚è¿™ä¸æˆ‘ä»¬çš„ React/Redux åº”ç”¨ç¨‹åºé…åˆå¾—å¾ˆå¥½ï¼Œå› ä¸ºå®ƒåœ¨ä¸»è¦ä½¿ç”¨é“å…·å’ŒåŠ¨ä½œ(è€Œä¸æ˜¯æœ¬åœ°çŠ¶æ€)çš„æ¯æ¬¡æ›´æ”¹æ—¶éƒ½é‡æ–°å‘ˆç°é¡¶çº§ç»„ä»¶ã€‚

## ç¬¬ä¸€æ­¥

å½“çŠ¶æ€æˆ–å­˜å‚¨æ”¹å˜æ—¶ï¼ŒReact é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚å¦‚æœä½ ä½¿ç”¨ Reactï¼Œä½ è‚¯å®šç†Ÿæ‚‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚æ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•ä¸­çš„å‡ ä¸ªæ¥è°ƒç”¨ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œè¯¥å‡½æ•°å°±åƒä¸€ä¸ªé’©å­ä¸€æ ·è§¦å‘ [JavaScript](https://hackernoon.com/tagged/javascript) è¿›è¡Œæ‰€éœ€çš„ DOM ä¿®æ”¹ã€‚

è¿™çœ‹èµ·æ¥åƒä»€ä¹ˆ:

`window.optimizelyHook`å°†æ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œåœ¨ç»„ä»¶è£…è½½åˆ°é¡µé¢ä¸Šåç«‹å³è¢«è°ƒç”¨ã€‚åˆ©ç”¨ä½ çš„é¡¶å±‚ç»„ä»¶çš„`componentDidMount`å’Œ`componentDidUpdate`ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå°±åƒè¿™æ ·:

## ç¬¬äºŒæ­¥

åœ¨ Optimizely çš„å˜ä½“ JavaScript ä¸­ï¼Œå®šä¹‰`optimizelyHook()`å‡½æ•°ã€‚ç„¶åï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­æ‰§è¡Œæ‰€æœ‰ DOM ä¿®æ”¹ã€‚

![](img/8413f005f59de953c5a757b321438a1d.png)

`componentDidMount`åœ¨åˆå§‹åéª‘ä¸Šè¢«è°ƒç”¨ä¸€æ¬¡
`componentDidUpdate`åœ¨æ¯æ¬¡è¿ç»­æ›´æ–°çš„é“å…·ä¸Šè¢«è°ƒç”¨

## ç»“æœå‘¢

å°†åœ¨æ¯æ¬¡é“å…·æ›´æ–°æ—¶è¿è¡Œï¼Œå¯¼è‡´å®éªŒé€šè¿‡ Redux åŠ¨ä½œè§¦å‘çš„é‡æ–°æ¸²æŸ“è€ŒæŒç»­ã€‚

éƒ¨ç½²ä¸€æ¬¡ï¼Œåœ¨å¤šä¸ª AB æµ‹è¯•ä¸­ä½¿ç”¨å¤šæ¬¡ã€‚ğŸ‰

## èµ„æº

[äº†è§£æœåŠ¡å™¨ç«¯ä¸å®¢æˆ·ç«¯ AB æµ‹è¯•](https://conversionxl.com/server-side-vs-client-side-ab-testing-tools-whats-the-difference/)

[React ç”Ÿå‘½å‘¨æœŸæ–¹æ³•](https://facebook.github.io/react/docs/react-component.html)

[![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)

> [é»‘å®¢ä¸­åˆ](http://bit.ly/Hackernoon)æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯ [@AMI](http://bit.ly/atAMIatAMI) å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨[æ¥å—æŠ•ç¨¿](http://bit.ly/hackernoonsubmission)ï¼Œå¹¶ä¹æ„[è®¨è®ºå¹¿å‘Š&èµåŠ©](mailto:partners@amipublications.com)æœºä¼šã€‚
> 
> å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„[æœ€æ–°ç§‘æŠ€æ•…äº‹](http://bit.ly/hackernoonlatestt)å’Œ[è¶‹åŠ¿ç§‘æŠ€æ•…äº‹](https://hackernoon.com/trending)ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼

![](img/be0ca55ba73a573dce11effb2ee80d56.png)