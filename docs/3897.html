<html>
<head>
<title>Letâ€™s Build a Web App with Vue, Chart.js and an API Part II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">è®©æˆ‘ä»¬ç”¨Vueã€Chart.jså’ŒAPI Part IIæ„å»ºä¸€ä¸ªWebåº”ç”¨ç¨‹åº</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/lets-build-a-web-app-with-vue-chart-js-and-an-api-part-ii-39781b1d5acf?source=collection_archive---------3-----------------------#2017-04-30">https://medium.com/hackernoon/lets-build-a-web-app-with-vue-chart-js-and-an-api-part-ii-39781b1d5acf?source=collection_archive---------3-----------------------#2017-04-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/902c2af80f63d6ccdf0ded6afa8ceb4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rsTJUWzJ4SS0NNAI45USFw.png"/></div></div></figure><div class=""/><div class=""><h2 id="2a78" class="pw-subtitle-paragraph jc ie if bd b jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ek translated">æ„å»ºä¸npm apiäº¤äº’å¹¶ç”Ÿæˆå›¾è¡¨çš„webappçš„ç¬¬äºŒéƒ¨åˆ†</h2></div><p id="4f92" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt kq translated"><span class="l kr ks kt bm ku kv kw kx ky di">å¦‚æœ</span>ä½ é”™è¿‡äº†ç¬¬ä¸€éƒ¨åˆ†ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œ<a class="ae kz" href="https://hackernoon.com/lets-build-a-web-app-with-vue-chart-js-and-an-api-544eb81c4b44" rel="noopener ugc nofollow" target="_blank">æ‰¾åˆ°</a>ã€‚é¦–å…ˆå“‡ï¼æ„Ÿè°¢æ‰€æœ‰çš„åé¦ˆå’Œtwitteræ¶ˆæ¯ï¼ğŸ’æˆ‘ä»æœªæƒ³åˆ°ä¼šæœ‰å¦‚æ­¤å¹¿æ³›çš„è§‚ä¼—ã€‚ä½†æ˜¯å¤Ÿäº†ã€‚è®©æˆ‘ä»¬å¼€å§‹å·¥ä½œå§ğŸ’ªã€‚</p><h2 id="4fff" class="la lb if bd lc ld le lf lg lh li lj lk kd ll lm ln kh lo lp lq kl lr ls lt lu dt translated">âš¡å¿«é€Ÿå…¥é—¨</h2><p id="1907" class="pw-post-body-paragraph ju jv if jw b jx lv jg jz ka lw jj kc kd lx kf kg kh ly kj kk kl lz kn ko kp hn dt translated">æ‰€ä»¥ï¼Œæˆ‘ä»¬æ­£åœ¨å»ºé€ npm-stats.orgã€‚ä½¿ç”¨<a class="ae kz" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue.js </a>ã€<a class="ae kz" href="http://vue-chartjs.org/#/" rel="noopener ugc nofollow" target="_blank"> vue-chartjs </a>å’Œ<a class="ae kz" href="npmjs.org" rel="noopener ugc nofollow" target="_blank"> npm </a> APIæ„å»ºçš„å°å‹webåº”ç”¨ç¨‹åºï¼Œç”¨äºè·å–è½¯ä»¶åŒ…çš„ä¸‹è½½ç»Ÿè®¡æ•°æ®å¹¶åŸºäºè¿™äº›æ•°æ®ç”Ÿæˆå›¾è¡¨ã€‚</p><h2 id="801c" class="la lb if bd lc ld le lf lg lh li lj lk kd ll lm ln kh lo lp lq kl lr ls lt lu dt translated">æˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢æ‰€åšçš„</h2><p id="a71f" class="pw-post-body-paragraph ju jv if jw b jx lv jg jz ka lw jj kc kd lx kf kg kh ly kj kk kl lz kn ko kp hn dt translated">ç®€å•å›é¡¾ä¸€ä¸‹æˆ‘ä»¬åœ¨ç¬¬1éƒ¨åˆ†ä¸­æ„å»ºçš„å†…å®¹:</p><ul class=""><li id="f37d" class="ma mb if jw b jx jy ka kb kd mc kh md kl me kp mf mg mh mi dt translated">âœ…ç”¨<code class="eh mj mk ml mm b">vue-init</code>åˆ›å»ºä¸€ä¸ªvue.jsåº”ç”¨ç¨‹åº</li><li id="f1b5" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp mf mg mh mi dt translated">âœ…å®‰è£…ä¾èµ–é¡¹å¹¶è®¾ç½®<code class="eh mj mk ml mm b">vue-router</code></li><li id="c060" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp mf mg mh mi dt translated">âœ…ç”¨<code class="eh mj mk ml mm b">vue-chartjs</code>åˆ›å»ºä¸€ä¸ªæŠ˜çº¿å›¾ç»„ä»¶</li><li id="8007" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp mf mg mh mi dt translated">âœ…å¯¹npmè¿›è¡ŒAPIè°ƒç”¨ï¼Œå¹¶å‘ˆç°ä¸Šä¸ªæœˆçš„æ¯æ—¥ä¸‹è½½ç»Ÿè®¡æ•°æ®</li></ul><p id="4368" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">è¿™å·²ç»å¾ˆå¤šäº†ã€‚æœ€åæˆ‘ä»¬è¿è¡Œäº†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œæ€»æœ‰æ”¹è¿›çš„ç©ºé—´ï¼</p><h2 id="63ed" class="la lb if bd lc ld le lf lg lh li lj lk kd ll lm ln kh lo lp lq kl lr ls lt lu dt translated">æˆ‘ä»¬ä»Šå¤©è¦åšçš„äº‹æƒ…:</h2><ul class=""><li id="b676" class="ma mb if jw b jx lv ka lw kd ms kh mt kl mu kp mf mg mh mi dt translated">âš™æ·»åŠ è®¾ç½®ä»¥æ›´æ”¹å¼€å§‹å’Œç»“æŸæœŸé—´</li><li id="cec3" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp mf mg mh mi dt translated">ğŸ“†é›†æˆå¤–éƒ¨æ—¥æœŸé€‰æ‹©å™¨ç»„ä»¶</li><li id="5d0b" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp mf mg mh mi dt translated">ğŸ“ˆæ”¹å˜æˆ‘ä»¬çš„æ•°æ®ï¼Œæ·»åŠ ä¸€ä¸ªå¹´åº¦ç»Ÿè®¡å›¾</li><li id="b89f" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp mf mg mh mi dt translated">ğŸ”¨é‡æ„æˆ‘ä»¬çš„æ–¹æ³•ï¼Œç¨å¾®å¹²ç‡¥ä¸€ä¸‹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è½»æ¾åœ°æ·»åŠ æ›´å¤šçš„å›¾è¡¨</li></ul><h2 id="70ed" class="la lb if bd lc ld le lf lg lh li lj lk kd ll lm ln kh lo lp lq kl lr ls lt lu dt translated">âš™è®¾ç½®</h2><p id="4553" class="pw-post-body-paragraph ju jv if jw b jx lv jg jz ka lw jj kc kd lx kf kg kh ly kj kk kl lz kn ko kp hn dt kq translated">ç°åœ¨æˆ‘ä»¬çš„é»˜è®¤å‘¨æœŸè¢«è®¾ç½®ä¸º<code class="eh mj mk ml mm b">last-month</code>ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å¯ä»¥è®¾ç½®å¼€å§‹å‘¨æœŸå’Œç»“æŸå‘¨æœŸï¼Œé‚£å°±å¤ªæ£’äº†ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥æ£€æŸ¥ä¸€æ•´å¹´æˆ–æ›´é•¿æ—¶é—´çš„ç»Ÿè®¡æ•°æ®ã€‚</p><p id="2940" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸¤ä¸ªé¢å¤–çš„è¾“å…¥å­—æ®µå’Œæ•°æ®æ¨¡å‹ã€‚ä½†æ˜¯ä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬å°†å¼•å…¥ä¸€ä¸ªå¤–éƒ¨çš„æ—¥æœŸé€‰æ‹©å™¨ç»„ä»¶ã€‚æˆ‘ä»¬ä¸å¿…é‡æ–°å‘æ˜è½®å­ï¼Œå¯¹å—ï¼ŸğŸ‘¨â€ğŸ”¬ä¸ºäº†æ­£ç¡®æ ¼å¼åŒ–æˆ‘ä»¬çš„æ—¥æœŸï¼Œæˆ‘ä»¬è¿˜å°†å¼•å…¥moment.js</p><figure class="mw mx my mz fq hw fe ff paragraph-image"><div class="fe ff mv"><img src="../Images/797601e5a34fe265fe32b4aaf0857c36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*5efC00Bu1w0pX-UBlNFjug.png"/></div><figcaption class="na nb fg fe ff nc nd bd b be z ek">Datepicker</figcaption></figure><p id="1ac4" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated"><strong class="jw ig">ğŸ“†å®‰è£…ä¾èµ–å…³ç³»</strong></p><p id="a2bc" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated"><code class="eh mj mk ml mm b">yarn add vuejs-datepicker moment</code></p><p id="e49e" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">Todosä¸ºæˆ‘ä»¬çš„<strong class="jw ig">å¼€å§‹ã€‚vue </strong>:</p><ul class=""><li id="3cdf" class="ma mb if jw b jx jy ka kb kd mc kh md kl me kp mf mg mh mi dt translated">å¯¼å…¥æ—¥æœŸé€‰æ‹©å™¨</li><li id="0595" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp mf mg mh mi dt translated">ä¸ºå¼€å§‹å’Œç»“æŸæœŸé—´æ·»åŠ ä¸¤ä¸ªdatepickerå­—æ®µ</li><li id="97a0" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp mf mg mh mi dt translated">æ·»åŠ ä¸¤ä¸ªæ•°æ®æ¨¡å‹</li></ul><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="154b" class="la lb if mm b fv ni nj l nk nl">// Start.vue<br/><br/>&lt;template&gt;<br/><br/>...<br/><br/>&lt;datepicker placeholder="Start Date" v-model="periodStart" name="start-date"&gt;&lt;/datepicker&gt;<br/>&lt;datepicker placeholder="Start Date" v-model="periodStart" name="start-date"&gt;&lt;/datepicker&gt;<br/><br/>...<br/><br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>  import axios from 'axios'<br/>  import Datepicker from 'vuejs-datepicker'<br/>  import LineChart from '@/components/LineChart'<br/>  <br/>  export default {<br/>    components: {<br/>      LineChart,<br/>      Datepicker<br/>    },<br/>    data () {<br/>      return {<br/>        package: null,<br/>        packageName: '',<br/>        loaded: false,<br/>        downloads: [],<br/>        labels: [],<br/>        showError: false,<br/>        errorMessage: 'Please enter a package name',<br/>        periodStart: '',<br/>        periodEnd: new Date()<br/>      }<br/>    },<br/>    <br/>    .....<br/>}<br/> <br/>&lt;/script&gt;</span></pre><p id="8648" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">æˆ‘ä»¬è¿˜åˆ é™¤äº†æ—§çš„è®¾ç½®ä¸º<code class="eh mj mk ml mm b">last-month</code>çš„<code class="eh mj mk ml mm b">period</code>æ•°æ®æ¨¡å‹ã€‚å› ä¸ºå‘¨æœŸç°åœ¨å°†ç”±<code class="eh mj mk ml mm b">periodStart</code>å’Œ<code class="eh mj mk ml mm b">periodEnd</code>ç»„æˆã€‚æˆ‘ä»¬è¿˜å°†<code class="eh mj mk ml mm b">periodEnd</code>è®¾ç½®ä¸ºå½“å‰æ—¥æœŸã€‚å› ä¸ºå¤§å¤šæ•°æ—¶å€™ä½ åªä¼šæ”¹å˜å¼€å§‹æ—¥æœŸã€‚</p><p id="4e87" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">æˆ‘ä»¬éœ€è¦è¿™æ ·çš„æ ¼å¼:<code class="eh mj mk ml mm b">2017-04-18:2017-04-30</code>ã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬ç°åœ¨é€‰æ‹©ä¸€ä¸ªæ—¥æœŸï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°è¿™æ ·çš„ç»“æœ:<code class="eh mj mk ml mm b">2017-04-17T22:00:00.000Z</code>ã€‚å¸¦æœ‰æ—¶é—´å±æ€§çš„<code class="eh mj mk ml mm b">Date()</code>ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸éœ€è¦çš„ã€‚è¿™å¯¹äº<code class="eh mj mk ml mm b">moment.js</code>æ¥è¯´æ˜¯ä¸€ä»½ä¸é”™çš„å·¥ä½œã€‚</p><h2 id="9b30" class="la lb if bd lc ld le lf lg lh li lj lk kd ll lm ln kh lo lp lq kl lr ls lt lu dt translated">è®¡ç®—å‘¨æœŸ</h2><p id="03c0" class="pw-post-body-paragraph ju jv if jw b jx lv jg jz ka lw jj kc kd lx kf kg kh ly kj kk kl lz kn ko kp hn dt translated">å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æœ‰<a class="ae kz" href="https://vuejs.org/v2/guide/computed.html" rel="noopener ugc nofollow" target="_blank">è®¡ç®—å±æ€§</a>ï¼Œè¿™æ˜¯ä¸€ç§æ„‰å¿«çš„å·¥ä½œã€‚ä¸ºäº†è®©äº‹æƒ…æ›´æ¸…æ¥šï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸‰ä¸ªå±æ€§ã€‚æ ¼å¼åŒ–çš„å¼€å§‹æ—¥æœŸã€æ ¼å¼åŒ–çš„ç»“æŸæ—¥æœŸå’Œåˆæˆå‘¨æœŸã€‚</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="79f5" class="la lb if mm b fv ni nj l nk nl">computed: {<br/>  _endDate () {<br/>    return moment(this.periodEnd).format('YYYY-MM-DD')<br/>  },<br/>  _startDate () {<br/>    return moment(this.periodStart).format('YYYY-MM-DD')<br/>  },<br/>  period () {<br/>    return this.periodStart ? <br/>           `${this._startDate}:${this._endDate}` : <br/>           'last-month'<br/>  }<br/>},</span></pre><p id="d06a" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">å¦‚æœæ²¡æœ‰è®¾ç½®å¼€å§‹æ—¥æœŸï¼Œæˆ‘ä»¬å¸Œæœ›ä¿æŒè·å–ä¸Šä¸ªæœˆæ•°æ®çš„é»˜è®¤è¡Œä¸ºï¼Œå› æ­¤æˆ‘ä»¬å°†æˆ‘ä»¬çš„æ¡ä»¶æ·»åŠ åˆ°<code class="eh mj mk ml mm b">period</code>å±æ€§ä¸­ã€‚</p><p id="9ae7" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">å°±æ˜¯è¿™æ ·ï¼æˆ‘ä»¬ä¸éœ€è¦æ”¹å˜æˆ‘ä»¬çš„è¯·æ±‚ï¼Œå› ä¸ºæˆ‘ä»¬åªæ˜¯æ›¿æ¢äº†æˆ‘ä»¬åœ¨è¯·æ±‚ä¸­ä½¿ç”¨çš„<code class="eh mj mk ml mm b">period</code>çš„å†…å®¹ã€‚ä½ å¯ä»¥åœ¨è¿™ä¸ª<a class="ae kz" href="https://github.com/apertureless/npm-stats/tree/feature/date_settings_%234" rel="noopener ugc nofollow" target="_blank">ç‰¹æ€§åˆ†æ”¯</a>ä¸­æŸ¥çœ‹githubä¸Šçš„ä»£ç </p><h2 id="b89c" class="la lb if bd lc ld le lf lg lh li lj lk kd ll lm ln kh lo lp lq kl lr ls lt lu dt translated">ğŸ“ˆæ›´å¤šå›¾è¡¨</h2><p id="f00f" class="pw-post-body-paragraph ju jv if jw b jx lv jg jz ka lw jj kc kd lx kf kg kh ly kj kk kl lz kn ko kp hn dt translated">å—¯ï¼Œæœ‰æ¯æ—¥ç»Ÿè®¡æ•°æ®çš„å›¾è¡¨å¾ˆæ£’ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥äº§ç”Ÿæ›´å¤šï¼æˆ‘ä»¬æœ‰æ‰€æœ‰éœ€è¦çš„æ•°æ®ã€‚æˆ‘ä»¬ä¸ä¼šè½¬æ¢å’Œåˆ†ç»„æˆ‘ä»¬çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å®ƒä¼ é€’åˆ°å¦ä¸€ä¸ªå¹´åº¦ç»Ÿè®¡æŠ˜çº¿å›¾ã€‚æˆ‘ä»¬å°†é‡æ„ä¸€äº›ä»£ç ã€‚</p><h2 id="216d" class="la lb if bd lc ld le lf lg lh li lj lk kd ll lm ln kh lo lp lq kl lr ls lt lu dt translated">æ‰€æœ‰è¿™äº›æ•°æ®</h2><figure class="mw mx my mz fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff nm"><img src="../Images/869cc4ca9cc222185c73257eb9949129.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dvc1IR3c1A13TZVyHpdbjA.jpeg"/></div></div></figure><p id="6a1a" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">å› æ­¤ï¼Œæˆ‘ä»¬ä»npm apiè·å¾—çš„æ•°æ®å¦‚ä¸‹æ‰€ç¤º:</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="0b7e" class="la lb if mm b fv ni nj l nk nl">data: [<br/>{day: "2017-04-18", downloads: 16280},<br/>{day: "2017-04-19", downloads: 14280},<br/>{day: "2017-04-20", downloads: 17280}<br/>]</span></pre><p id="f085" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">ä½†æ˜¯è¦å°†å®ƒä¼ é€’ç»™æˆ‘ä»¬çš„å›¾è¡¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªæ˜¯æ ‡ç­¾(<em class="nn">æ—¥</em>)å’Œä¸€ä¸ªæ˜¯æ•°æ®(<em class="nn">ä¸‹è½½</em>)ã€‚å¯¹äºæ¯æ—¥ç»Ÿè®¡ï¼Œè¿™å¾ˆå®¹æ˜“ã€‚å› ä¸ºæˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä½¿ç”¨<code class="eh mj mk ml mm b">map()</code>æ¥è·å–æ•°æ®å’Œæ ‡ç­¾ã€‚ç„¶è€Œï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦åšæ›´å¤šçš„å·¥ä½œã€‚</p><ol class=""><li id="9f0b" class="ma mb if jw b jx jy ka kb kd mc kh md kl me kp no mg mh mi dt translated">å°†æˆ‘ä»¬çš„<code class="eh mj mk ml mm b">day</code>é”®æ ¼å¼åŒ–ä¸ºå¹´ä»½ã€‚</li><li id="5563" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp no mg mh mi dt translated">å¯¹äºæ ‡ç­¾ï¼Œå»æ‰é‡å¤çš„éƒ¨åˆ†ï¼Œè¿™æ ·æˆ‘ä»¬å°±åªæœ‰å”¯ä¸€çš„å¹´ä»½äº†</li><li id="925c" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp no mg mh mi dt translated">å°†åŒä¸€å¹´çš„æ‰€æœ‰ä¸‹è½½é‡ç›¸åŠ ã€‚</li></ol><p id="525d" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">â˜:ä½†é¦–å…ˆï¼Œè¿™æ˜¯ä¸€ä¸ªé‡æ„æˆ‘ä»¬ä»£ç çš„å¥½æ—¶æœºã€‚æˆ‘ä»¬çœ‹åˆ°ç¬¬ä¸€æ­¥æ˜¯å°†æ—¥æœŸæ ¼å¼åŒ–ä¸ºä¸€å¹´ã€‚ä¹‹åï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æœˆåº¦ç»Ÿè®¡æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶æ ¼å¼åŒ–ä¸ºæœˆåº¦æ ¼å¼ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ‰€ä»¥ç°åœ¨æ˜¯å¼•å…¥ä¸€ä¸ªåŠ©æ‰‹æ–¹æ³•å¹¶ä»<strong class="jw ig"> Start.vue </strong>æ–‡ä»¶ä¸­æå–é€»è¾‘çš„å¥½æ—¶æœºã€‚</p><p id="8f8c" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">æ‰€ä»¥æˆ‘ä»¬åˆ›å»ºäº†<code class="eh mj mk ml mm b">src/utils/dateFormatter.js</code>ï¼Œå®ƒå°†å¸®åŠ©æˆ‘ä»¬æ ¼å¼åŒ–æˆ‘ä»¬çš„æ—¥æœŸã€‚</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="141a" class="la lb if mm b fv ni nj l nk nl">import moment from 'moment'<br/>  <br/>export const dateToYear = date =&gt; moment(date).format('YYYY')<br/>export const dateToMonth = date =&gt; moment(date).format('MMM YYYY')<br/>export const dateToWeek = date =&gt; moment(date).format('GGGG-[W]WW')<br/>export const dateToDay = date =&gt; moment(date).format('YYYY-MM-DD')<br/>export const dateBeautify = date =&gt; moment(date).format('Do MMMM YYYY')</span></pre><p id="8cf7" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">åœ¨æˆ‘ä»¬çš„<strong class="jw ig"> Start.vue </strong>ä¸­ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åˆ é™¤<code class="eh mj mk ml mm b">moment</code> importå¹¶å¯¼å…¥æˆ‘ä»¬çš„åŠ©æ‰‹æ¨¡å—ï¼Œå¹¶ç”¨å®ƒä»¬æ›¿æ¢momentè¯­å¥ã€‚(åœ¨æˆ‘ä»¬çš„<code class="eh mj mk ml mm b">_startPeriod</code>å’Œ<code class="eh mj mk ml mm b">_endPeriod</code>ã€‚æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªæ–°çš„è®¡ç®—å±æ€§ï¼Œå®ƒå°†æ›¿æ¢å›¾è¡¨å®¹å™¨ä¸­çš„<code class="eh mj mk ml mm b">period</code>ã€‚</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="07f0" class="la lb if mm b fv ni nj l nk nl">import { dateToYear, dateToDay, dateBeautify } from '../utils/dateFormatter'<br/>  <br/>  computed: {<br/>    _endDate () {<br/>      return dateToDay(this.periodEnd)<br/>    },<br/>    _startDate () {<br/>      return dateToDay(this.periodStart)<br/>    },<br/>    period () {<br/>      return this.periodStart ?  `${this._startDate}:${this._endDate}` : 'last-month'<br/>    },<br/>    formattedPeriod () {<br/>      return this.periodStart ? `${dateBeautify(this._startDate)} - ${dateBeautify(this._endDate)}` : 'last-month'<br/>    }<br/>  },</span></pre><figure class="mw mx my mz fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff np"><img src="../Images/612f2392a48d65f094c15ea99e760985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ms5y_4ltcsMvWTv6tedMGQ.png"/></div></div><figcaption class="na nb fg fe ff nc nd bd b be z ek">Chart with formattedPeriod in title</figcaption></figure><h2 id="8847" class="la lb if bd lc ld le lf lg lh li lj lk kd ll lm ln kh lo lp lq kl lr ls lt lu dt translated">æ˜¯æ—¶å€™è½¬å‹äº†</h2><p id="ced6" class="pw-post-body-paragraph ju jv if jw b jx lv jg jz ka lw jj kc kd lx kf kg kh ly kj kk kl lz kn ko kp hn dt translated">ç°åœ¨æˆ‘ä»¬åˆ›å»ºä¸‰ä¸ªæ–°çš„æ•°æ®æ¨¡å‹<code class="eh mj mk ml mm b">rawData</code>ï¼Œå®ƒä»¬å°†ä¿å­˜æˆ‘ä»¬ä»apiè°ƒç”¨<code class="eh mj mk ml mm b">downloadsYear: []</code>å’Œ<code class="eh mj mk ml mm b">labelsYear: []</code>ä¸­è·å¾—çš„ä¸‹è½½æ•°æ®ã€‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå«åš<code class="eh mj mk ml mm b">formatYear()</code>çš„æ–°æ–¹æ³•ã€‚</p><p id="917f" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">åœ¨æˆ‘ä»¬çš„axiosè¯·æ±‚æ‰¿è¯ºä¸­ï¼Œæˆ‘ä»¬ç„¶åå°†data.downloadsåˆ†é…ç»™<code class="eh mj mk ml mm b">rawData</code>å¹¶è°ƒç”¨<code class="eh mj mk ml mm b">formatYear()</code>ã€‚</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="d253" class="la lb if mm b fv ni nj l nk nl">axios.get(`https://api.npmjs.org/downloads/range/${this.period}/${this.package}`)<br/>    .then(response =&gt; {<br/>      this.rawData = response.data.downloads // ğŸ†•<br/>      this.downloads = response.data.downloads.map(entry =&gt; entry.downloads)<br/>      this.labels = response.data.downloads.map(entry =&gt; entry.day)<br/>      this.packageName = response.data.package<br/>      this.formatYear() // ğŸ†•<br/>      this.setURL()<br/>      this.loaded = true<br/>      <br/>    })</span></pre><p id="90cb" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">ç°åœ¨æˆ‘ä»¬å°†åˆ›å»ºä¸¤ä¸ªé¢å¤–çš„åŠ©æ‰‹æ–¹æ³•ã€‚å› ä¸ºæˆ‘ä»¬å¸Œæœ›å°†æ¥æœ‰ä¸åŒçš„æ•°æ®è½¬æ¢ã€‚æ¯”å¦‚æ¯å‘¨ç»Ÿè®¡å’Œæ¯æœˆç»Ÿè®¡ã€‚ä¸ºäº†ä¿æŒç»„ä»¶çš„æ•´æ´ï¼Œæˆ‘ä»¬å°†å®ƒä»¬æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</p><p id="7348" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">æ‰€ä»¥æˆ‘ä»¬åˆ›å»ºäº†æˆ‘ä»¬çš„<code class="eh mj mk ml mm b">src/utils/downloadFormatter.js</code>ï¼Œå®ƒå°†åŒ…å«ä¸¤ä¸ªæ–¹æ³•:</p><ol class=""><li id="8aa1" class="ma mb if jw b jx jy ka kb kd mc kh md kl me kp no mg mh mi dt translated">removeDuplicate (aï¼Œb) {..}</li><li id="7969" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp no mg mh mi dt translated">getDownloadsPerYear(data) {â€¦}</li></ol><p id="5857" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">åœ¨æˆ‘ä»¬çš„<strong class="jw ig"> Start.vue </strong>ä¸­ï¼Œæˆ‘ä»¬å¯¼å…¥äº†è¿™ä¸¤ä¸ªæ¨¡å—ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„<code class="eh mj mk ml mm b">formatYear()</code>æ–¹æ³•ä¸­ä½¿ç”¨å®ƒä»¬ã€‚</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="99af" class="la lb if mm b fv ni nj l nk nl">formatYear () {<br/>  this.labelsYear = this.rawData<br/>    .map(entry =&gt; dateToYear(entry.day))<br/>    .reduce(removeDuplicate, [])<br/>  this.downloadsYear = getDownloadsPerYear(this.rawData)<br/>},</span></pre><p id="48c2" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">ç°åœ¨æœ‰ç‚¹æ£˜æ‰‹äº†ã€‚é€šå¸¸æˆ‘ä¼šå†™ä¸‹æˆ‘çš„æ–¹æ³•ï¼Œç„¶åå†æ¸…ç†ã€‚ä¸è¿‡ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½è·Ÿæˆ‘åˆ°è¿™é‡Œã€‚</p><p id="cd7a" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">é¦–å…ˆæˆ‘ä»¬éœ€è¦å¾—åˆ°å¹´ä»½ï¼Œå¯¹å—ï¼Ÿå› æ­¤ï¼Œæˆ‘ä»¬å†æ¬¡ä½¿ç”¨<code class="eh mj mk ml mm b">map()</code>æ¥è·å–<code class="eh mj mk ml mm b">day</code>é”®ï¼Œå°±åƒæˆ‘ä»¬åœ¨è¯·æ±‚æ¯æ—¥ç»Ÿè®¡æ•°æ®æ—¶æ‰€åšçš„é‚£æ ·ã€‚ä½†æ˜¯ç°åœ¨æˆ‘ä»¬ç”¨æˆ‘ä»¬çš„<code class="eh mj mk ml mm b">dateToYear()</code>åŠ©æ‰‹æ¥æ ¼å¼åŒ–å®ƒã€‚æ‰€ä»¥ç°åœ¨æˆ‘ä»¬çš„æ•°æ®çœ‹èµ·æ¥åƒè¿™æ ·:</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="c948" class="la lb if mm b fv ni nj l nk nl">data: [<br/>{day: "2017", downloads: 16280},<br/>{day: "2017", downloads: 14280},<br/>{day: "2017", downloads: 17280}<br/>]</span></pre><p id="889a" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">ç°åœ¨æˆ‘ä»¬å°†ä½¿ç”¨<code class="eh mj mk ml mm b">reduce()</code>åˆ é™¤é‡å¤çš„å¹´ä»½ã€‚å› ä¸ºæˆ‘ä»¬çš„æ ‡ç­¾æ•°ç»„åªæœ‰å”¯ä¸€çš„å¹´ä»½ã€‚å› ä¸ºæˆ‘ä»¬å¯èƒ½ä¸æ­¢ä¸€æ¬¡ä½¿ç”¨å®ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å®ƒæå–åˆ°æˆ‘ä»¬çš„<code class="eh mj mk ml mm b">downloadFormatter.js</code></p><p id="5a69" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">åœ¨æˆ‘ä»¬çš„<strong class="jw ig"> downloadFormatter.js </strong>ä¸­ï¼Œæˆ‘ä»¬ç°åœ¨å®Œæˆäº†removeDuplicateå‡½æ•°ã€‚</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="2f42" class="la lb if mm b fv ni nj l nk nl">export function removeDuplicate (a, b) {<br/>    if (a.indexOf(b) &lt; 0) {<br/>      a.push(b)<br/>    }<br/>    return a<br/>  }</span></pre><p id="828d" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">ç°åœ¨æˆ‘ä»¬çš„<code class="eh mj mk ml mm b">this.labelYear</code>æ•°ç»„å°†åªåŒ…å«å”¯ä¸€çš„å¹´ä»½ã€‚æ˜¯æ—¶å€™å¯¹æˆ‘ä»¬çš„æ•°æ®è¿›è¡Œåˆ†ç»„å’Œè½¬æ¢äº†ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†å†æ¬¡ä½¿ç”¨<code class="eh mj mk ml mm b">map()</code>å’Œ<code class="eh mj mk ml mm b">reduce()</code>å’Œ<code class="eh mj mk ml mm b">filter()</code>ã€‚</p><p id="69f6" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated"><code class="eh mj mk ml mm b">rawData</code>çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="c51b" class="la lb if mm b fv ni nj l nk nl">data: [<br/>{day: "2017-04-18", downloads: 16280},<br/>{day: "2017-04-19", downloads: 14280},<br/>{day: "2017-04-20", downloads: 17280}<br/>]</span></pre><p id="2738" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">æ‰€ä»¥é¦–å…ˆæˆ‘ä»¬éœ€è¦å†æ¬¡æ‰¾åˆ°å”¯ä¸€çš„æ—¥æœŸã€‚æˆ‘ä»¬ç”¨<code class="eh mj mk ml mm b">reduce()</code>åšè¿™ä¸ªï¼Œç„¶åæˆ‘ä»¬æŠŠä¸€ä¸ª<code class="eh mj mk ml mm b">map()</code>é“¾æ¥åˆ°å®ƒï¼Œè¿”å›ä¸€ä¸ªå¸¦æœ‰æ—¥æœŸå’Œè¯¥æ—¥æœŸå†…çš„ä¸‹è½½çš„å¯¹è±¡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨é‚£é‡Œä½¿ç”¨<code class="eh mj mk ml mm b">filter()</code>å’Œæˆ‘ä»¬çš„<code class="eh mj mk ml mm b">dateToYear()</code>åŠ©æ‰‹ã€‚</p><p id="6c72" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">ç„¶è€Œï¼Œæˆ‘ä»¬çš„æ•°æ®ç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·:</p><figure class="mw mx my mz fq hw fe ff paragraph-image"><div class="fe ff nq"><img src="../Images/01f8c8d8bc3c71200d05747573a84c11.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*O49eVMPIRWNBVyZMoFExVA.png"/></div><figcaption class="na nb fg fe ff nc nd bd b be z ek">First reduce</figcaption></figure><p id="112d" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">ä½†æ˜¯å› ä¸ºæˆ‘ä»¬ç°åœ¨ä¸éœ€è¦æ—¥æœŸï¼Œæˆ‘ä»¬<code class="eh mj mk ml mm b">map</code>å®ƒåªç”¨äºä¸‹è½½ï¼Œç„¶åä½¿ç”¨<code class="eh mj mk ml mm b">reduce()</code>æ¥æ€»ç»“å®ƒã€‚ç°åœ¨æˆ‘ä»¬çš„å¯¹è±¡å°†åŒ…å«ä»Šå¹´æ‰€æœ‰ä¸‹è½½çš„æ€»å’Œã€‚ç„¶è€Œï¼Œå®ƒæ˜¯åµŒå¥—çš„ï¼Œæˆ‘ä»¬ä»ç„¶æœ‰æ—¥æœŸé”®ã€‚</p><figure class="mw mx my mz fq hw fe ff paragraph-image"><div class="fe ff nr"><img src="../Images/16e3d1f8cd32de0e6d81015d653dc004.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/format:webp/1*UwiR7ow8qxlBX3l1_sVbGA.png"/></div><figcaption class="na nb fg fe ff nc nd bd b be z ek">After map and second reduce</figcaption></figure><p id="0d66" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">ä½†æ˜¯æœ€åä¸€ä¸ª<code class="eh mj mk ml mm b">map()</code>ä¼šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="46fb" class="la lb if mm b fv ni nj l nk nl">export const getDownloadsPerYear = (data) =&gt; {<br/>    // Find unique dates<br/>    return data.reduce((date, current) =&gt; {<br/>      if (date.indexOf(dateToYear(current.day)) &lt; 0) {<br/>        date.push(dateToYear(current.day))<br/>      }<br/>      return date<br/>    }, [])<br/>      .map((date) =&gt; {<br/>        return {<br/>          date: date,<br/>          downloads: data.filter(el =&gt; dateToYear(el.day) === date)<br/>            .map(el =&gt; el.downloads)<br/>            .reduce((total, download) =&gt; total + download)<br/>        }<br/>      })<br/>      .map(element =&gt; element.downloads)<br/>  }</span></pre><h2 id="25a6" class="la lb if bd lc ld le lf lg lh li lj lk kd ll lm ln kh lo lp lq kl lr ls lt lu dt translated">å›¾è¡¨æ—¶é—´</h2><p id="5a25" class="pw-post-body-paragraph ju jv if jw b jx lv jg jz ka lw jj kc kd lx kf kg kh ly kj kk kl lz kn ko kp hn dt translated">ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†è½¬æ¢ï¼Œå¯ä»¥å¤åˆ¶ç¬¬ä¸€ä¸ªå›¾è¡¨çš„æ¨¡æ¿å¹¶ä¼ å…¥<code class="eh mj mk ml mm b">downloadsYear</code>é“å…·ã€‚</p><figure class="mw mx my mz fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ns"><img src="../Images/66bd730c403e9a535a8daede98123093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WgX8Fm5LSM_YnUZazTCPVw.png"/></div></div><figcaption class="na nb fg fe ff nc nd bd b be z ek">Downloads per Year Chart</figcaption></figure><p id="9657" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated"><strong class="jw ig">æ‚¨å¯ä»¥åœ¨æ­¤</strong> <a class="ae kz" href="https://github.com/apertureless/npm-stats/tree/feature/yearly_chart" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ig">ç‰¹å¾åˆ†æ”¯</strong> </a>æŸ¥çœ‹åˆ°ç›®å‰ä¸ºæ­¢çš„æºä»£ç </p><h2 id="3dcb" class="la lb if bd lc ld le lf lg lh li lj lk kd ll lm ln kh lo lp lq kl lr ls lt lu dt translated">ğŸ”¨é‡æ„å’Œæ›´å¤šå›¾è¡¨</h2><p id="7d99" class="pw-post-body-paragraph ju jv if jw b jx lv jg jz ka lw jj kc kd lx kf kg kh ly kj kk kl lz kn ko kp hn dt translated">ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†æ•°æ®è½¬æ¢å™¨ï¼Œæ·»åŠ æ–°å›¾è¡¨éå¸¸å®¹æ˜“ã€‚æ¯”å¦‚æ¯å‘¨ç»Ÿè®¡å’Œæ¯æœˆç»Ÿè®¡ã€‚æˆ‘ä»¬å¯ä»¥å¤åˆ¶æˆ‘ä»¬çš„<code class="eh mj mk ml mm b">getDownloadsPerYear()</code>æ–¹æ³•ï¼Œå¹¶å°†æˆ‘ä»¬çš„<code class="eh mj mk ml mm b">dateToYear()</code>åŠ©æ‰‹æ”¹ä¸º<code class="eh mj mk ml mm b">dateToMonth()</code>ã€‚ä½†æ˜¯ï¼Œè¿™ä¸æ˜¯å¾ˆå¹²ã€‚å› ä¸ºæˆ‘ä»¬æœ€ç»ˆä¼šæœ‰å¾ˆå¤šæ–¹æ³•åšç€å‡ ä¹ç›¸åŒçš„äº‹æƒ…ã€‚</p><p id="5c80" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">å› æ­¤ï¼Œè®©æˆ‘ä»¬å°†æˆ‘ä»¬ç‰¹å®šçš„<code class="eh mj mk ml mm b">getDownloadsPerYear()</code>æ–¹æ³•é‡æ„ä¸ºä¸€ä¸ªæ›´é€šç”¨çš„æ–¹æ³•ã€‚å”¯ä¸€ä¼šæ”¹å˜å®ƒçš„æ˜¯æˆ‘ä»¬çš„dateFormatteråŠ©æ‰‹ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥æŠŠå®ƒä½œä¸ºä¸€ä¸ªè®ºç‚¹ï¼Œä½ å¯ä»¥ä¼ é€’ç»™æˆ‘ä»¬çš„æ–¹æ³•ã€‚</p><ol class=""><li id="7227" class="ma mb if jw b jx jy ka kb kd mc kh md kl me kp no mg mh mi dt translated">å°†æˆ‘ä»¬çš„æ–¹æ³•é‡å‘½åä¸ºæ›´ä¸€èˆ¬çš„åç§°ï¼Œå¦‚<code class="eh mj mk ml mm b">groupData</code></li><li id="2e10" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp no mg mh mi dt translated">æ·»åŠ ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™å°†æ˜¯æˆ‘ä»¬çš„å¸®åŠ©å‡½æ•°</li><li id="9102" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp no mg mh mi dt">???</li><li id="5c8f" class="ma mb if jw b jx mn ka mo kd mp kh mq kl mr kp no mg mh mi dt translated">åˆ©æ¶¦ï¼</li></ol><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="8b87" class="la lb if mm b fv ni nj l nk nl">export const groupData = (data, dateFormatter) =&gt; {<br/>  return data.reduce((date, current) =&gt; {<br/>    if (date.indexOf(dateFormatter(current.day)) &lt; 0) {<br/>      date.push(dateFormatter(current.day))<br/>    }<br/>    return date<br/>  }, [])<br/>    .map((date) =&gt; {<br/>      return {<br/>        date: date,<br/>        downloads: data.filter(el =&gt; dateFormatter(el.day) === date)<br/>          .map(el =&gt; el.downloads)<br/>          .reduce((total, download) =&gt; total + download)<br/>      }<br/>    })<br/>    .map(element =&gt; element.downloads)<br/>}</span></pre><p id="5419" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">åœ¨æˆ‘ä»¬çš„<strong class="jw ig"> Start.vue </strong>ä¸­ï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦ä¼ é€’æˆ‘ä»¬çš„åŠ©æ‰‹å‡½æ•°ã€‚</p><pre class="mw mx my mz fq ne mm nf ng aw nh dt"><span id="0fe6" class="la lb if mm b fv ni nj l nk nl">this.downloadsYear = groupData(this.rawData, dateToYear)</span></pre><p id="f2fb" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">ç°åœ¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æˆ‘ä»¬çš„æœˆåº¦å’Œå‘¨æ•°æ®è¿™æ ·åšï¼Œåªéœ€äº¤æ¢æ‰<code class="eh mj mk ml mm b">dateToYear</code></p><p id="9ccb" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">æ‚¨å¯ä»¥åœ¨è¿™ä¸ª<a class="ae kz" href="https://github.com/apertureless/npm-stats/tree/feature/monthly_chart" rel="noopener ugc nofollow" target="_blank">ç‰¹æ€§åˆ†æ”¯</a>ä¸­æ‰¾åˆ°åˆ°ç›®å‰ä¸ºæ­¢çš„æºä»£ç ï¼Œå…¶ä¸­æ·»åŠ äº†ä¸€äº›å†…å®¹ï¼Œæ¯”å¦‚åŠ è½½æŒ‡ç¤ºå™¨å’Œå¦‚æœdatepickerå€¼å‘ç”Ÿæ›´æ”¹ï¼Œåˆ™é‡æ–°è·å–æ•°æ®ï¼Œæˆ‘åœ¨è¿™é‡Œæ²¡æœ‰ä»‹ç»ã€‚</p></div><div class="ab cl nt nu hc nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="hn ho hp hq hr"><blockquote class="oa ob oc"><p id="f7a5" class="ju jv nn jw b jx jy jg jz ka kb jj kc od ke kf kg oe ki kj kk of km kn ko kp hn dt translated">æˆ‘å¸Œæœ›ä½ å–œæ¬¢å®ƒå¹¶ä¸”å­¦åˆ°ä¸€äº›ä¸œè¥¿ã€‚è¯·éšæ—¶ç»™æˆ‘åé¦ˆï¼âœŒ</p><p id="a014" class="ju jv nn jw b jx jy jg jz ka kb jj kc od ke kf kg oe ki kj kk of km kn ko kp hn dt translated">ä½ å¯ä»¥åœ¨<a class="ae kz" href="https://www.twitter.com/apertureless" rel="noopener ugc nofollow" target="_blank"> twitter </a>å’Œ<a class="ae kz" href="https://github.com/apertureless" rel="noopener ugc nofollow" target="_blank"> github </a>ä¸Šå…³æ³¨æˆ‘ã€‚</p></blockquote><div class="mw mx my mz fq ab cb"><figure class="og hw oh oi oj ok ol paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="og hw oh oi oj ok ol paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="og hw oh oi oj ok ol paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="oa ob oc"><p id="f922" class="ju jv nn jw b jx jy jg jz ka kb jj kc od ke kf kg oe ki kj kk of km kn ko kp hn dt translated"><a class="ae kz" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">é»‘å®¢ä¸­åˆ</a>æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯<a class="ae kz" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨<a class="ae kz" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">æ¥å—æŠ•ç¨¿</a>ï¼Œå¹¶ä¹æ„<a class="ae kz" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">è®¨è®ºå¹¿å‘Š&amp;èµåŠ©</a>æœºä¼šã€‚</p><p id="708a" class="ju jv nn jw b jx jy jg jz ka kb jj kc od ke kf kg oe ki kj kk of km kn ko kp hn dt translated">å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„<a class="ae kz" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">æœ€æ–°ç§‘æŠ€æ•…äº‹</a>å’Œ<a class="ae kz" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">è¶‹åŠ¿ç§‘æŠ€æ•…äº‹</a>ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼</p></blockquote><figure class="mw mx my mz fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff om"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>