# Chrome æ‰©å±•å¼€å‘:ç»éªŒæ•™è®­

> åŸæ–‡ï¼š<https://medium.com/hackernoon/chrome-extension-development-lessons-learned-13feff93c9de>

æˆ‘æœ€è¿‘èŠ±äº†ä¸€ä¸ªæ™šä¸Šæ¥åšåŸºæœ¬çš„ Chrome æ‰©å±•ï¼Œå¹¶åœ¨æˆ‘çš„ Twitch ç¼–ç é¢‘é“ä¸Šæ’­æ”¾äº†æ•´ä¸ªè¿‡ç¨‹ã€‚

æˆ‘è®©[ä¼ é“äº†ï¼](https://chrome.google.com/webstore/detail/preach/ohobigchjhkjogkjmpaipkcfgjjhacah) â€”ä¸€ä¸ªç®€å•çš„æ‰©å±•ï¼Œå¸®åŠ©æ‚¨è·å¾—ğŸ‘ä½ çš„ğŸ‘è¦ç‚¹ğŸ‘ç©¿è¿‡ğŸ‘ã€‚

ä»¥ä¸‹æ˜¯æˆ‘ä¸€è·¯èµ°æ¥å­¦åˆ°çš„ä¸€äº›ä¸œè¥¿ï¼Œå¯¹äºä¸€ä¸ªç›¸å½“åˆçº§çš„ JavaScript å¼€å‘äººå‘˜æ¥è¯´ï¼Œè¿™äº›ä¸œè¥¿ä¼¼ä¹å¹¶ä¸æ˜æ˜¾ã€‚äº«å—å§ã€‚

## æ‚¨å¯ä»¥è°ƒè¯•æ‰©å±•

å®é™…ä¸Šå¯ä»¥é€šè¿‡ä½¿ç”¨â€œèƒŒæ™¯é¡µé¢â€æ¥è°ƒè¯•æ‰©å±•ã€‚ä¸ºæ­¤ï¼Œä½¿ç”¨ä¸åŠ è½½æ‰©å±•ç›¸åŒçš„æ‰©å±•é¡µé¢ï¼Œå¹¶ç®€å•åœ°ç‚¹å‡»*èƒŒæ™¯é¡µé¢*ã€‚

![](img/caac5cf155bb34722e26506d3fd5098a.png)

ä¸€æ—¦æ‰“å¼€ï¼Œä½ å°±æœ‰äº†å®Œæ•´çš„ Chrome æ£€æŸ¥å™¨æ¥æ‰¾åˆ°ä½ ç»å¯¹æ²¡æœ‰å¿˜è®°çš„åˆ†å·ã€‚

## åªæœ‰å†…å®¹è„šæœ¬å¯ä»¥ä¿®æ”¹ DOM

è¿™å®Œå…¨æœ‰é“ç†ï¼Œè€Œä¸”åšèµ·æ¥ç›¸å½“å®¹æ˜“ã€‚åªéœ€å°†æƒé™æ·»åŠ åˆ°æ‚¨çš„æ‰©å±•æ¸…å•ä¸­ã€‚è¿™å°†å®šä¹‰è¿™äº›åœ¨ä»€ä¹ˆé¡µé¢ä¸Šè¿è¡Œï¼Œåœ¨é¡µé¢ä¸­åµŒå…¥ä»€ä¹ˆæ–‡ä»¶ï¼Œä»¥åŠä½•æ—¶è¿è¡Œç›¸å…³çš„ JSã€‚

## ä½¿ç”¨ JS æ¶ˆæ¯ä¼ é€’å°†æ¶ˆæ¯ä»ä¸€ä¸ªä¼ é€’åˆ°å¦ä¸€ä¸ª

é‚£ä¹ˆå¦‚ä½•ä»æˆ‘çš„ background.js æˆ– popout.js å¯¹é¡µé¢ DOM è¿›è¡Œ DOM æ›´æ”¹å‘¢ï¼Ÿä½¿ç”¨ [JavaScript æ¶ˆæ¯ä¼ é€’](https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage)ã€‚è¿™ç§æŠ€æœ¯å…è®¸æ‚¨åœ¨ä¸Šä¸‹æ–‡ä¸­å‘å¸ƒæ¶ˆæ¯ï¼Œå¹¶åœ¨å…¶ä»–ä¸Šä¸‹æ–‡ä¸­æ¥æ”¶å®ƒä»¬ã€‚å¯¹äºæˆ‘çš„æ‰©å±•ï¼Œæˆ‘æƒ³æ¥æ”¶æ‰©å±•ç”Ÿæˆçš„ä¿®æ”¹æ–‡æœ¬ï¼Œå¹¶åœ¨å±å¹•ä¸Šæ˜¾ç¤ºä¸€ä¸ªè­¦å‘Š(ä¿®æ”¹ DOM)ã€‚

![](img/f5f6a369c12d5bd933ad74b582cd4c71.png)

The success dialog of ***Preach*!**

è¿™é‡Œæœ‰ä¸€ä¸ªåœ¨**ä¼ é“ä¸­å¦‚ä½•å·¥ä½œçš„ä¾‹å­ï¼**

## Chrome ç½‘ç»œå•†åº—åˆ—è¡¨ä¸æ˜¯å…è´¹çš„

æ²¡æœ‰ã€‚åŠ å…¥è°·æ­Œå¼€å‘è€…è®¡åˆ’çš„è´¹ç”¨æ˜¯ 5 ç¾å…ƒã€‚è¿™å¹¶ä¸å¥‡æ€ªï¼Œè€Œä¸”æ¯”è‹¹æœå¼€å‘è€…é¡¹ç›®ä¾¿å®œå¤šäº†ã€‚æˆ‘æ€€ç–‘ 5 ç¾å…ƒçš„è´¹ç”¨æœ‰åŠ©äºæ¶ˆé™¤åƒåœ¾é‚®ä»¶å’Œä½è´¨é‡çš„æ‰©å±•ã€‚ä½†è¿™å¹¶æ²¡æœ‰é˜»æ­¢æˆ‘ğŸ˜ğŸ˜…ã€‚

## Chrome æ‰©å±•åˆ—è¡¨å¾ˆå®¹æ˜“

è¯´çœŸçš„ï¼Œä¸€ä¸ªæ‰©å±•çš„æ•´ä¸ªåˆ—è¡¨è¿‡ç¨‹è¶…çº§ç®€å•ã€‚é™¤äº†åˆ¶ä½œ Chrome ç½‘ç»œå•†åº—èµ„äº§(3 å¼ å›¾ç‰‡)ï¼Œåˆ—å‡ºä¸€ä¸ªå…è´¹æ‰©å±•(è¯´æ•™æ˜¯å…è´¹çš„)çš„æ•´ä¸ªè¿‡ç¨‹çœŸçš„å¾ˆç®€å•ã€‚

## Chrome æ‰©å±•ç»Ÿè®¡éœ€è¦ä¸€æ®µæ—¶é—´

Chrome æ‰©å±•çš„ç»Ÿè®¡æ•°æ®(å¦‚æœä½ ä¸ä½¿ç”¨ Google Analytics)å¯èƒ½éœ€è¦å‡ å¤©æ‰èƒ½å‡ºæ¥ï¼Œå®ƒä»¬å°†ä¿æŒç±»ä¼¼çš„å»¶è¿Ÿã€‚å¾ˆçƒ¦ã€‚å¦‚æœä½ çœŸçš„å…³å¿ƒè¿™äº›çš„é€Ÿåº¦ï¼Œæˆ‘ä¼šæ¨è GAã€‚

æ€»çš„æ¥è¯´ï¼ŒChrome extension dev çœŸçš„å¾ˆå¥½ç©ã€‚å¦‚æœä½ æ˜¯ç¼–ç¨‹æ–°æ‰‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ï¼Œå†™ä¸€äº›å°ä¸œè¥¿ï¼Œå‘å¸ƒåˆ°è®¸å¤šå›½å®¶ï¼Œå¤šè¾¾ 10 äº¿äººï¼Œçœ‹çœ‹è°å–œæ¬¢å®ƒã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªè€å¸½ï¼Œè¿™æ˜¯ä¸€ä¸ªä¼Ÿå¤§è€Œç®€å•çš„æ–¹æ³•æ¥æŠ“ç—’â€œæˆ‘æƒ³èˆ¹èˆ¶çš„ä¸œè¥¿â€ã€‚å¯¹æˆ‘æ¥è¯´å½“ç„¶æ˜¯ã€‚

åœ¨è¿™é‡Œçœ‹æˆ‘ç ä¸Š Twitch:[](https://www.twitch.tv/samjarman)****ã€‚**ä½ ä¹Ÿå¯ä»¥åœ¨æ¨ç‰¹ä¸Šå…³æ³¨æˆ‘: **@samjarmanã€‚**è¿™ç¯‡æ–‡ç« æœ€åˆå‘è¡¨åœ¨[æˆ‘çš„åšå®¢](http://www.samjarman.co.nz/blog/chrome-extension-development-lessons-learned/)ä¸Šã€‚**

**æœ€åï¼Œæ„Ÿè°¢æœ¬å’Œé›…å„å¸ƒçš„å¸®åŠ©ã€‚æ²¡æœ‰ä½ æˆ‘åšä¸åˆ°ã€‚**

**[![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)****[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)****[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)**

> **[é»‘å®¢ä¸­åˆ](http://bit.ly/Hackernoon)æ˜¯é»‘å®¢å¦‚ä½•å¼€å§‹ä»–ä»¬çš„ä¸‹åˆã€‚æˆ‘ä»¬æ˜¯é˜¿å¦¹å®¶åº­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ç°åœ¨[æ¥å—æŠ•ç¨¿](http://bit.ly/hackernoonsubmission)å¹¶ä¹æ„[è®¨è®ºå¹¿å‘Š&èµåŠ©](mailto:partners@amipublications.com)æœºä¼šã€‚**
> 
> **å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæˆ‘ä»¬æ¨èä½ é˜…è¯»æˆ‘ä»¬çš„[æœ€æ–°ç§‘æŠ€æ•…äº‹](http://bit.ly/hackernoonlatestt)å’Œ[è¶‹åŠ¿ç§‘æŠ€æ•…äº‹](https://hackernoon.com/trending)ã€‚ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œä¸è¦æŠŠä¸–ç•Œçš„ç°å®æƒ³å½“ç„¶ï¼**

**![](img/be0ca55ba73a573dce11effb2ee80d56.png)**